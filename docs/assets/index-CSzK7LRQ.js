function cp(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function up(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ld={exports:{}},Gi={},cd={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ks=Symbol.for("react.element"),dp=Symbol.for("react.portal"),hp=Symbol.for("react.fragment"),fp=Symbol.for("react.strict_mode"),pp=Symbol.for("react.profiler"),mp=Symbol.for("react.provider"),gp=Symbol.for("react.context"),vp=Symbol.for("react.forward_ref"),yp=Symbol.for("react.suspense"),xp=Symbol.for("react.memo"),wp=Symbol.for("react.lazy"),mc=Symbol.iterator;function bp(e){return e===null||typeof e!="object"?null:(e=mc&&e[mc]||e["@@iterator"],typeof e=="function"?e:null)}var ud={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dd=Object.assign,hd={};function mn(e,t,r){this.props=e,this.context=t,this.refs=hd,this.updater=r||ud}mn.prototype.isReactComponent={};mn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};mn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function fd(){}fd.prototype=mn.prototype;function hl(e,t,r){this.props=e,this.context=t,this.refs=hd,this.updater=r||ud}var fl=hl.prototype=new fd;fl.constructor=hl;dd(fl,mn.prototype);fl.isPureReactComponent=!0;var gc=Array.isArray,pd=Object.prototype.hasOwnProperty,pl={current:null},md={key:!0,ref:!0,__self:!0,__source:!0};function gd(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)pd.call(t,n)&&!md.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:ks,type:e,key:i,ref:a,props:s,_owner:pl.current}}function _p(e,t){return{$$typeof:ks,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ml(e){return typeof e=="object"&&e!==null&&e.$$typeof===ks}function kp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var vc=/\/+/g;function wa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?kp(""+e.key):t.toString(36)}function ai(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ks:case dp:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+wa(a,0):n,gc(s)?(r="",e!=null&&(r=e.replace(vc,"$&/")+"/"),ai(s,t,r,"",function(u){return u})):s!=null&&(ml(s)&&(s=_p(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(vc,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",gc(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+wa(i,l);a+=ai(i,t,r,c,s)}else if(c=bp(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+wa(i,l++),a+=ai(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ls(e,t,r){if(e==null)return e;var n=[],s=0;return ai(e,n,"","",function(i){return t.call(r,i,s++)}),n}function jp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pe={current:null},oi={transition:null},Sp={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:oi,ReactCurrentOwner:pl};function vd(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:Ls,forEach:function(e,t,r){Ls(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ls(e,function(){t++}),t},toArray:function(e){return Ls(e,function(t){return t})||[]},only:function(e){if(!ml(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=mn;B.Fragment=hp;B.Profiler=pp;B.PureComponent=hl;B.StrictMode=fp;B.Suspense=yp;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sp;B.act=vd;B.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=dd({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=pl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)pd.call(t,c)&&!md.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:ks,type:e.type,key:s,ref:i,props:n,_owner:a}};B.createContext=function(e){return e={$$typeof:gp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mp,_context:e},e.Consumer=e};B.createElement=gd;B.createFactory=function(e){var t=gd.bind(null,e);return t.type=e,t};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:vp,render:e}};B.isValidElement=ml;B.lazy=function(e){return{$$typeof:wp,_payload:{_status:-1,_result:e},_init:jp}};B.memo=function(e,t){return{$$typeof:xp,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=oi.transition;oi.transition={};try{e()}finally{oi.transition=t}};B.unstable_act=vd;B.useCallback=function(e,t){return Pe.current.useCallback(e,t)};B.useContext=function(e){return Pe.current.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e){return Pe.current.useDeferredValue(e)};B.useEffect=function(e,t){return Pe.current.useEffect(e,t)};B.useId=function(){return Pe.current.useId()};B.useImperativeHandle=function(e,t,r){return Pe.current.useImperativeHandle(e,t,r)};B.useInsertionEffect=function(e,t){return Pe.current.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return Pe.current.useLayoutEffect(e,t)};B.useMemo=function(e,t){return Pe.current.useMemo(e,t)};B.useReducer=function(e,t,r){return Pe.current.useReducer(e,t,r)};B.useRef=function(e){return Pe.current.useRef(e)};B.useState=function(e){return Pe.current.useState(e)};B.useSyncExternalStore=function(e,t,r){return Pe.current.useSyncExternalStore(e,t,r)};B.useTransition=function(){return Pe.current.useTransition()};B.version="18.3.1";cd.exports=B;var k=cd.exports;const js=up(k),Np=cp({__proto__:null,default:js},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep=k,Cp=Symbol.for("react.element"),Tp=Symbol.for("react.fragment"),Pp=Object.prototype.hasOwnProperty,Rp=Ep.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Op={key:!0,ref:!0,__self:!0,__source:!0};function yd(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)Pp.call(t,n)&&!Op.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Cp,type:e,key:i,ref:a,props:s,_owner:Rp.current}}Gi.Fragment=Tp;Gi.jsx=yd;Gi.jsxs=yd;ld.exports=Gi;var o=ld.exports,to={},xd={exports:{}},qe={},wd={exports:{}},bd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,L){var M=C.length;C.push(L);e:for(;0<M;){var V=M-1>>>1,ge=C[V];if(0<s(ge,L))C[V]=L,C[M]=ge,M=V;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var L=C[0],M=C.pop();if(M!==L){C[0]=M;e:for(var V=0,ge=C.length,As=ge>>>1;V<As;){var sr=2*(V+1)-1,xa=C[sr],ir=sr+1,Is=C[ir];if(0>s(xa,M))ir<ge&&0>s(Is,xa)?(C[V]=Is,C[ir]=M,V=ir):(C[V]=xa,C[sr]=M,V=sr);else if(ir<ge&&0>s(Is,M))C[V]=Is,C[ir]=M,V=ir;else break e}}return L}function s(C,L){var M=C.sortIndex-L.sortIndex;return M!==0?M:C.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,v=!1,x=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(C){for(var L=r(u);L!==null;){if(L.callback===null)n(u);else if(L.startTime<=C)n(u),L.sortIndex=L.expirationTime,t(c,L);else break;L=r(u)}}function w(C){if(y=!1,p(C),!x)if(r(c)!==null)x=!0,Et(_);else{var L=r(u);L!==null&&Tr(w,L.startTime-C)}}function _(C,L){x=!1,y&&(y=!1,g(j),j=-1),v=!0;var M=f;try{for(p(L),h=r(c);h!==null&&(!(h.expirationTime>L)||C&&!X());){var V=h.callback;if(typeof V=="function"){h.callback=null,f=h.priorityLevel;var ge=V(h.expirationTime<=L);L=e.unstable_now(),typeof ge=="function"?h.callback=ge:h===r(c)&&n(c),p(L)}else n(c);h=r(c)}if(h!==null)var As=!0;else{var sr=r(u);sr!==null&&Tr(w,sr.startTime-L),As=!1}return As}finally{h=null,f=M,v=!1}}var S=!1,E=null,j=-1,P=5,O=-1;function X(){return!(e.unstable_now()-O<P)}function q(){if(E!==null){var C=e.unstable_now();O=C;var L=!0;try{L=E(!0,C)}finally{L?at():(S=!1,E=null)}}else S=!1}var at;if(typeof m=="function")at=function(){m(q)};else if(typeof MessageChannel<"u"){var nr=new MessageChannel,Os=nr.port2;nr.port1.onmessage=q,at=function(){Os.postMessage(null)}}else at=function(){b(q,0)};function Et(C){E=C,S||(S=!0,at())}function Tr(C,L){j=b(function(){C(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,Et(_))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(C){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var M=f;f=L;try{return C()}finally{f=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,L){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var M=f;f=C;try{return L()}finally{f=M}},e.unstable_scheduleCallback=function(C,L,M){var V=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?V+M:V):M=V,C){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=M+ge,C={id:d++,callback:L,priorityLevel:C,startTime:M,expirationTime:ge,sortIndex:-1},M>V?(C.sortIndex=M,t(u,C),r(c)===null&&C===r(u)&&(y?(g(j),j=-1):y=!0,Tr(w,M-V))):(C.sortIndex=ge,t(c,C),x||v||(x=!0,Et(_))),C},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(C){var L=f;return function(){var M=f;f=L;try{return C.apply(this,arguments)}finally{f=M}}}})(bd);wd.exports=bd;var Ap=wd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip=k,Be=Ap;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _d=new Set,Yn={};function Sr(e,t){ln(e,t),ln(e+"Capture",t)}function ln(e,t){for(Yn[e]=t,e=0;e<t.length;e++)_d.add(t[e])}var wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ro=Object.prototype.hasOwnProperty,Lp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yc={},xc={};function $p(e){return ro.call(xc,e)?!0:ro.call(yc,e)?!1:Lp.test(e)?xc[e]=!0:(yc[e]=!0,!1)}function Up(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Dp(e,t,r,n){if(t===null||typeof t>"u"||Up(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Re(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ke[e]=new Re(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ke[t]=new Re(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ke[e]=new Re(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ke[e]=new Re(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ke[e]=new Re(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ke[e]=new Re(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ke[e]=new Re(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ke[e]=new Re(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ke[e]=new Re(e,5,!1,e.toLowerCase(),null,!1,!1)});var gl=/[\-:]([a-z])/g;function vl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gl,vl);ke[t]=new Re(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gl,vl);ke[t]=new Re(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gl,vl);ke[t]=new Re(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ke[e]=new Re(e,1,!1,e.toLowerCase(),null,!1,!1)});ke.xlinkHref=new Re("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ke[e]=new Re(e,1,!1,e.toLowerCase(),null,!0,!0)});function yl(e,t,r,n){var s=ke.hasOwnProperty(t)?ke[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Dp(t,r,s,n)&&(r=null),n||s===null?$p(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var jt=Ip.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$s=Symbol.for("react.element"),Mr=Symbol.for("react.portal"),Fr=Symbol.for("react.fragment"),xl=Symbol.for("react.strict_mode"),no=Symbol.for("react.profiler"),kd=Symbol.for("react.provider"),jd=Symbol.for("react.context"),wl=Symbol.for("react.forward_ref"),so=Symbol.for("react.suspense"),io=Symbol.for("react.suspense_list"),bl=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),Sd=Symbol.for("react.offscreen"),wc=Symbol.iterator;function _n(e){return e===null||typeof e!="object"?null:(e=wc&&e[wc]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Object.assign,ba;function In(e){if(ba===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ba=t&&t[1]||""}return`
`+ba+e}var _a=!1;function ka(e,t){if(!e||_a)return"";_a=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{_a=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?In(e):""}function zp(e){switch(e.tag){case 5:return In(e.type);case 16:return In("Lazy");case 13:return In("Suspense");case 19:return In("SuspenseList");case 0:case 2:case 15:return e=ka(e.type,!1),e;case 11:return e=ka(e.type.render,!1),e;case 1:return e=ka(e.type,!0),e;default:return""}}function ao(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fr:return"Fragment";case Mr:return"Portal";case no:return"Profiler";case xl:return"StrictMode";case so:return"Suspense";case io:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case jd:return(e.displayName||"Context")+".Consumer";case kd:return(e._context.displayName||"Context")+".Provider";case wl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bl:return t=e.displayName||null,t!==null?t:ao(e.type)||"Memo";case Rt:t=e._payload,e=e._init;try{return ao(e(t))}catch{}}return null}function Mp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ao(t);case 8:return t===xl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Fp(e){var t=Nd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Us(e){e._valueTracker||(e._valueTracker=Fp(e))}function Ed(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Nd(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function yi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function oo(e,t){var r=t.checked;return ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function bc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Jt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Cd(e,t){t=t.checked,t!=null&&yl(e,"checked",t,!1)}function lo(e,t){Cd(e,t);var r=Jt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?co(e,t.type,r):t.hasOwnProperty("defaultValue")&&co(e,t.type,Jt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _c(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function co(e,t,r){(t!=="number"||yi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ln=Array.isArray;function Zr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Jt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function uo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(N(92));if(Ln(r)){if(1<r.length)throw Error(N(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Jt(r)}}function Td(e,t){var r=Jt(t.value),n=Jt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function jc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Pd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ho(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Pd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ds,Rd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ds=Ds||document.createElement("div"),Ds.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ds.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var zn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bp=["Webkit","ms","Moz","O"];Object.keys(zn).forEach(function(e){Bp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zn[t]=zn[e]})});function Od(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||zn.hasOwnProperty(e)&&zn[e]?(""+t).trim():t+"px"}function Ad(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Od(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var qp=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fo(e,t){if(t){if(qp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function po(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mo=null;function _l(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var go=null,en=null,tn=null;function Sc(e){if(e=Es(e)){if(typeof go!="function")throw Error(N(280));var t=e.stateNode;t&&(t=Zi(t),go(e.stateNode,e.type,t))}}function Id(e){en?tn?tn.push(e):tn=[e]:en=e}function Ld(){if(en){var e=en,t=tn;if(tn=en=null,Sc(e),t)for(e=0;e<t.length;e++)Sc(t[e])}}function $d(e,t){return e(t)}function Ud(){}var ja=!1;function Dd(e,t,r){if(ja)return e(t,r);ja=!0;try{return $d(e,t,r)}finally{ja=!1,(en!==null||tn!==null)&&(Ud(),Ld())}}function Zn(e,t){var r=e.stateNode;if(r===null)return null;var n=Zi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(N(231,t,typeof r));return r}var vo=!1;if(wt)try{var kn={};Object.defineProperty(kn,"passive",{get:function(){vo=!0}}),window.addEventListener("test",kn,kn),window.removeEventListener("test",kn,kn)}catch{vo=!1}function Wp(e,t,r,n,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Mn=!1,xi=null,wi=!1,yo=null,Vp={onError:function(e){Mn=!0,xi=e}};function Hp(e,t,r,n,s,i,a,l,c){Mn=!1,xi=null,Wp.apply(Vp,arguments)}function Kp(e,t,r,n,s,i,a,l,c){if(Hp.apply(this,arguments),Mn){if(Mn){var u=xi;Mn=!1,xi=null}else throw Error(N(198));wi||(wi=!0,yo=u)}}function Nr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function zd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Nc(e){if(Nr(e)!==e)throw Error(N(188))}function Gp(e){var t=e.alternate;if(!t){if(t=Nr(e),t===null)throw Error(N(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Nc(s),e;if(i===n)return Nc(s),t;i=i.sibling}throw Error(N(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(N(189))}}if(r.alternate!==n)throw Error(N(190))}if(r.tag!==3)throw Error(N(188));return r.stateNode.current===r?e:t}function Md(e){return e=Gp(e),e!==null?Fd(e):null}function Fd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Fd(e);if(t!==null)return t;e=e.sibling}return null}var Bd=Be.unstable_scheduleCallback,Ec=Be.unstable_cancelCallback,Jp=Be.unstable_shouldYield,Qp=Be.unstable_requestPaint,le=Be.unstable_now,Yp=Be.unstable_getCurrentPriorityLevel,kl=Be.unstable_ImmediatePriority,qd=Be.unstable_UserBlockingPriority,bi=Be.unstable_NormalPriority,Xp=Be.unstable_LowPriority,Wd=Be.unstable_IdlePriority,Ji=null,dt=null;function Zp(e){if(dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(Ji,e,void 0,(e.current.flags&128)===128)}catch{}}var nt=Math.clz32?Math.clz32:rm,em=Math.log,tm=Math.LN2;function rm(e){return e>>>=0,e===0?32:31-(em(e)/tm|0)|0}var zs=64,Ms=4194304;function $n(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _i(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=$n(l):(i&=a,i!==0&&(n=$n(i)))}else a=r&~s,a!==0?n=$n(a):i!==0&&(n=$n(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-nt(t),s=1<<r,n|=e[r],t&=~s;return n}function nm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sm(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-nt(i),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=nm(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function xo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Vd(){var e=zs;return zs<<=1,!(zs&4194240)&&(zs=64),e}function Sa(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ss(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-nt(t),e[t]=r}function im(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-nt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function jl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-nt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var H=0;function Hd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Kd,Sl,Gd,Jd,Qd,wo=!1,Fs=[],Mt=null,Ft=null,Bt=null,es=new Map,ts=new Map,It=[],am="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cc(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Ft=null;break;case"mouseover":case"mouseout":Bt=null;break;case"pointerover":case"pointerout":es.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ts.delete(t.pointerId)}}function jn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Es(t),t!==null&&Sl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function om(e,t,r,n,s){switch(t){case"focusin":return Mt=jn(Mt,e,t,r,n,s),!0;case"dragenter":return Ft=jn(Ft,e,t,r,n,s),!0;case"mouseover":return Bt=jn(Bt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return es.set(i,jn(es.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ts.set(i,jn(ts.get(i)||null,e,t,r,n,s)),!0}return!1}function Yd(e){var t=fr(e.target);if(t!==null){var r=Nr(t);if(r!==null){if(t=r.tag,t===13){if(t=zd(r),t!==null){e.blockedOn=t,Qd(e.priority,function(){Gd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function li(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=bo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);mo=n,r.target.dispatchEvent(n),mo=null}else return t=Es(r),t!==null&&Sl(t),e.blockedOn=r,!1;t.shift()}return!0}function Tc(e,t,r){li(e)&&r.delete(t)}function lm(){wo=!1,Mt!==null&&li(Mt)&&(Mt=null),Ft!==null&&li(Ft)&&(Ft=null),Bt!==null&&li(Bt)&&(Bt=null),es.forEach(Tc),ts.forEach(Tc)}function Sn(e,t){e.blockedOn===t&&(e.blockedOn=null,wo||(wo=!0,Be.unstable_scheduleCallback(Be.unstable_NormalPriority,lm)))}function rs(e){function t(s){return Sn(s,e)}if(0<Fs.length){Sn(Fs[0],e);for(var r=1;r<Fs.length;r++){var n=Fs[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Mt!==null&&Sn(Mt,e),Ft!==null&&Sn(Ft,e),Bt!==null&&Sn(Bt,e),es.forEach(t),ts.forEach(t),r=0;r<It.length;r++)n=It[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<It.length&&(r=It[0],r.blockedOn===null);)Yd(r),r.blockedOn===null&&It.shift()}var rn=jt.ReactCurrentBatchConfig,ki=!0;function cm(e,t,r,n){var s=H,i=rn.transition;rn.transition=null;try{H=1,Nl(e,t,r,n)}finally{H=s,rn.transition=i}}function um(e,t,r,n){var s=H,i=rn.transition;rn.transition=null;try{H=4,Nl(e,t,r,n)}finally{H=s,rn.transition=i}}function Nl(e,t,r,n){if(ki){var s=bo(e,t,r,n);if(s===null)La(e,t,n,ji,r),Cc(e,n);else if(om(s,e,t,r,n))n.stopPropagation();else if(Cc(e,n),t&4&&-1<am.indexOf(e)){for(;s!==null;){var i=Es(s);if(i!==null&&Kd(i),i=bo(e,t,r,n),i===null&&La(e,t,n,ji,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else La(e,t,n,null,r)}}var ji=null;function bo(e,t,r,n){if(ji=null,e=_l(n),e=fr(e),e!==null)if(t=Nr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=zd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ji=e,null}function Xd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yp()){case kl:return 1;case qd:return 4;case bi:case Xp:return 16;case Wd:return 536870912;default:return 16}default:return 16}}var Ut=null,El=null,ci=null;function Zd(){if(ci)return ci;var e,t=El,r=t.length,n,s="value"in Ut?Ut.value:Ut.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return ci=s.slice(e,1<n?1-n:void 0)}function ui(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bs(){return!0}function Pc(){return!1}function We(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Bs:Pc,this.isPropagationStopped=Pc,this}return ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Bs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Bs)},persist:function(){},isPersistent:Bs}),t}var gn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cl=We(gn),Ns=ie({},gn,{view:0,detail:0}),dm=We(Ns),Na,Ea,Nn,Qi=ie({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Nn&&(Nn&&e.type==="mousemove"?(Na=e.screenX-Nn.screenX,Ea=e.screenY-Nn.screenY):Ea=Na=0,Nn=e),Na)},movementY:function(e){return"movementY"in e?e.movementY:Ea}}),Rc=We(Qi),hm=ie({},Qi,{dataTransfer:0}),fm=We(hm),pm=ie({},Ns,{relatedTarget:0}),Ca=We(pm),mm=ie({},gn,{animationName:0,elapsedTime:0,pseudoElement:0}),gm=We(mm),vm=ie({},gn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ym=We(vm),xm=ie({},gn,{data:0}),Oc=We(xm),wm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_m={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function km(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_m[e])?!!t[e]:!1}function Tl(){return km}var jm=ie({},Ns,{key:function(e){if(e.key){var t=wm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ui(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tl,charCode:function(e){return e.type==="keypress"?ui(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ui(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sm=We(jm),Nm=ie({},Qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ac=We(Nm),Em=ie({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tl}),Cm=We(Em),Tm=ie({},gn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pm=We(Tm),Rm=ie({},Qi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Om=We(Rm),Am=[9,13,27,32],Pl=wt&&"CompositionEvent"in window,Fn=null;wt&&"documentMode"in document&&(Fn=document.documentMode);var Im=wt&&"TextEvent"in window&&!Fn,eh=wt&&(!Pl||Fn&&8<Fn&&11>=Fn),Ic=" ",Lc=!1;function th(e,t){switch(e){case"keyup":return Am.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Br=!1;function Lm(e,t){switch(e){case"compositionend":return rh(t);case"keypress":return t.which!==32?null:(Lc=!0,Ic);case"textInput":return e=t.data,e===Ic&&Lc?null:e;default:return null}}function $m(e,t){if(Br)return e==="compositionend"||!Pl&&th(e,t)?(e=Zd(),ci=El=Ut=null,Br=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return eh&&t.locale!=="ko"?null:t.data;default:return null}}var Um={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $c(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Um[e.type]:t==="textarea"}function nh(e,t,r,n){Id(n),t=Si(t,"onChange"),0<t.length&&(r=new Cl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Bn=null,ns=null;function Dm(e){ph(e,0)}function Yi(e){var t=Vr(e);if(Ed(t))return e}function zm(e,t){if(e==="change")return t}var sh=!1;if(wt){var Ta;if(wt){var Pa="oninput"in document;if(!Pa){var Uc=document.createElement("div");Uc.setAttribute("oninput","return;"),Pa=typeof Uc.oninput=="function"}Ta=Pa}else Ta=!1;sh=Ta&&(!document.documentMode||9<document.documentMode)}function Dc(){Bn&&(Bn.detachEvent("onpropertychange",ih),ns=Bn=null)}function ih(e){if(e.propertyName==="value"&&Yi(ns)){var t=[];nh(t,ns,e,_l(e)),Dd(Dm,t)}}function Mm(e,t,r){e==="focusin"?(Dc(),Bn=t,ns=r,Bn.attachEvent("onpropertychange",ih)):e==="focusout"&&Dc()}function Fm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yi(ns)}function Bm(e,t){if(e==="click")return Yi(t)}function qm(e,t){if(e==="input"||e==="change")return Yi(t)}function Wm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var it=typeof Object.is=="function"?Object.is:Wm;function ss(e,t){if(it(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ro.call(t,s)||!it(e[s],t[s]))return!1}return!0}function zc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mc(e,t){var r=zc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=zc(r)}}function ah(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ah(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function oh(){for(var e=window,t=yi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=yi(e.document)}return t}function Rl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Vm(e){var t=oh(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ah(r.ownerDocument.documentElement,r)){if(n!==null&&Rl(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Mc(r,i);var a=Mc(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Hm=wt&&"documentMode"in document&&11>=document.documentMode,qr=null,_o=null,qn=null,ko=!1;function Fc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ko||qr==null||qr!==yi(n)||(n=qr,"selectionStart"in n&&Rl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),qn&&ss(qn,n)||(qn=n,n=Si(_o,"onSelect"),0<n.length&&(t=new Cl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=qr)))}function qs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Wr={animationend:qs("Animation","AnimationEnd"),animationiteration:qs("Animation","AnimationIteration"),animationstart:qs("Animation","AnimationStart"),transitionend:qs("Transition","TransitionEnd")},Ra={},lh={};wt&&(lh=document.createElement("div").style,"AnimationEvent"in window||(delete Wr.animationend.animation,delete Wr.animationiteration.animation,delete Wr.animationstart.animation),"TransitionEvent"in window||delete Wr.transitionend.transition);function Xi(e){if(Ra[e])return Ra[e];if(!Wr[e])return e;var t=Wr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in lh)return Ra[e]=t[r];return e}var ch=Xi("animationend"),uh=Xi("animationiteration"),dh=Xi("animationstart"),hh=Xi("transitionend"),fh=new Map,Bc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yt(e,t){fh.set(e,t),Sr(t,[e])}for(var Oa=0;Oa<Bc.length;Oa++){var Aa=Bc[Oa],Km=Aa.toLowerCase(),Gm=Aa[0].toUpperCase()+Aa.slice(1);Yt(Km,"on"+Gm)}Yt(ch,"onAnimationEnd");Yt(uh,"onAnimationIteration");Yt(dh,"onAnimationStart");Yt("dblclick","onDoubleClick");Yt("focusin","onFocus");Yt("focusout","onBlur");Yt(hh,"onTransitionEnd");ln("onMouseEnter",["mouseout","mouseover"]);ln("onMouseLeave",["mouseout","mouseover"]);ln("onPointerEnter",["pointerout","pointerover"]);ln("onPointerLeave",["pointerout","pointerover"]);Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Un="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Un));function qc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Kp(n,t,void 0,e),e.currentTarget=null}function ph(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;qc(s,l,u),i=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;qc(s,l,u),i=c}}}if(wi)throw e=yo,wi=!1,yo=null,e}function Q(e,t){var r=t[Co];r===void 0&&(r=t[Co]=new Set);var n=e+"__bubble";r.has(n)||(mh(t,e,2,!1),r.add(n))}function Ia(e,t,r){var n=0;t&&(n|=4),mh(r,e,n,t)}var Ws="_reactListening"+Math.random().toString(36).slice(2);function is(e){if(!e[Ws]){e[Ws]=!0,_d.forEach(function(r){r!=="selectionchange"&&(Jm.has(r)||Ia(r,!1,e),Ia(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ws]||(t[Ws]=!0,Ia("selectionchange",!1,t))}}function mh(e,t,r,n){switch(Xd(t)){case 1:var s=cm;break;case 4:s=um;break;default:s=Nl}r=s.bind(null,t,r,e),s=void 0,!vo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function La(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=fr(l),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}l=l.parentNode}}n=n.return}Dd(function(){var u=i,d=_l(r),h=[];e:{var f=fh.get(e);if(f!==void 0){var v=Cl,x=e;switch(e){case"keypress":if(ui(r)===0)break e;case"keydown":case"keyup":v=Sm;break;case"focusin":x="focus",v=Ca;break;case"focusout":x="blur",v=Ca;break;case"beforeblur":case"afterblur":v=Ca;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Rc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=fm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Cm;break;case ch:case uh:case dh:v=gm;break;case hh:v=Pm;break;case"scroll":v=dm;break;case"wheel":v=Om;break;case"copy":case"cut":case"paste":v=ym;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ac}var y=(t&4)!==0,b=!y&&e==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var m=u,p;m!==null;){p=m;var w=p.stateNode;if(p.tag===5&&w!==null&&(p=w,g!==null&&(w=Zn(m,g),w!=null&&y.push(as(m,w,p)))),b)break;m=m.return}0<y.length&&(f=new v(f,x,null,r,d),h.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",f&&r!==mo&&(x=r.relatedTarget||r.fromElement)&&(fr(x)||x[bt]))break e;if((v||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,v?(x=r.relatedTarget||r.toElement,v=u,x=x?fr(x):null,x!==null&&(b=Nr(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=u),v!==x)){if(y=Rc,w="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(y=Ac,w="onPointerLeave",g="onPointerEnter",m="pointer"),b=v==null?f:Vr(v),p=x==null?f:Vr(x),f=new y(w,m+"leave",v,r,d),f.target=b,f.relatedTarget=p,w=null,fr(d)===u&&(y=new y(g,m+"enter",x,r,d),y.target=p,y.relatedTarget=b,w=y),b=w,v&&x)t:{for(y=v,g=x,m=0,p=y;p;p=Pr(p))m++;for(p=0,w=g;w;w=Pr(w))p++;for(;0<m-p;)y=Pr(y),m--;for(;0<p-m;)g=Pr(g),p--;for(;m--;){if(y===g||g!==null&&y===g.alternate)break t;y=Pr(y),g=Pr(g)}y=null}else y=null;v!==null&&Wc(h,f,v,y,!1),x!==null&&b!==null&&Wc(h,b,x,y,!0)}}e:{if(f=u?Vr(u):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var _=zm;else if($c(f))if(sh)_=qm;else{_=Fm;var S=Mm}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=Bm);if(_&&(_=_(e,u))){nh(h,_,r,d);break e}S&&S(e,f,u),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&co(f,"number",f.value)}switch(S=u?Vr(u):window,e){case"focusin":($c(S)||S.contentEditable==="true")&&(qr=S,_o=u,qn=null);break;case"focusout":qn=_o=qr=null;break;case"mousedown":ko=!0;break;case"contextmenu":case"mouseup":case"dragend":ko=!1,Fc(h,r,d);break;case"selectionchange":if(Hm)break;case"keydown":case"keyup":Fc(h,r,d)}var E;if(Pl)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Br?th(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(eh&&r.locale!=="ko"&&(Br||j!=="onCompositionStart"?j==="onCompositionEnd"&&Br&&(E=Zd()):(Ut=d,El="value"in Ut?Ut.value:Ut.textContent,Br=!0)),S=Si(u,j),0<S.length&&(j=new Oc(j,e,null,r,d),h.push({event:j,listeners:S}),E?j.data=E:(E=rh(r),E!==null&&(j.data=E)))),(E=Im?Lm(e,r):$m(e,r))&&(u=Si(u,"onBeforeInput"),0<u.length&&(d=new Oc("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=E))}ph(h,t)})}function as(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Si(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Zn(e,r),i!=null&&n.unshift(as(e,i,s)),i=Zn(e,t),i!=null&&n.push(as(e,i,s))),e=e.return}return n}function Pr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wc(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Zn(r,i),c!=null&&a.unshift(as(r,c,l))):s||(c=Zn(r,i),c!=null&&a.push(as(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var Qm=/\r\n?/g,Ym=/\u0000|\uFFFD/g;function Vc(e){return(typeof e=="string"?e:""+e).replace(Qm,`
`).replace(Ym,"")}function Vs(e,t,r){if(t=Vc(t),Vc(e)!==t&&r)throw Error(N(425))}function Ni(){}var jo=null,So=null;function No(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Eo=typeof setTimeout=="function"?setTimeout:void 0,Xm=typeof clearTimeout=="function"?clearTimeout:void 0,Hc=typeof Promise=="function"?Promise:void 0,Zm=typeof queueMicrotask=="function"?queueMicrotask:typeof Hc<"u"?function(e){return Hc.resolve(null).then(e).catch(eg)}:Eo;function eg(e){setTimeout(function(){throw e})}function $a(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),rs(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);rs(t)}function qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Kc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var vn=Math.random().toString(36).slice(2),ct="__reactFiber$"+vn,os="__reactProps$"+vn,bt="__reactContainer$"+vn,Co="__reactEvents$"+vn,tg="__reactListeners$"+vn,rg="__reactHandles$"+vn;function fr(e){var t=e[ct];if(t)return t;for(var r=e.parentNode;r;){if(t=r[bt]||r[ct]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Kc(e);e!==null;){if(r=e[ct])return r;e=Kc(e)}return t}e=r,r=e.parentNode}return null}function Es(e){return e=e[ct]||e[bt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function Zi(e){return e[os]||null}var To=[],Hr=-1;function Xt(e){return{current:e}}function Y(e){0>Hr||(e.current=To[Hr],To[Hr]=null,Hr--)}function G(e,t){Hr++,To[Hr]=e.current,e.current=t}var Qt={},Ee=Xt(Qt),Ie=Xt(!1),wr=Qt;function cn(e,t){var r=e.type.contextTypes;if(!r)return Qt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Le(e){return e=e.childContextTypes,e!=null}function Ei(){Y(Ie),Y(Ee)}function Gc(e,t,r){if(Ee.current!==Qt)throw Error(N(168));G(Ee,t),G(Ie,r)}function gh(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(N(108,Mp(e)||"Unknown",s));return ie({},r,n)}function Ci(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qt,wr=Ee.current,G(Ee,e),G(Ie,Ie.current),!0}function Jc(e,t,r){var n=e.stateNode;if(!n)throw Error(N(169));r?(e=gh(e,t,wr),n.__reactInternalMemoizedMergedChildContext=e,Y(Ie),Y(Ee),G(Ee,e)):Y(Ie),G(Ie,r)}var gt=null,ea=!1,Ua=!1;function vh(e){gt===null?gt=[e]:gt.push(e)}function ng(e){ea=!0,vh(e)}function Zt(){if(!Ua&&gt!==null){Ua=!0;var e=0,t=H;try{var r=gt;for(H=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}gt=null,ea=!1}catch(s){throw gt!==null&&(gt=gt.slice(e+1)),Bd(kl,Zt),s}finally{H=t,Ua=!1}}return null}var Kr=[],Gr=0,Ti=null,Pi=0,Ve=[],He=0,br=null,vt=1,yt="";function lr(e,t){Kr[Gr++]=Pi,Kr[Gr++]=Ti,Ti=e,Pi=t}function yh(e,t,r){Ve[He++]=vt,Ve[He++]=yt,Ve[He++]=br,br=e;var n=vt;e=yt;var s=32-nt(n)-1;n&=~(1<<s),r+=1;var i=32-nt(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,vt=1<<32-nt(t)+s|r<<s|n,yt=i+e}else vt=1<<i|r<<s|n,yt=e}function Ol(e){e.return!==null&&(lr(e,1),yh(e,1,0))}function Al(e){for(;e===Ti;)Ti=Kr[--Gr],Kr[Gr]=null,Pi=Kr[--Gr],Kr[Gr]=null;for(;e===br;)br=Ve[--He],Ve[He]=null,yt=Ve[--He],Ve[He]=null,vt=Ve[--He],Ve[He]=null}var Fe=null,Me=null,ee=!1,rt=null;function xh(e,t){var r=Ke(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Qc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Fe=e,Me=qt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Fe=e,Me=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=br!==null?{id:vt,overflow:yt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ke(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Fe=e,Me=null,!0):!1;default:return!1}}function Po(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ro(e){if(ee){var t=Me;if(t){var r=t;if(!Qc(e,t)){if(Po(e))throw Error(N(418));t=qt(r.nextSibling);var n=Fe;t&&Qc(e,t)?xh(n,r):(e.flags=e.flags&-4097|2,ee=!1,Fe=e)}}else{if(Po(e))throw Error(N(418));e.flags=e.flags&-4097|2,ee=!1,Fe=e}}}function Yc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fe=e}function Hs(e){if(e!==Fe)return!1;if(!ee)return Yc(e),ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!No(e.type,e.memoizedProps)),t&&(t=Me)){if(Po(e))throw wh(),Error(N(418));for(;t;)xh(e,t),t=qt(t.nextSibling)}if(Yc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Me=qt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Me=null}}else Me=Fe?qt(e.stateNode.nextSibling):null;return!0}function wh(){for(var e=Me;e;)e=qt(e.nextSibling)}function un(){Me=Fe=null,ee=!1}function Il(e){rt===null?rt=[e]:rt.push(e)}var sg=jt.ReactCurrentBatchConfig;function En(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(N(309));var n=r.stateNode}if(!n)throw Error(N(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(N(284));if(!r._owner)throw Error(N(290,e))}return e}function Ks(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xc(e){var t=e._init;return t(e._payload)}function bh(e){function t(g,m){if(e){var p=g.deletions;p===null?(g.deletions=[m],g.flags|=16):p.push(m)}}function r(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function n(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=Kt(g,m),g.index=0,g.sibling=null,g}function i(g,m,p){return g.index=p,e?(p=g.alternate,p!==null?(p=p.index,p<m?(g.flags|=2,m):p):(g.flags|=2,m)):(g.flags|=1048576,m)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,m,p,w){return m===null||m.tag!==6?(m=Wa(p,g.mode,w),m.return=g,m):(m=s(m,p),m.return=g,m)}function c(g,m,p,w){var _=p.type;return _===Fr?d(g,m,p.props.children,w,p.key):m!==null&&(m.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Rt&&Xc(_)===m.type)?(w=s(m,p.props),w.ref=En(g,m,p),w.return=g,w):(w=vi(p.type,p.key,p.props,null,g.mode,w),w.ref=En(g,m,p),w.return=g,w)}function u(g,m,p,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==p.containerInfo||m.stateNode.implementation!==p.implementation?(m=Va(p,g.mode,w),m.return=g,m):(m=s(m,p.children||[]),m.return=g,m)}function d(g,m,p,w,_){return m===null||m.tag!==7?(m=yr(p,g.mode,w,_),m.return=g,m):(m=s(m,p),m.return=g,m)}function h(g,m,p){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Wa(""+m,g.mode,p),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case $s:return p=vi(m.type,m.key,m.props,null,g.mode,p),p.ref=En(g,null,m),p.return=g,p;case Mr:return m=Va(m,g.mode,p),m.return=g,m;case Rt:var w=m._init;return h(g,w(m._payload),p)}if(Ln(m)||_n(m))return m=yr(m,g.mode,p,null),m.return=g,m;Ks(g,m)}return null}function f(g,m,p,w){var _=m!==null?m.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return _!==null?null:l(g,m,""+p,w);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case $s:return p.key===_?c(g,m,p,w):null;case Mr:return p.key===_?u(g,m,p,w):null;case Rt:return _=p._init,f(g,m,_(p._payload),w)}if(Ln(p)||_n(p))return _!==null?null:d(g,m,p,w,null);Ks(g,p)}return null}function v(g,m,p,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(p)||null,l(m,g,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case $s:return g=g.get(w.key===null?p:w.key)||null,c(m,g,w,_);case Mr:return g=g.get(w.key===null?p:w.key)||null,u(m,g,w,_);case Rt:var S=w._init;return v(g,m,p,S(w._payload),_)}if(Ln(w)||_n(w))return g=g.get(p)||null,d(m,g,w,_,null);Ks(m,w)}return null}function x(g,m,p,w){for(var _=null,S=null,E=m,j=m=0,P=null;E!==null&&j<p.length;j++){E.index>j?(P=E,E=null):P=E.sibling;var O=f(g,E,p[j],w);if(O===null){E===null&&(E=P);break}e&&E&&O.alternate===null&&t(g,E),m=i(O,m,j),S===null?_=O:S.sibling=O,S=O,E=P}if(j===p.length)return r(g,E),ee&&lr(g,j),_;if(E===null){for(;j<p.length;j++)E=h(g,p[j],w),E!==null&&(m=i(E,m,j),S===null?_=E:S.sibling=E,S=E);return ee&&lr(g,j),_}for(E=n(g,E);j<p.length;j++)P=v(E,g,j,p[j],w),P!==null&&(e&&P.alternate!==null&&E.delete(P.key===null?j:P.key),m=i(P,m,j),S===null?_=P:S.sibling=P,S=P);return e&&E.forEach(function(X){return t(g,X)}),ee&&lr(g,j),_}function y(g,m,p,w){var _=_n(p);if(typeof _!="function")throw Error(N(150));if(p=_.call(p),p==null)throw Error(N(151));for(var S=_=null,E=m,j=m=0,P=null,O=p.next();E!==null&&!O.done;j++,O=p.next()){E.index>j?(P=E,E=null):P=E.sibling;var X=f(g,E,O.value,w);if(X===null){E===null&&(E=P);break}e&&E&&X.alternate===null&&t(g,E),m=i(X,m,j),S===null?_=X:S.sibling=X,S=X,E=P}if(O.done)return r(g,E),ee&&lr(g,j),_;if(E===null){for(;!O.done;j++,O=p.next())O=h(g,O.value,w),O!==null&&(m=i(O,m,j),S===null?_=O:S.sibling=O,S=O);return ee&&lr(g,j),_}for(E=n(g,E);!O.done;j++,O=p.next())O=v(E,g,j,O.value,w),O!==null&&(e&&O.alternate!==null&&E.delete(O.key===null?j:O.key),m=i(O,m,j),S===null?_=O:S.sibling=O,S=O);return e&&E.forEach(function(q){return t(g,q)}),ee&&lr(g,j),_}function b(g,m,p,w){if(typeof p=="object"&&p!==null&&p.type===Fr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case $s:e:{for(var _=p.key,S=m;S!==null;){if(S.key===_){if(_=p.type,_===Fr){if(S.tag===7){r(g,S.sibling),m=s(S,p.props.children),m.return=g,g=m;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Rt&&Xc(_)===S.type){r(g,S.sibling),m=s(S,p.props),m.ref=En(g,S,p),m.return=g,g=m;break e}r(g,S);break}else t(g,S);S=S.sibling}p.type===Fr?(m=yr(p.props.children,g.mode,w,p.key),m.return=g,g=m):(w=vi(p.type,p.key,p.props,null,g.mode,w),w.ref=En(g,m,p),w.return=g,g=w)}return a(g);case Mr:e:{for(S=p.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===p.containerInfo&&m.stateNode.implementation===p.implementation){r(g,m.sibling),m=s(m,p.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else t(g,m);m=m.sibling}m=Va(p,g.mode,w),m.return=g,g=m}return a(g);case Rt:return S=p._init,b(g,m,S(p._payload),w)}if(Ln(p))return x(g,m,p,w);if(_n(p))return y(g,m,p,w);Ks(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,m!==null&&m.tag===6?(r(g,m.sibling),m=s(m,p),m.return=g,g=m):(r(g,m),m=Wa(p,g.mode,w),m.return=g,g=m),a(g)):r(g,m)}return b}var dn=bh(!0),_h=bh(!1),Ri=Xt(null),Oi=null,Jr=null,Ll=null;function $l(){Ll=Jr=Oi=null}function Ul(e){var t=Ri.current;Y(Ri),e._currentValue=t}function Oo(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function nn(e,t){Oi=e,Ll=Jr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ae=!0),e.firstContext=null)}function Je(e){var t=e._currentValue;if(Ll!==e)if(e={context:e,memoizedValue:t,next:null},Jr===null){if(Oi===null)throw Error(N(308));Jr=e,Oi.dependencies={lanes:0,firstContext:e}}else Jr=Jr.next=e;return t}var pr=null;function Dl(e){pr===null?pr=[e]:pr.push(e)}function kh(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Dl(t)):(r.next=s.next,s.next=r),t.interleaved=r,_t(e,n)}function _t(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ot=!1;function zl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,W&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,_t(e,r)}return s=n.interleaved,s===null?(t.next=t,Dl(n)):(t.next=s.next,s.next=t),n.interleaved=t,_t(e,r)}function di(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,jl(e,r)}}function Zc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ai(e,t,r,n){var s=e.updateQueue;Ot=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,l=i;do{var f=l.lane,v=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,y=l;switch(f=t,v=r,y.tag){case 1:if(x=y.payload,typeof x=="function"){h=x.call(v,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,f=typeof x=="function"?x.call(v,h,f):x,f==null)break e;h=ie({},h,f);break e;case 2:Ot=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else v={eventTime:v,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=v,c=h):d=d.next=v,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);kr|=a,e.lanes=a,e.memoizedState=h}}function eu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(N(191,s));s.call(n)}}}var Cs={},ht=Xt(Cs),ls=Xt(Cs),cs=Xt(Cs);function mr(e){if(e===Cs)throw Error(N(174));return e}function Ml(e,t){switch(G(cs,t),G(ls,e),G(ht,Cs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ho(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ho(t,e)}Y(ht),G(ht,t)}function hn(){Y(ht),Y(ls),Y(cs)}function Sh(e){mr(cs.current);var t=mr(ht.current),r=ho(t,e.type);t!==r&&(G(ls,e),G(ht,r))}function Fl(e){ls.current===e&&(Y(ht),Y(ls))}var re=Xt(0);function Ii(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Da=[];function Bl(){for(var e=0;e<Da.length;e++)Da[e]._workInProgressVersionPrimary=null;Da.length=0}var hi=jt.ReactCurrentDispatcher,za=jt.ReactCurrentBatchConfig,_r=0,se=null,fe=null,ve=null,Li=!1,Wn=!1,us=0,ig=0;function je(){throw Error(N(321))}function ql(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!it(e[r],t[r]))return!1;return!0}function Wl(e,t,r,n,s,i){if(_r=i,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hi.current=e===null||e.memoizedState===null?cg:ug,e=r(n,s),Wn){i=0;do{if(Wn=!1,us=0,25<=i)throw Error(N(301));i+=1,ve=fe=null,t.updateQueue=null,hi.current=dg,e=r(n,s)}while(Wn)}if(hi.current=$i,t=fe!==null&&fe.next!==null,_r=0,ve=fe=se=null,Li=!1,t)throw Error(N(300));return e}function Vl(){var e=us!==0;return us=0,e}function lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?se.memoizedState=ve=e:ve=ve.next=e,ve}function Qe(){if(fe===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=fe.next;var t=ve===null?se.memoizedState:ve.next;if(t!==null)ve=t,fe=e;else{if(e===null)throw Error(N(310));fe=e,e={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},ve===null?se.memoizedState=ve=e:ve=ve.next=e}return ve}function ds(e,t){return typeof t=="function"?t(e):t}function Ma(e){var t=Qe(),r=t.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=e;var n=fe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((_r&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=n):c=c.next=h,se.lanes|=d,kr|=d}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=l,it(n,t.memoizedState)||(Ae=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,se.lanes|=i,kr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Fa(e){var t=Qe(),r=t.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);it(i,t.memoizedState)||(Ae=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Nh(){}function Eh(e,t){var r=se,n=Qe(),s=t(),i=!it(n.memoizedState,s);if(i&&(n.memoizedState=s,Ae=!0),n=n.queue,Hl(Ph.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ve!==null&&ve.memoizedState.tag&1){if(r.flags|=2048,hs(9,Th.bind(null,r,n,s,t),void 0,null),ye===null)throw Error(N(349));_r&30||Ch(r,t,s)}return s}function Ch(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Th(e,t,r,n){t.value=r,t.getSnapshot=n,Rh(t)&&Oh(e)}function Ph(e,t,r){return r(function(){Rh(t)&&Oh(e)})}function Rh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!it(e,r)}catch{return!0}}function Oh(e){var t=_t(e,1);t!==null&&st(t,e,1,-1)}function tu(e){var t=lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:e},t.queue=e,e=e.dispatch=lg.bind(null,se,e),[t.memoizedState,e]}function hs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Ah(){return Qe().memoizedState}function fi(e,t,r,n){var s=lt();se.flags|=e,s.memoizedState=hs(1|t,r,void 0,n===void 0?null:n)}function ta(e,t,r,n){var s=Qe();n=n===void 0?null:n;var i=void 0;if(fe!==null){var a=fe.memoizedState;if(i=a.destroy,n!==null&&ql(n,a.deps)){s.memoizedState=hs(t,r,i,n);return}}se.flags|=e,s.memoizedState=hs(1|t,r,i,n)}function ru(e,t){return fi(8390656,8,e,t)}function Hl(e,t){return ta(2048,8,e,t)}function Ih(e,t){return ta(4,2,e,t)}function Lh(e,t){return ta(4,4,e,t)}function $h(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Uh(e,t,r){return r=r!=null?r.concat([e]):null,ta(4,4,$h.bind(null,t,e),r)}function Kl(){}function Dh(e,t){var r=Qe();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ql(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function zh(e,t){var r=Qe();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ql(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Mh(e,t,r){return _r&21?(it(r,t)||(r=Vd(),se.lanes|=r,kr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ae=!0),e.memoizedState=r)}function ag(e,t){var r=H;H=r!==0&&4>r?r:4,e(!0);var n=za.transition;za.transition={};try{e(!1),t()}finally{H=r,za.transition=n}}function Fh(){return Qe().memoizedState}function og(e,t,r){var n=Ht(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Bh(e))qh(t,r);else if(r=kh(e,t,r,n),r!==null){var s=Te();st(r,e,n,s),Wh(r,t,n)}}function lg(e,t,r){var n=Ht(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Bh(e))qh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,it(l,a)){var c=t.interleaved;c===null?(s.next=s,Dl(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=kh(e,t,s,n),r!==null&&(s=Te(),st(r,e,n,s),Wh(r,t,n))}}function Bh(e){var t=e.alternate;return e===se||t!==null&&t===se}function qh(e,t){Wn=Li=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Wh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,jl(e,r)}}var $i={readContext:Je,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useInsertionEffect:je,useLayoutEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useMutableSource:je,useSyncExternalStore:je,useId:je,unstable_isNewReconciler:!1},cg={readContext:Je,useCallback:function(e,t){return lt().memoizedState=[e,t===void 0?null:t],e},useContext:Je,useEffect:ru,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,fi(4194308,4,$h.bind(null,t,e),r)},useLayoutEffect:function(e,t){return fi(4194308,4,e,t)},useInsertionEffect:function(e,t){return fi(4,2,e,t)},useMemo:function(e,t){var r=lt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=lt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=og.bind(null,se,e),[n.memoizedState,e]},useRef:function(e){var t=lt();return e={current:e},t.memoizedState=e},useState:tu,useDebugValue:Kl,useDeferredValue:function(e){return lt().memoizedState=e},useTransition:function(){var e=tu(!1),t=e[0];return e=ag.bind(null,e[1]),lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=se,s=lt();if(ee){if(r===void 0)throw Error(N(407));r=r()}else{if(r=t(),ye===null)throw Error(N(349));_r&30||Ch(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,ru(Ph.bind(null,n,i,e),[e]),n.flags|=2048,hs(9,Th.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=lt(),t=ye.identifierPrefix;if(ee){var r=yt,n=vt;r=(n&~(1<<32-nt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=us++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=ig++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ug={readContext:Je,useCallback:Dh,useContext:Je,useEffect:Hl,useImperativeHandle:Uh,useInsertionEffect:Ih,useLayoutEffect:Lh,useMemo:zh,useReducer:Ma,useRef:Ah,useState:function(){return Ma(ds)},useDebugValue:Kl,useDeferredValue:function(e){var t=Qe();return Mh(t,fe.memoizedState,e)},useTransition:function(){var e=Ma(ds)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:Nh,useSyncExternalStore:Eh,useId:Fh,unstable_isNewReconciler:!1},dg={readContext:Je,useCallback:Dh,useContext:Je,useEffect:Hl,useImperativeHandle:Uh,useInsertionEffect:Ih,useLayoutEffect:Lh,useMemo:zh,useReducer:Fa,useRef:Ah,useState:function(){return Fa(ds)},useDebugValue:Kl,useDeferredValue:function(e){var t=Qe();return fe===null?t.memoizedState=e:Mh(t,fe.memoizedState,e)},useTransition:function(){var e=Fa(ds)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:Nh,useSyncExternalStore:Eh,useId:Fh,unstable_isNewReconciler:!1};function Ze(e,t){if(e&&e.defaultProps){t=ie({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ao(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ie({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ra={isMounted:function(e){return(e=e._reactInternals)?Nr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Te(),s=Ht(e),i=xt(n,s);i.payload=t,r!=null&&(i.callback=r),t=Wt(e,i,s),t!==null&&(st(t,e,s,n),di(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Te(),s=Ht(e),i=xt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Wt(e,i,s),t!==null&&(st(t,e,s,n),di(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Te(),n=Ht(e),s=xt(r,n);s.tag=2,t!=null&&(s.callback=t),t=Wt(e,s,n),t!==null&&(st(t,e,n,r),di(t,e,n))}};function nu(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!ss(r,n)||!ss(s,i):!0}function Vh(e,t,r){var n=!1,s=Qt,i=t.contextType;return typeof i=="object"&&i!==null?i=Je(i):(s=Le(t)?wr:Ee.current,n=t.contextTypes,i=(n=n!=null)?cn(e,s):Qt),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ra,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function su(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ra.enqueueReplaceState(t,t.state,null)}function Io(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},zl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Je(i):(i=Le(t)?wr:Ee.current,s.context=cn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ao(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ra.enqueueReplaceState(s,s.state,null),Ai(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function fn(e,t){try{var r="",n=t;do r+=zp(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ba(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Lo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var hg=typeof WeakMap=="function"?WeakMap:Map;function Hh(e,t,r){r=xt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Di||(Di=!0,Vo=n),Lo(e,t)},r}function Kh(e,t,r){r=xt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Lo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Lo(e,t),typeof n!="function"&&(Vt===null?Vt=new Set([this]):Vt.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function iu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new hg;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Ng.bind(null,e,t,r),t.then(e,e))}function au(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ou(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=xt(-1,1),t.tag=2,Wt(r,t,1))),r.lanes|=1),e)}var fg=jt.ReactCurrentOwner,Ae=!1;function Ce(e,t,r,n){t.child=e===null?_h(t,null,r,n):dn(t,e.child,r,n)}function lu(e,t,r,n,s){r=r.render;var i=t.ref;return nn(t,s),n=Wl(e,t,r,n,i,s),r=Vl(),e!==null&&!Ae?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,kt(e,t,s)):(ee&&r&&Ol(t),t.flags|=1,Ce(e,t,n,s),t.child)}function cu(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!tc(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Gh(e,t,i,n,s)):(e=vi(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:ss,r(a,n)&&e.ref===t.ref)return kt(e,t,s)}return t.flags|=1,e=Kt(i,n),e.ref=t.ref,e.return=t,t.child=e}function Gh(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(ss(i,n)&&e.ref===t.ref)if(Ae=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ae=!0);else return t.lanes=e.lanes,kt(e,t,s)}return $o(e,t,r,n,s)}function Jh(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(Yr,ze),ze|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,G(Yr,ze),ze|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,G(Yr,ze),ze|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,G(Yr,ze),ze|=n;return Ce(e,t,s,r),t.child}function Qh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function $o(e,t,r,n,s){var i=Le(r)?wr:Ee.current;return i=cn(t,i),nn(t,s),r=Wl(e,t,r,n,i,s),n=Vl(),e!==null&&!Ae?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,kt(e,t,s)):(ee&&n&&Ol(t),t.flags|=1,Ce(e,t,r,s),t.child)}function uu(e,t,r,n,s){if(Le(r)){var i=!0;Ci(t)}else i=!1;if(nn(t,s),t.stateNode===null)pi(e,t),Vh(t,r,n),Io(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Je(u):(u=Le(r)?wr:Ee.current,u=cn(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&su(t,a,n,u),Ot=!1;var f=t.memoizedState;a.state=f,Ai(t,n,a,s),c=t.memoizedState,l!==n||f!==c||Ie.current||Ot?(typeof d=="function"&&(Ao(t,r,d,n),c=t.memoizedState),(l=Ot||nu(t,r,l,n,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,jh(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ze(t.type,l),a.props=u,h=t.pendingProps,f=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Je(c):(c=Le(r)?wr:Ee.current,c=cn(t,c));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||f!==c)&&su(t,a,n,c),Ot=!1,f=t.memoizedState,a.state=f,Ai(t,n,a,s);var x=t.memoizedState;l!==h||f!==x||Ie.current||Ot?(typeof v=="function"&&(Ao(t,r,v,n),x=t.memoizedState),(u=Ot||nu(t,r,u,n,f,x,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,x,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,x,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),a.props=n,a.state=x,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Uo(e,t,r,n,i,s)}function Uo(e,t,r,n,s,i){Qh(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&Jc(t,r,!1),kt(e,t,i);n=t.stateNode,fg.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=dn(t,e.child,null,i),t.child=dn(t,null,l,i)):Ce(e,t,l,i),t.memoizedState=n.state,s&&Jc(t,r,!0),t.child}function Yh(e){var t=e.stateNode;t.pendingContext?Gc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gc(e,t.context,!1),Ml(e,t.containerInfo)}function du(e,t,r,n,s){return un(),Il(s),t.flags|=256,Ce(e,t,r,n),t.child}var Do={dehydrated:null,treeContext:null,retryLane:0};function zo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Xh(e,t,r){var n=t.pendingProps,s=re.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),G(re,s&1),e===null)return Ro(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=ia(a,n,0,null),e=yr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=zo(r),t.memoizedState=Do,e):Gl(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return pg(e,t,a,n,l,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Kt(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Kt(l,i):(i=yr(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?zo(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=Do,n}return i=e.child,e=i.sibling,n=Kt(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Gl(e,t){return t=ia({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Gs(e,t,r,n){return n!==null&&Il(n),dn(t,e.child,null,r),e=Gl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pg(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=Ba(Error(N(422))),Gs(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=ia({mode:"visible",children:n.children},s,0,null),i=yr(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&dn(t,e.child,null,a),t.child.memoizedState=zo(a),t.memoizedState=Do,i);if(!(t.mode&1))return Gs(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(N(419)),n=Ba(i,n,void 0),Gs(e,t,a,n)}if(l=(a&e.childLanes)!==0,Ae||l){if(n=ye,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,_t(e,s),st(n,e,s,-1))}return ec(),n=Ba(Error(N(421))),Gs(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Eg.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Me=qt(s.nextSibling),Fe=t,ee=!0,rt=null,e!==null&&(Ve[He++]=vt,Ve[He++]=yt,Ve[He++]=br,vt=e.id,yt=e.overflow,br=t),t=Gl(t,n.children),t.flags|=4096,t)}function hu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Oo(e.return,t,r)}function qa(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Zh(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ce(e,t,n.children,r),n=re.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hu(e,r,t);else if(e.tag===19)hu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(G(re,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ii(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),qa(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ii(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}qa(t,!0,r,null,i);break;case"together":qa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function pi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),kr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,r=Kt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Kt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function mg(e,t,r){switch(t.tag){case 3:Yh(t),un();break;case 5:Sh(t);break;case 1:Le(t.type)&&Ci(t);break;case 4:Ml(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;G(Ri,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(G(re,re.current&1),t.flags|=128,null):r&t.child.childLanes?Xh(e,t,r):(G(re,re.current&1),e=kt(e,t,r),e!==null?e.sibling:null);G(re,re.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Zh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),G(re,re.current),n)break;return null;case 22:case 23:return t.lanes=0,Jh(e,t,r)}return kt(e,t,r)}var ef,Mo,tf,rf;ef=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Mo=function(){};tf=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,mr(ht.current);var i=null;switch(r){case"input":s=oo(e,s),n=oo(e,n),i=[];break;case"select":s=ie({},s,{value:void 0}),n=ie({},n,{value:void 0}),i=[];break;case"textarea":s=uo(e,s),n=uo(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ni)}fo(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Yn.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Yn.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Q("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};rf=function(e,t,r,n){r!==n&&(t.flags|=4)};function Cn(e,t){if(!ee)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Se(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function gg(e,t,r){var n=t.pendingProps;switch(Al(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(t),null;case 1:return Le(t.type)&&Ei(),Se(t),null;case 3:return n=t.stateNode,hn(),Y(Ie),Y(Ee),Bl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Hs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,rt!==null&&(Go(rt),rt=null))),Mo(e,t),Se(t),null;case 5:Fl(t);var s=mr(cs.current);if(r=t.type,e!==null&&t.stateNode!=null)tf(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(N(166));return Se(t),null}if(e=mr(ht.current),Hs(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ct]=t,n[os]=i,e=(t.mode&1)!==0,r){case"dialog":Q("cancel",n),Q("close",n);break;case"iframe":case"object":case"embed":Q("load",n);break;case"video":case"audio":for(s=0;s<Un.length;s++)Q(Un[s],n);break;case"source":Q("error",n);break;case"img":case"image":case"link":Q("error",n),Q("load",n);break;case"details":Q("toggle",n);break;case"input":bc(n,i),Q("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Q("invalid",n);break;case"textarea":kc(n,i),Q("invalid",n)}fo(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Vs(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Vs(n.textContent,l,e),s=["children",""+l]):Yn.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Q("scroll",n)}switch(r){case"input":Us(n),_c(n,i,!0);break;case"textarea":Us(n),jc(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ni)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Pd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[ct]=t,e[os]=n,ef(e,t,!1,!1),t.stateNode=e;e:{switch(a=po(r,n),r){case"dialog":Q("cancel",e),Q("close",e),s=n;break;case"iframe":case"object":case"embed":Q("load",e),s=n;break;case"video":case"audio":for(s=0;s<Un.length;s++)Q(Un[s],e);s=n;break;case"source":Q("error",e),s=n;break;case"img":case"image":case"link":Q("error",e),Q("load",e),s=n;break;case"details":Q("toggle",e),s=n;break;case"input":bc(e,n),s=oo(e,n),Q("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ie({},n,{value:void 0}),Q("invalid",e);break;case"textarea":kc(e,n),s=uo(e,n),Q("invalid",e);break;default:s=n}fo(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Ad(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Rd(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Xn(e,c):typeof c=="number"&&Xn(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Yn.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Q("scroll",e):c!=null&&yl(e,i,c,a))}switch(r){case"input":Us(e),_c(e,n,!1);break;case"textarea":Us(e),jc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Jt(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Zr(e,!!n.multiple,i,!1):n.defaultValue!=null&&Zr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ni)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Se(t),null;case 6:if(e&&t.stateNode!=null)rf(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(N(166));if(r=mr(cs.current),mr(ht.current),Hs(t)){if(n=t.stateNode,r=t.memoizedProps,n[ct]=t,(i=n.nodeValue!==r)&&(e=Fe,e!==null))switch(e.tag){case 3:Vs(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vs(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ct]=t,t.stateNode=n}return Se(t),null;case 13:if(Y(re),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ee&&Me!==null&&t.mode&1&&!(t.flags&128))wh(),un(),t.flags|=98560,i=!1;else if(i=Hs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(N(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[ct]=t}else un(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Se(t),i=!1}else rt!==null&&(Go(rt),rt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||re.current&1?me===0&&(me=3):ec())),t.updateQueue!==null&&(t.flags|=4),Se(t),null);case 4:return hn(),Mo(e,t),e===null&&is(t.stateNode.containerInfo),Se(t),null;case 10:return Ul(t.type._context),Se(t),null;case 17:return Le(t.type)&&Ei(),Se(t),null;case 19:if(Y(re),i=t.memoizedState,i===null)return Se(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)Cn(i,!1);else{if(me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ii(e),a!==null){for(t.flags|=128,Cn(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return G(re,re.current&1|2),t.child}e=e.sibling}i.tail!==null&&le()>pn&&(t.flags|=128,n=!0,Cn(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ii(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Cn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ee)return Se(t),null}else 2*le()-i.renderingStartTime>pn&&r!==1073741824&&(t.flags|=128,n=!0,Cn(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=le(),t.sibling=null,r=re.current,G(re,n?r&1|2:r&1),t):(Se(t),null);case 22:case 23:return Zl(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ze&1073741824&&(Se(t),t.subtreeFlags&6&&(t.flags|=8192)):Se(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function vg(e,t){switch(Al(t),t.tag){case 1:return Le(t.type)&&Ei(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hn(),Y(Ie),Y(Ee),Bl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fl(t),null;case 13:if(Y(re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));un()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Y(re),null;case 4:return hn(),null;case 10:return Ul(t.type._context),null;case 22:case 23:return Zl(),null;case 24:return null;default:return null}}var Js=!1,Ne=!1,yg=typeof WeakSet=="function"?WeakSet:Set,T=null;function Qr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){oe(e,t,n)}else r.current=null}function Fo(e,t,r){try{r()}catch(n){oe(e,t,n)}}var fu=!1;function xg(e,t){if(jo=ki,e=oh(),Rl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var v;h!==r||s!==0&&h.nodeType!==3||(l=a+s),h!==i||n!==0&&h.nodeType!==3||(c=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===e)break t;if(f===r&&++u===s&&(l=a),f===i&&++d===n&&(c=a),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(So={focusedElem:e,selectionRange:r},ki=!1,T=t;T!==null;)if(t=T,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,T=e;else for(;T!==null;){t=T;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,b=x.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:Ze(t.type,y),b);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(w){oe(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,T=e;break}T=t.return}return x=fu,fu=!1,x}function Vn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Fo(t,r,i)}s=s.next}while(s!==n)}}function na(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Bo(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function nf(e){var t=e.alternate;t!==null&&(e.alternate=null,nf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ct],delete t[os],delete t[Co],delete t[tg],delete t[rg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sf(e){return e.tag===5||e.tag===3||e.tag===4}function pu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qo(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ni));else if(n!==4&&(e=e.child,e!==null))for(qo(e,t,r),e=e.sibling;e!==null;)qo(e,t,r),e=e.sibling}function Wo(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Wo(e,t,r),e=e.sibling;e!==null;)Wo(e,t,r),e=e.sibling}var be=null,et=!1;function Ct(e,t,r){for(r=r.child;r!==null;)af(e,t,r),r=r.sibling}function af(e,t,r){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(Ji,r)}catch{}switch(r.tag){case 5:Ne||Qr(r,t);case 6:var n=be,s=et;be=null,Ct(e,t,r),be=n,et=s,be!==null&&(et?(e=be,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):be.removeChild(r.stateNode));break;case 18:be!==null&&(et?(e=be,r=r.stateNode,e.nodeType===8?$a(e.parentNode,r):e.nodeType===1&&$a(e,r),rs(e)):$a(be,r.stateNode));break;case 4:n=be,s=et,be=r.stateNode.containerInfo,et=!0,Ct(e,t,r),be=n,et=s;break;case 0:case 11:case 14:case 15:if(!Ne&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Fo(r,t,a),s=s.next}while(s!==n)}Ct(e,t,r);break;case 1:if(!Ne&&(Qr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){oe(r,t,l)}Ct(e,t,r);break;case 21:Ct(e,t,r);break;case 22:r.mode&1?(Ne=(n=Ne)||r.memoizedState!==null,Ct(e,t,r),Ne=n):Ct(e,t,r);break;default:Ct(e,t,r)}}function mu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new yg),t.forEach(function(n){var s=Cg.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ye(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:be=l.stateNode,et=!1;break e;case 3:be=l.stateNode.containerInfo,et=!0;break e;case 4:be=l.stateNode.containerInfo,et=!0;break e}l=l.return}if(be===null)throw Error(N(160));af(i,a,s),be=null,et=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){oe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)of(t,e),t=t.sibling}function of(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ye(t,e),ot(e),n&4){try{Vn(3,e,e.return),na(3,e)}catch(y){oe(e,e.return,y)}try{Vn(5,e,e.return)}catch(y){oe(e,e.return,y)}}break;case 1:Ye(t,e),ot(e),n&512&&r!==null&&Qr(r,r.return);break;case 5:if(Ye(t,e),ot(e),n&512&&r!==null&&Qr(r,r.return),e.flags&32){var s=e.stateNode;try{Xn(s,"")}catch(y){oe(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Cd(s,i),po(l,a);var u=po(l,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?Ad(s,h):d==="dangerouslySetInnerHTML"?Rd(s,h):d==="children"?Xn(s,h):yl(s,d,h,u)}switch(l){case"input":lo(s,i);break;case"textarea":Td(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Zr(s,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?Zr(s,!!i.multiple,i.defaultValue,!0):Zr(s,!!i.multiple,i.multiple?[]:"",!1))}s[os]=i}catch(y){oe(e,e.return,y)}}break;case 6:if(Ye(t,e),ot(e),n&4){if(e.stateNode===null)throw Error(N(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){oe(e,e.return,y)}}break;case 3:if(Ye(t,e),ot(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{rs(t.containerInfo)}catch(y){oe(e,e.return,y)}break;case 4:Ye(t,e),ot(e);break;case 13:Ye(t,e),ot(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Yl=le())),n&4&&mu(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ne=(u=Ne)||d,Ye(t,e),Ne=u):Ye(t,e),ot(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(T=e,d=e.child;d!==null;){for(h=T=d;T!==null;){switch(f=T,v=f.child,f.tag){case 0:case 11:case 14:case 15:Vn(4,f,f.return);break;case 1:Qr(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(y){oe(n,r,y)}}break;case 5:Qr(f,f.return);break;case 22:if(f.memoizedState!==null){vu(h);continue}}v!==null?(v.return=f,T=v):vu(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Od("display",a))}catch(y){oe(e,e.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){oe(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ye(t,e),ot(e),n&4&&mu(e);break;case 21:break;default:Ye(t,e),ot(e)}}function ot(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(sf(r)){var n=r;break e}r=r.return}throw Error(N(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Xn(s,""),n.flags&=-33);var i=pu(e);Wo(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=pu(e);qo(e,l,a);break;default:throw Error(N(161))}}catch(c){oe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wg(e,t,r){T=e,lf(e)}function lf(e,t,r){for(var n=(e.mode&1)!==0;T!==null;){var s=T,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Js;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ne;l=Js;var u=Ne;if(Js=a,(Ne=c)&&!u)for(T=s;T!==null;)a=T,c=a.child,a.tag===22&&a.memoizedState!==null?yu(s):c!==null?(c.return=a,T=c):yu(s);for(;i!==null;)T=i,lf(i),i=i.sibling;T=s,Js=l,Ne=u}gu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,T=i):gu(e)}}function gu(e){for(;T!==null;){var t=T;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ne||na(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ne)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ze(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&eu(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}eu(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&rs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}Ne||t.flags&512&&Bo(t)}catch(f){oe(t,t.return,f)}}if(t===e){T=null;break}if(r=t.sibling,r!==null){r.return=t.return,T=r;break}T=t.return}}function vu(e){for(;T!==null;){var t=T;if(t===e){T=null;break}var r=t.sibling;if(r!==null){r.return=t.return,T=r;break}T=t.return}}function yu(e){for(;T!==null;){var t=T;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{na(4,t)}catch(c){oe(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){oe(t,s,c)}}var i=t.return;try{Bo(t)}catch(c){oe(t,i,c)}break;case 5:var a=t.return;try{Bo(t)}catch(c){oe(t,a,c)}}}catch(c){oe(t,t.return,c)}if(t===e){T=null;break}var l=t.sibling;if(l!==null){l.return=t.return,T=l;break}T=t.return}}var bg=Math.ceil,Ui=jt.ReactCurrentDispatcher,Jl=jt.ReactCurrentOwner,Ge=jt.ReactCurrentBatchConfig,W=0,ye=null,de=null,_e=0,ze=0,Yr=Xt(0),me=0,fs=null,kr=0,sa=0,Ql=0,Hn=null,Oe=null,Yl=0,pn=1/0,pt=null,Di=!1,Vo=null,Vt=null,Qs=!1,Dt=null,zi=0,Kn=0,Ho=null,mi=-1,gi=0;function Te(){return W&6?le():mi!==-1?mi:mi=le()}function Ht(e){return e.mode&1?W&2&&_e!==0?_e&-_e:sg.transition!==null?(gi===0&&(gi=Vd()),gi):(e=H,e!==0||(e=window.event,e=e===void 0?16:Xd(e.type)),e):1}function st(e,t,r,n){if(50<Kn)throw Kn=0,Ho=null,Error(N(185));Ss(e,r,n),(!(W&2)||e!==ye)&&(e===ye&&(!(W&2)&&(sa|=r),me===4&&Lt(e,_e)),$e(e,n),r===1&&W===0&&!(t.mode&1)&&(pn=le()+500,ea&&Zt()))}function $e(e,t){var r=e.callbackNode;sm(e,t);var n=_i(e,e===ye?_e:0);if(n===0)r!==null&&Ec(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Ec(r),t===1)e.tag===0?ng(xu.bind(null,e)):vh(xu.bind(null,e)),Zm(function(){!(W&6)&&Zt()}),r=null;else{switch(Hd(n)){case 1:r=kl;break;case 4:r=qd;break;case 16:r=bi;break;case 536870912:r=Wd;break;default:r=bi}r=gf(r,cf.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function cf(e,t){if(mi=-1,gi=0,W&6)throw Error(N(327));var r=e.callbackNode;if(sn()&&e.callbackNode!==r)return null;var n=_i(e,e===ye?_e:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Mi(e,n);else{t=n;var s=W;W|=2;var i=df();(ye!==e||_e!==t)&&(pt=null,pn=le()+500,vr(e,t));do try{jg();break}catch(l){uf(e,l)}while(!0);$l(),Ui.current=i,W=s,de!==null?t=0:(ye=null,_e=0,t=me)}if(t!==0){if(t===2&&(s=xo(e),s!==0&&(n=s,t=Ko(e,s))),t===1)throw r=fs,vr(e,0),Lt(e,n),$e(e,le()),r;if(t===6)Lt(e,n);else{if(s=e.current.alternate,!(n&30)&&!_g(s)&&(t=Mi(e,n),t===2&&(i=xo(e),i!==0&&(n=i,t=Ko(e,i))),t===1))throw r=fs,vr(e,0),Lt(e,n),$e(e,le()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(N(345));case 2:cr(e,Oe,pt);break;case 3:if(Lt(e,n),(n&130023424)===n&&(t=Yl+500-le(),10<t)){if(_i(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Te(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Eo(cr.bind(null,e,Oe,pt),t);break}cr(e,Oe,pt);break;case 4:if(Lt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-nt(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=le()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*bg(n/1960))-n,10<n){e.timeoutHandle=Eo(cr.bind(null,e,Oe,pt),n);break}cr(e,Oe,pt);break;case 5:cr(e,Oe,pt);break;default:throw Error(N(329))}}}return $e(e,le()),e.callbackNode===r?cf.bind(null,e):null}function Ko(e,t){var r=Hn;return e.current.memoizedState.isDehydrated&&(vr(e,t).flags|=256),e=Mi(e,t),e!==2&&(t=Oe,Oe=r,t!==null&&Go(t)),e}function Go(e){Oe===null?Oe=e:Oe.push.apply(Oe,e)}function _g(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!it(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Lt(e,t){for(t&=~Ql,t&=~sa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-nt(t),n=1<<r;e[r]=-1,t&=~n}}function xu(e){if(W&6)throw Error(N(327));sn();var t=_i(e,0);if(!(t&1))return $e(e,le()),null;var r=Mi(e,t);if(e.tag!==0&&r===2){var n=xo(e);n!==0&&(t=n,r=Ko(e,n))}if(r===1)throw r=fs,vr(e,0),Lt(e,t),$e(e,le()),r;if(r===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cr(e,Oe,pt),$e(e,le()),null}function Xl(e,t){var r=W;W|=1;try{return e(t)}finally{W=r,W===0&&(pn=le()+500,ea&&Zt())}}function jr(e){Dt!==null&&Dt.tag===0&&!(W&6)&&sn();var t=W;W|=1;var r=Ge.transition,n=H;try{if(Ge.transition=null,H=1,e)return e()}finally{H=n,Ge.transition=r,W=t,!(W&6)&&Zt()}}function Zl(){ze=Yr.current,Y(Yr)}function vr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Xm(r)),de!==null)for(r=de.return;r!==null;){var n=r;switch(Al(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ei();break;case 3:hn(),Y(Ie),Y(Ee),Bl();break;case 5:Fl(n);break;case 4:hn();break;case 13:Y(re);break;case 19:Y(re);break;case 10:Ul(n.type._context);break;case 22:case 23:Zl()}r=r.return}if(ye=e,de=e=Kt(e.current,null),_e=ze=t,me=0,fs=null,Ql=sa=kr=0,Oe=Hn=null,pr!==null){for(t=0;t<pr.length;t++)if(r=pr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}pr=null}return e}function uf(e,t){do{var r=de;try{if($l(),hi.current=$i,Li){for(var n=se.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Li=!1}if(_r=0,ve=fe=se=null,Wn=!1,us=0,Jl.current=null,r===null||r.return===null){me=1,fs=t,de=null;break}e:{var i=e,a=r.return,l=r,c=t;if(t=_e,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=au(a);if(v!==null){v.flags&=-257,ou(v,a,l,i,t),v.mode&1&&iu(i,u,t),t=v,c=u;var x=t.updateQueue;if(x===null){var y=new Set;y.add(c),t.updateQueue=y}else x.add(c);break e}else{if(!(t&1)){iu(i,u,t),ec();break e}c=Error(N(426))}}else if(ee&&l.mode&1){var b=au(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),ou(b,a,l,i,t),Il(fn(c,l));break e}}i=c=fn(c,l),me!==4&&(me=2),Hn===null?Hn=[i]:Hn.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Hh(i,c,t);Zc(i,g);break e;case 1:l=c;var m=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Vt===null||!Vt.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=Kh(i,l,t);Zc(i,w);break e}}i=i.return}while(i!==null)}ff(r)}catch(_){t=_,de===r&&r!==null&&(de=r=r.return);continue}break}while(!0)}function df(){var e=Ui.current;return Ui.current=$i,e===null?$i:e}function ec(){(me===0||me===3||me===2)&&(me=4),ye===null||!(kr&268435455)&&!(sa&268435455)||Lt(ye,_e)}function Mi(e,t){var r=W;W|=2;var n=df();(ye!==e||_e!==t)&&(pt=null,vr(e,t));do try{kg();break}catch(s){uf(e,s)}while(!0);if($l(),W=r,Ui.current=n,de!==null)throw Error(N(261));return ye=null,_e=0,me}function kg(){for(;de!==null;)hf(de)}function jg(){for(;de!==null&&!Jp();)hf(de)}function hf(e){var t=mf(e.alternate,e,ze);e.memoizedProps=e.pendingProps,t===null?ff(e):de=t,Jl.current=null}function ff(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=vg(r,t),r!==null){r.flags&=32767,de=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{me=6,de=null;return}}else if(r=gg(r,t,ze),r!==null){de=r;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);me===0&&(me=5)}function cr(e,t,r){var n=H,s=Ge.transition;try{Ge.transition=null,H=1,Sg(e,t,r,n)}finally{Ge.transition=s,H=n}return null}function Sg(e,t,r,n){do sn();while(Dt!==null);if(W&6)throw Error(N(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(im(e,i),e===ye&&(de=ye=null,_e=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Qs||(Qs=!0,gf(bi,function(){return sn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ge.transition,Ge.transition=null;var a=H;H=1;var l=W;W|=4,Jl.current=null,xg(e,r),of(r,e),Vm(So),ki=!!jo,So=jo=null,e.current=r,wg(r),Qp(),W=l,H=a,Ge.transition=i}else e.current=r;if(Qs&&(Qs=!1,Dt=e,zi=s),i=e.pendingLanes,i===0&&(Vt=null),Zp(r.stateNode),$e(e,le()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Di)throw Di=!1,e=Vo,Vo=null,e;return zi&1&&e.tag!==0&&sn(),i=e.pendingLanes,i&1?e===Ho?Kn++:(Kn=0,Ho=e):Kn=0,Zt(),null}function sn(){if(Dt!==null){var e=Hd(zi),t=Ge.transition,r=H;try{if(Ge.transition=null,H=16>e?16:e,Dt===null)var n=!1;else{if(e=Dt,Dt=null,zi=0,W&6)throw Error(N(331));var s=W;for(W|=4,T=e.current;T!==null;){var i=T,a=i.child;if(T.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(T=u;T!==null;){var d=T;switch(d.tag){case 0:case 11:case 15:Vn(8,d,i)}var h=d.child;if(h!==null)h.return=d,T=h;else for(;T!==null;){d=T;var f=d.sibling,v=d.return;if(nf(d),d===u){T=null;break}if(f!==null){f.return=v,T=f;break}T=v}}}var x=i.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}T=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,T=a;else e:for(;T!==null;){if(i=T,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Vn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,T=g;break e}T=i.return}}var m=e.current;for(T=m;T!==null;){a=T;var p=a.child;if(a.subtreeFlags&2064&&p!==null)p.return=a,T=p;else e:for(a=m;T!==null;){if(l=T,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:na(9,l)}}catch(_){oe(l,l.return,_)}if(l===a){T=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,T=w;break e}T=l.return}}if(W=s,Zt(),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(Ji,e)}catch{}n=!0}return n}finally{H=r,Ge.transition=t}}return!1}function wu(e,t,r){t=fn(r,t),t=Hh(e,t,1),e=Wt(e,t,1),t=Te(),e!==null&&(Ss(e,1,t),$e(e,t))}function oe(e,t,r){if(e.tag===3)wu(e,e,r);else for(;t!==null;){if(t.tag===3){wu(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Vt===null||!Vt.has(n))){e=fn(r,e),e=Kh(t,e,1),t=Wt(t,e,1),e=Te(),t!==null&&(Ss(t,1,e),$e(t,e));break}}t=t.return}}function Ng(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Te(),e.pingedLanes|=e.suspendedLanes&r,ye===e&&(_e&r)===r&&(me===4||me===3&&(_e&130023424)===_e&&500>le()-Yl?vr(e,0):Ql|=r),$e(e,t)}function pf(e,t){t===0&&(e.mode&1?(t=Ms,Ms<<=1,!(Ms&130023424)&&(Ms=4194304)):t=1);var r=Te();e=_t(e,t),e!==null&&(Ss(e,t,r),$e(e,r))}function Eg(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),pf(e,r)}function Cg(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(N(314))}n!==null&&n.delete(t),pf(e,r)}var mf;mf=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ie.current)Ae=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ae=!1,mg(e,t,r);Ae=!!(e.flags&131072)}else Ae=!1,ee&&t.flags&1048576&&yh(t,Pi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;pi(e,t),e=t.pendingProps;var s=cn(t,Ee.current);nn(t,r),s=Wl(null,t,n,e,s,r);var i=Vl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Le(n)?(i=!0,Ci(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,zl(t),s.updater=ra,t.stateNode=s,s._reactInternals=t,Io(t,n,e,r),t=Uo(null,t,n,!0,i,r)):(t.tag=0,ee&&i&&Ol(t),Ce(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(pi(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Pg(n),e=Ze(n,e),s){case 0:t=$o(null,t,n,e,r);break e;case 1:t=uu(null,t,n,e,r);break e;case 11:t=lu(null,t,n,e,r);break e;case 14:t=cu(null,t,n,Ze(n.type,e),r);break e}throw Error(N(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ze(n,s),$o(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ze(n,s),uu(e,t,n,s,r);case 3:e:{if(Yh(t),e===null)throw Error(N(387));n=t.pendingProps,i=t.memoizedState,s=i.element,jh(e,t),Ai(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=fn(Error(N(423)),t),t=du(e,t,n,r,s);break e}else if(n!==s){s=fn(Error(N(424)),t),t=du(e,t,n,r,s);break e}else for(Me=qt(t.stateNode.containerInfo.firstChild),Fe=t,ee=!0,rt=null,r=_h(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(un(),n===s){t=kt(e,t,r);break e}Ce(e,t,n,r)}t=t.child}return t;case 5:return Sh(t),e===null&&Ro(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,No(n,s)?a=null:i!==null&&No(n,i)&&(t.flags|=32),Qh(e,t),Ce(e,t,a,r),t.child;case 6:return e===null&&Ro(t),null;case 13:return Xh(e,t,r);case 4:return Ml(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=dn(t,null,n,r):Ce(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ze(n,s),lu(e,t,n,s,r);case 7:return Ce(e,t,t.pendingProps,r),t.child;case 8:return Ce(e,t,t.pendingProps.children,r),t.child;case 12:return Ce(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,G(Ri,n._currentValue),n._currentValue=a,i!==null)if(it(i.value,a)){if(i.children===s.children&&!Ie.current){t=kt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=xt(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Oo(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(N(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Oo(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ce(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,nn(t,r),s=Je(s),n=n(s),t.flags|=1,Ce(e,t,n,r),t.child;case 14:return n=t.type,s=Ze(n,t.pendingProps),s=Ze(n.type,s),cu(e,t,n,s,r);case 15:return Gh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ze(n,s),pi(e,t),t.tag=1,Le(n)?(e=!0,Ci(t)):e=!1,nn(t,r),Vh(t,n,s),Io(t,n,s,r),Uo(null,t,n,!0,e,r);case 19:return Zh(e,t,r);case 22:return Jh(e,t,r)}throw Error(N(156,t.tag))};function gf(e,t){return Bd(e,t)}function Tg(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(e,t,r,n){return new Tg(e,t,r,n)}function tc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pg(e){if(typeof e=="function")return tc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wl)return 11;if(e===bl)return 14}return 2}function Kt(e,t){var r=e.alternate;return r===null?(r=Ke(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function vi(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")tc(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Fr:return yr(r.children,s,i,t);case xl:a=8,s|=8;break;case no:return e=Ke(12,r,t,s|2),e.elementType=no,e.lanes=i,e;case so:return e=Ke(13,r,t,s),e.elementType=so,e.lanes=i,e;case io:return e=Ke(19,r,t,s),e.elementType=io,e.lanes=i,e;case Sd:return ia(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kd:a=10;break e;case jd:a=9;break e;case wl:a=11;break e;case bl:a=14;break e;case Rt:a=16,n=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=Ke(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function yr(e,t,r,n){return e=Ke(7,e,n,t),e.lanes=r,e}function ia(e,t,r,n){return e=Ke(22,e,n,t),e.elementType=Sd,e.lanes=r,e.stateNode={isHidden:!1},e}function Wa(e,t,r){return e=Ke(6,e,null,t),e.lanes=r,e}function Va(e,t,r){return t=Ke(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Rg(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sa(0),this.expirationTimes=Sa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sa(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function rc(e,t,r,n,s,i,a,l,c){return e=new Rg(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ke(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},zl(i),e}function Og(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function vf(e){if(!e)return Qt;e=e._reactInternals;e:{if(Nr(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Le(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var r=e.type;if(Le(r))return gh(e,r,t)}return t}function yf(e,t,r,n,s,i,a,l,c){return e=rc(r,n,!0,e,s,i,a,l,c),e.context=vf(null),r=e.current,n=Te(),s=Ht(r),i=xt(n,s),i.callback=t??null,Wt(r,i,s),e.current.lanes=s,Ss(e,s,n),$e(e,n),e}function aa(e,t,r,n){var s=t.current,i=Te(),a=Ht(s);return r=vf(r),t.context===null?t.context=r:t.pendingContext=r,t=xt(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Wt(s,t,a),e!==null&&(st(e,s,a,i),di(e,s,a)),a}function Fi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function nc(e,t){bu(e,t),(e=e.alternate)&&bu(e,t)}function Ag(){return null}var xf=typeof reportError=="function"?reportError:function(e){console.error(e)};function sc(e){this._internalRoot=e}oa.prototype.render=sc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));aa(e,t,null,null)};oa.prototype.unmount=sc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jr(function(){aa(null,e,null,null)}),t[bt]=null}};function oa(e){this._internalRoot=e}oa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Jd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<It.length&&t!==0&&t<It[r].priority;r++);It.splice(r,0,e),r===0&&Yd(e)}};function ic(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function la(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _u(){}function Ig(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Fi(a);i.call(u)}}var a=yf(t,n,e,0,null,!1,!1,"",_u);return e._reactRootContainer=a,e[bt]=a.current,is(e.nodeType===8?e.parentNode:e),jr(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Fi(c);l.call(u)}}var c=rc(e,0,!1,null,null,!1,!1,"",_u);return e._reactRootContainer=c,e[bt]=c.current,is(e.nodeType===8?e.parentNode:e),jr(function(){aa(t,c,r,n)}),c}function ca(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=Fi(a);l.call(c)}}aa(t,a,e,s)}else a=Ig(r,t,e,s,n);return Fi(a)}Kd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=$n(t.pendingLanes);r!==0&&(jl(t,r|1),$e(t,le()),!(W&6)&&(pn=le()+500,Zt()))}break;case 13:jr(function(){var n=_t(e,1);if(n!==null){var s=Te();st(n,e,1,s)}}),nc(e,1)}};Sl=function(e){if(e.tag===13){var t=_t(e,134217728);if(t!==null){var r=Te();st(t,e,134217728,r)}nc(e,134217728)}};Gd=function(e){if(e.tag===13){var t=Ht(e),r=_t(e,t);if(r!==null){var n=Te();st(r,e,t,n)}nc(e,t)}};Jd=function(){return H};Qd=function(e,t){var r=H;try{return H=e,t()}finally{H=r}};go=function(e,t,r){switch(t){case"input":if(lo(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Zi(n);if(!s)throw Error(N(90));Ed(n),lo(n,s)}}}break;case"textarea":Td(e,r);break;case"select":t=r.value,t!=null&&Zr(e,!!r.multiple,t,!1)}};$d=Xl;Ud=jr;var Lg={usingClientEntryPoint:!1,Events:[Es,Vr,Zi,Id,Ld,Xl]},Tn={findFiberByHostInstance:fr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$g={bundleType:Tn.bundleType,version:Tn.version,rendererPackageName:Tn.rendererPackageName,rendererConfig:Tn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Md(e),e===null?null:e.stateNode},findFiberByHostInstance:Tn.findFiberByHostInstance||Ag,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ys=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ys.isDisabled&&Ys.supportsFiber)try{Ji=Ys.inject($g),dt=Ys}catch{}}qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lg;qe.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ic(t))throw Error(N(200));return Og(e,t,null,r)};qe.createRoot=function(e,t){if(!ic(e))throw Error(N(299));var r=!1,n="",s=xf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=rc(e,1,!1,null,null,r,!1,n,s),e[bt]=t.current,is(e.nodeType===8?e.parentNode:e),new sc(t)};qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=Md(t),e=e===null?null:e.stateNode,e};qe.flushSync=function(e){return jr(e)};qe.hydrate=function(e,t,r){if(!la(t))throw Error(N(200));return ca(null,e,t,!0,r)};qe.hydrateRoot=function(e,t,r){if(!ic(e))throw Error(N(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=xf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=yf(t,null,e,1,r??null,s,!1,i,a),e[bt]=t.current,is(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new oa(t)};qe.render=function(e,t,r){if(!la(t))throw Error(N(200));return ca(null,e,t,!1,r)};qe.unmountComponentAtNode=function(e){if(!la(e))throw Error(N(40));return e._reactRootContainer?(jr(function(){ca(null,null,e,!1,function(){e._reactRootContainer=null,e[bt]=null})}),!0):!1};qe.unstable_batchedUpdates=Xl;qe.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!la(r))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return ca(e,t,r,!1,n)};qe.version="18.3.1-next-f1338f8080-20240426";function wf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wf)}catch(e){console.error(e)}}wf(),xd.exports=qe;var Ug=xd.exports,ku=Ug;to.createRoot=ku.createRoot,to.hydrateRoot=ku.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ps(){return ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ps.apply(this,arguments)}var zt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(zt||(zt={}));const ju="popstate";function Dg(e){e===void 0&&(e={});function t(s,i){let{pathname:a="/",search:l="",hash:c=""}=Er(s.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Jo("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let a=s.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof i=="string"?i:Bi(i))}function n(s,i){ua(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return Mg(t,r,n,e)}function ce(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ua(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function zg(){return Math.random().toString(36).substr(2,8)}function Su(e,t){return{usr:e.state,key:e.key,idx:t}}function Jo(e,t,r,n){return r===void 0&&(r=null),ps({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Er(t):t,{state:r,key:t&&t.key||n||zg()})}function Bi(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Er(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Mg(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,l=zt.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(ps({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){l=zt.Pop;let b=d(),g=b==null?null:b-u;u=b,c&&c({action:l,location:y.location,delta:g})}function f(b,g){l=zt.Push;let m=Jo(y.location,b,g);r&&r(m,b),u=d()+1;let p=Su(m,u),w=y.createHref(m);try{a.pushState(p,"",w)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(w)}i&&c&&c({action:l,location:y.location,delta:1})}function v(b,g){l=zt.Replace;let m=Jo(y.location,b,g);r&&r(m,b),u=d();let p=Su(m,u),w=y.createHref(m);a.replaceState(p,"",w),i&&c&&c({action:l,location:y.location,delta:0})}function x(b){let g=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof b=="string"?b:Bi(b);return m=m.replace(/ $/,"%20"),ce(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let y={get action(){return l},get location(){return e(s,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(ju,h),c=b,()=>{s.removeEventListener(ju,h),c=null}},createHref(b){return t(s,b)},createURL:x,encodeLocation(b){let g=x(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:v,go(b){return a.go(b)}};return y}var Nu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Nu||(Nu={}));function Fg(e,t,r){return r===void 0&&(r="/"),Bg(e,t,r)}function Bg(e,t,r,n){let s=typeof t=="string"?Er(t):t,i=ac(s.pathname||"/",r);if(i==null)return null;let a=bf(e);qg(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=t0(i);l=Xg(a[c],u)}return l}function bf(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(ce(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Gt([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(ce(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),bf(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Qg(u,i.index),routesMeta:d})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of _f(i.path))s(i,a,c)}),t}function _f(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=_f(n.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function qg(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Yg(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Wg=/^:[\w-]+$/,Vg=3,Hg=2,Kg=1,Gg=10,Jg=-2,Eu=e=>e==="*";function Qg(e,t){let r=e.split("/"),n=r.length;return r.some(Eu)&&(n+=Jg),t&&(n+=Hg),r.filter(s=>!Eu(s)).reduce((s,i)=>s+(Wg.test(i)?Vg:i===""?Kg:Gg),n)}function Yg(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Xg(e,t,r){let{routesMeta:n}=e,s={},i="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Zg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:Gt([i,h.pathname]),pathnameBase:a0(Gt([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Gt([i,h.pathnameBase]))}return a}function Zg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=e0(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:v}=d;if(f==="*"){let y=l[h]||"";a=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const x=l[h];return v&&!x?u[f]=void 0:u[f]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function e0(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),ua(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function t0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ua(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ac(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const r0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,n0=e=>r0.test(e);function s0(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Er(e):e,i;if(r)if(n0(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),ua(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?i=Cu(r.substring(1),"/"):i=Cu(r,t)}else i=t;return{pathname:i,search:o0(n),hash:l0(s)}}function Cu(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ha(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function i0(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function oc(e,t){let r=i0(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function lc(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Er(e):(s=ps({},e),ce(!s.pathname||!s.pathname.includes("?"),Ha("?","pathname","search",s)),ce(!s.pathname||!s.pathname.includes("#"),Ha("#","pathname","hash",s)),ce(!s.search||!s.search.includes("#"),Ha("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=r;else{let h=t.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=s0(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Gt=e=>e.join("/").replace(/\/\/+/g,"/"),a0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),o0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,l0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function c0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const kf=["post","put","patch","delete"];new Set(kf);const u0=["get",...kf];new Set(u0);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ms(){return ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ms.apply(this,arguments)}const cc=k.createContext(null),d0=k.createContext(null),er=k.createContext(null),da=k.createContext(null),St=k.createContext({outlet:null,matches:[],isDataRoute:!1}),jf=k.createContext(null);function h0(e,t){let{relative:r}=t===void 0?{}:t;yn()||ce(!1);let{basename:n,navigator:s}=k.useContext(er),{hash:i,pathname:a,search:l}=Ef(e,{relative:r}),c=a;return n!=="/"&&(c=a==="/"?n:Gt([n,a])),s.createHref({pathname:c,search:l,hash:i})}function yn(){return k.useContext(da)!=null}function tr(){return yn()||ce(!1),k.useContext(da).location}function Sf(e){k.useContext(er).static||k.useLayoutEffect(e)}function rr(){let{isDataRoute:e}=k.useContext(St);return e?S0():f0()}function f0(){yn()||ce(!1);let e=k.useContext(cc),{basename:t,future:r,navigator:n}=k.useContext(er),{matches:s}=k.useContext(St),{pathname:i}=tr(),a=JSON.stringify(oc(s,r.v7_relativeSplatPath)),l=k.useRef(!1);return Sf(()=>{l.current=!0}),k.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=lc(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Gt([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,a,i,e])}function Nf(){let{matches:e}=k.useContext(St),t=e[e.length-1];return t?t.params:{}}function Ef(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=k.useContext(er),{matches:s}=k.useContext(St),{pathname:i}=tr(),a=JSON.stringify(oc(s,n.v7_relativeSplatPath));return k.useMemo(()=>lc(e,JSON.parse(a),i,r==="path"),[e,a,i,r])}function p0(e,t){return m0(e,t)}function m0(e,t,r,n){yn()||ce(!1);let{navigator:s}=k.useContext(er),{matches:i}=k.useContext(St),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=tr(),d;if(t){var h;let b=typeof t=="string"?Er(t):t;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||ce(!1),d=b}else d=u;let f=d.pathname||"/",v=f;if(c!=="/"){let b=c.replace(/^\//,"").split("/");v="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=Fg(e,{pathname:v}),y=w0(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Gt([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Gt([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r,n);return t&&y?k.createElement(da.Provider,{value:{location:ms({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:zt.Pop}},y):y}function g0(){let e=j0(),t=c0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),r?k.createElement("pre",{style:s},r):null,null)}const v0=k.createElement(g0,null);class y0 extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?k.createElement(St.Provider,{value:this.props.routeContext},k.createElement(jf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function x0(e){let{routeContext:t,match:r,children:n}=e,s=k.useContext(cc);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(St.Provider,{value:t},n)}function w0(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||ce(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:v}=r,x=h.route.loader&&f[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||x){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let v,x=!1,y=null,b=null;r&&(v=l&&h.route.id?l[h.route.id]:void 0,y=h.route.errorElement||v0,c&&(u<0&&f===0?(N0("route-fallback"),x=!0,b=null):u===f&&(x=!0,b=h.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,f+1)),m=()=>{let p;return v?p=y:x?p=b:h.route.Component?p=k.createElement(h.route.Component,null):h.route.element?p=h.route.element:p=d,k.createElement(x0,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:p})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?k.createElement(y0,{location:r.location,revalidation:r.revalidation,component:y,error:v,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var Cf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Cf||{}),Tf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Tf||{});function b0(e){let t=k.useContext(cc);return t||ce(!1),t}function _0(e){let t=k.useContext(d0);return t||ce(!1),t}function k0(e){let t=k.useContext(St);return t||ce(!1),t}function Pf(e){let t=k0(),r=t.matches[t.matches.length-1];return r.route.id||ce(!1),r.route.id}function j0(){var e;let t=k.useContext(jf),r=_0(),n=Pf();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function S0(){let{router:e}=b0(Cf.UseNavigateStable),t=Pf(Tf.UseNavigateStable),r=k.useRef(!1);return Sf(()=>{r.current=!0}),k.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ms({fromRouteId:t},i)))},[e,t])}const Tu={};function N0(e,t,r){Tu[e]||(Tu[e]=!0)}function E0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Pu(e){let{to:t,replace:r,state:n,relative:s}=e;yn()||ce(!1);let{future:i,static:a}=k.useContext(er),{matches:l}=k.useContext(St),{pathname:c}=tr(),u=rr(),d=lc(t,oc(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return k.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function Ue(e){ce(!1)}function C0(e){let{basename:t="/",children:r=null,location:n,navigationType:s=zt.Pop,navigator:i,static:a=!1,future:l}=e;yn()&&ce(!1);let c=t.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:c,navigator:i,static:a,future:ms({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof n=="string"&&(n=Er(n));let{pathname:d="/",search:h="",hash:f="",state:v=null,key:x="default"}=n,y=k.useMemo(()=>{let b=ac(d,c);return b==null?null:{location:{pathname:b,search:h,hash:f,state:v,key:x},navigationType:s}},[c,d,h,f,v,x,s]);return y==null?null:k.createElement(er.Provider,{value:u},k.createElement(da.Provider,{children:r,value:y}))}function Ru(e){let{children:t,location:r}=e;return p0(Qo(t),r)}new Promise(()=>{});function Qo(e,t){t===void 0&&(t=[]);let r=[];return k.Children.forEach(e,(n,s)=>{if(!k.isValidElement(n))return;let i=[...t,s];if(n.type===k.Fragment){r.push.apply(r,Qo(n.props.children,i));return}n.type!==Ue&&ce(!1),!n.props.index||!n.props.children||ce(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Qo(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yo(){return Yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yo.apply(this,arguments)}function T0(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function P0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function R0(e,t){return e.button===0&&(!t||t==="_self")&&!P0(e)}function Xo(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function O0(e,t){let r=Xo(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const A0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],I0="6";try{window.__reactRouterVersion=I0}catch{}const L0="startTransition",Ou=Np[L0];function $0(e){let{basename:t,children:r,future:n,window:s}=e,i=k.useRef();i.current==null&&(i.current=Dg({window:s,v5Compat:!0}));let a=i.current,[l,c]=k.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},d=k.useCallback(h=>{u&&Ou?Ou(()=>c(h)):c(h)},[c,u]);return k.useLayoutEffect(()=>a.listen(d),[a,d]),k.useEffect(()=>E0(n),[n]),k.createElement(C0,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:a,future:n})}const U0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",D0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$=k.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=T0(t,A0),{basename:v}=k.useContext(er),x,y=!1;if(typeof u=="string"&&D0.test(u)&&(x=u,U0))try{let p=new URL(window.location.href),w=u.startsWith("//")?new URL(p.protocol+u):new URL(u),_=ac(w.pathname,v);w.origin===p.origin&&_!=null?u=_+w.search+w.hash:y=!0}catch{}let b=h0(u,{relative:s}),g=z0(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function m(p){n&&n(p),p.defaultPrevented||g(p)}return k.createElement("a",Yo({},f,{href:x||b,onClick:y||i?n:m,ref:r,target:c}))});var Au;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Au||(Au={}));var Iu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Iu||(Iu={}));function z0(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:l}=t===void 0?{}:t,c=rr(),u=tr(),d=Ef(e,{relative:a});return k.useCallback(h=>{if(R0(h,r)){h.preventDefault();let f=n!==void 0?n:Bi(u)===Bi(d);c(e,{replace:f,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,d,n,s,r,e,i,a,l])}function Rf(e){let t=k.useRef(Xo(e)),r=k.useRef(!1),n=tr(),s=k.useMemo(()=>O0(n.search,r.current?null:t.current),[n.search]),i=rr(),a=k.useCallback((l,c)=>{const u=Xo(typeof l=="function"?l(s):l);r.current=!0,i("?"+u,c)},[i,s]);return[s,a]}function ha(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function M0(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}const F0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class uc extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class B0 extends uc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Lu extends uc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class $u extends uc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Zo;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Zo||(Zo={}));class q0{constructor(t,{headers:r={},customFetch:n,region:s=Zo.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=F0(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return M0(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=n;let f={},{region:v}=n;v||(v=this.region);const x=new URL(`${this.url}/${r}`);v&&v!=="any"&&(f["x-region"]=v,x.searchParams.set("forceFunctionRegion",v));let y;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(f["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(f["Content-Type"]="application/json",y=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?y=JSON.stringify(u):y=u;let b=d;h&&(a=new AbortController,i=setTimeout(()=>a.abort(),h),d?(b=a.signal,d.addEventListener("abort",()=>a.abort())):b=a.signal);const g=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:y,signal:b}).catch(_=>{throw new B0(_)}),m=g.headers.get("x-relay-error");if(m&&m==="true")throw new Lu(g);if(!g.ok)throw new $u(g);let p=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),w;return p==="application/json"?w=yield g.json():p==="application/octet-stream"||p==="application/pdf"?w=yield g.blob():p==="text/event-stream"?w=g:p==="multipart/form-data"?w=yield g.formData():w=yield g.text(),{data:w,error:null,response:g}}catch(l){return{data:null,error:l,response:l instanceof $u||l instanceof Lu?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var W0=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},V0=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var h,f;if(r.method!=="HEAD"){var v;const g=await i.text();g===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((v=r.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?l=g:l=JSON.parse(g))}const y=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),b=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");y&&b&&b.length>1&&(c=parseInt(b[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(a={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var x;const y=await i.text();try{a=JSON.parse(y),Array.isArray(a)&&i.status===404&&(l=[],a=null,u=200,d="OK")}catch{i.status===404&&y===""?(u=204,d="No Content"):a={message:y}}if(a&&r.isMaybeSingle&&(!(a==null||(x=a.details)===null||x===void 0)&&x.includes("0 rows"))&&(a=null,u=200,d="OK"),a&&r.shouldThrowOnError)throw new W0(a)}return{error:a,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,h,f;const x=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",y=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(f=c==null?void 0:c.name)!==null&&f!==void 0?f:"Error"}: ${x}`,y&&(l+=` (${y})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var v;l=(v=i==null?void 0:i.stack)!==null&&v!==void 0?v:""}return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},H0=class extends V0{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var a;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Uu=new RegExp("[,()]");var Ur=class extends H0{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Uu.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Uu.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},K0=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",a),n&&c.append("Prefer",`count=${n}`),new Ur({method:s,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),r||a.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new Ur({method:s,url:i,headers:a,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const a="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);l.searchParams.set("columns",d.join(","))}}return new Ur({method:a,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Ur({method:n,url:s,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Ur({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},G0=class Of{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new K0(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Of(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=v=>v!==null&&typeof v=="object"&&(!Array.isArray(v)||v.some(d)),h=n&&Object.values(r).some(d);h?(l="POST",u=r):n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([v,x])=>x!==void 0).map(([v,x])=>[v,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([v,x])=>{c.searchParams.append(v,x)})):(l="POST",u=r);const f=new Headers(this.headers);return h?f.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&f.set("Prefer",`count=${i}`),new Ur({method:l,url:c,headers:f,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class J0{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Q0="2.93.2",Y0=`realtime-js/${Q0}`,X0="1.0.0",Af="2.0.0",Du=Af,el=1e4,Z0=1e3,ev=100;var At;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(At||(At={}));var he;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(he||(he={}));var tt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(tt||(tt={}));var tl;(function(e){e.websocket="websocket"})(tl||(tl={}));var dr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(dr||(dr={}));class tv{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,r,n){var s,i;const a=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+a.length+u.length+h.length,v=new ArrayBuffer(this.HEADER_LENGTH+f);let x=new DataView(v),y=0;x.setUint8(y++,this.KINDS.userBroadcastPush),x.setUint8(y++,c.length),x.setUint8(y++,l.length),x.setUint8(y++,a.length),x.setUint8(y++,u.length),x.setUint8(y++,h.length),x.setUint8(y++,r),Array.from(c,g=>x.setUint8(y++,g.charCodeAt(0))),Array.from(l,g=>x.setUint8(y++,g.charCodeAt(0))),Array.from(a,g=>x.setUint8(y++,g.charCodeAt(0))),Array.from(u,g=>x.setUint8(y++,g.charCodeAt(0))),Array.from(h,g=>x.setUint8(y++,g.charCodeAt(0)));var b=new Uint8Array(v.byteLength+n.byteLength);return b.set(new Uint8Array(v),0),b.set(new Uint8Array(n),v.byteLength),b.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,a,l,c]=n;return r({join_ref:s,ref:i,topic:a,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+i));c=c+i;const h=n.decode(t.slice(c,c+a));c=c+a;const f=t.slice(c,t.byteLength),v=l===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,x={type:this.BROADCAST_EVENT,event:d,payload:v};return a>0&&(x.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class If{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var K;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(K||(K={}));const zu=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=rv(a,e,t,s),i),{}):{}},rv=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?Lf(i,a):rl(a)},Lf=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return av(t,r)}switch(e){case K.bool:return nv(t);case K.float4:case K.float8:case K.int2:case K.int4:case K.int8:case K.numeric:case K.oid:return sv(t);case K.json:case K.jsonb:return iv(t);case K.timestamp:return ov(t);case K.abstime:case K.date:case K.daterange:case K.int4range:case K.int8range:case K.money:case K.reltime:case K.text:case K.time:case K.timestamptz:case K.timetz:case K.tsrange:case K.tstzrange:return rl(t);default:return rl(t)}},rl=e=>e,nv=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},sv=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},iv=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},av=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>Lf(t,l))}return e},ov=e=>typeof e=="string"?e.replace(" ","T"):e,$f=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ka{constructor(t,r,n={},s=el){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Mu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Mu||(Mu={}));class Gn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Gn.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=Gn.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Gn.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const f=d.map(b=>b.presence_ref),v=h.map(b=>b.presence_ref),x=d.filter(b=>v.indexOf(b.presence_ref)<0),y=h.filter(b=>f.indexOf(b.presence_ref)<0);x.length>0&&(l[u]=x),y.length>0&&(c[u]=y)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(v=>v.presence_ref),f=d.filter(v=>h.indexOf(v.presence_ref)<0);t[l].unshift(...f)}n(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Fu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Fu||(Fu={}));var Jn;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Jn||(Jn={}));var mt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(mt||(mt={}));class Xr{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=he.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ka(this,tt.join,this.params,this.timeout),this.rejoinTimer=new If(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=he.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=he.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tt.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new Gn(this),this.broadcastEndpointURL=$f(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==he.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Jn.PRESENCE]&&this.bindings[Jn.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t(mt.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(mt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){t==null||t(mt.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,b=(x=y==null?void 0:y.length)!==null&&x!==void 0?x:0,g=[];for(let m=0;m<b;m++){const p=y[m],{filter:{event:w,schema:_,table:S,filter:E}}=p,j=v&&v[m];if(j&&j.event===w&&Xr.isFilterValueEqual(j.schema,_)&&Xr.isFilterValueEqual(j.table,S)&&Xr.isFilterValueEqual(j.filter,E))g.push(Object.assign(Object.assign({},p),{id:j.id}));else{this.unsubscribe(),this.state=he.errored,t==null||t(mt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(mt.SUBSCRIBED);return}}).receive("error",v=>{this.state=he.errored,t==null||t(mt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(mt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===he.joined&&t===Jn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=he.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ka(this,tt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=he.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ka(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>ev){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=tt;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var x,y,b;return((x=v.filter)===null||x===void 0?void 0:x.event)==="*"||((b=(y=v.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(v=>v.callback(f,n)):(i=this.bindings[a])===null||i===void 0||i.filter(v=>{var x,y,b,g,m,p;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const w=v.id,_=(x=v.filter)===null||x===void 0?void 0:x.event;return w&&((y=r.ids)===null||y===void 0?void 0:y.includes(w))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const w=(m=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return w==="*"||w===((p=r==null?void 0:r.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:y,table:b,commit_timestamp:g,type:m,errors:p}=x;f=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:g,eventType:m,new:{},old:{},errors:p}),this._getPayloadRecords(x))}v.callback(f,n)})}_isClosed(){return this.state===he.closed}_isJoined(){return this.state===he.joined}_isJoining(){return this.state===he.joining}_isLeaving(){return this.state===he.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Xr.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(tt.close,{},t)}_onError(t){this._on(tt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=he.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=zu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=zu(t.columns,t.old_record)),r}}const Ga=()=>{},Xs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},lv=[1e3,2e3,5e3,1e4],cv=1e4,uv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class dv{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=el,this.transport=null,this.heartbeatIntervalMs=Xs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ga,this.ref=0,this.reconnectTimer=null,this.vsn=Du,this.logger=Ga,this.conn=null,this.sendBuffer=[],this.serializer=new tv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${tl.websocket}`,this.httpEndpoint=$f(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=J0.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case At.connecting:return dr.Connecting;case At.open:return dr.Open;case At.closing:return dr.Closing;default:return dr.Closed}}isConnected(){return this.connectionState()===dr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Xr(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Z0,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Xs.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:a}=r,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===At.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===At.open||this.conn.readyState===At.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(tt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([uv],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:Y0};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(tt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new If(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,l,c,u,d,h,f,v;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:el,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Xs.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Ga,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:Du,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:x=>lv[x-1]||cv,this.vsn){case X0:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(x,y)=>y(JSON.stringify(x)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(x,y)=>y(JSON.parse(x));break;case Af:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(v=t==null?void 0:t.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var gs=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function hv(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function fv(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function pv(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:a}){const l=hv(e.baseUrl,n,s),c=await fv(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...a},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!u.ok){const v=h?f:void 0,x=v==null?void 0:v.error;throw new gs((x==null?void 0:x.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:v})}return{status:u.status,headers:u.headers,data:f}}}}function Zs(e){return e.join("")}var mv=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Zs(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Zs(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zs(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Zs(e.namespace)}`}),!0}catch(t){if(t instanceof gs&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof gs&&r.status===409)return;throw r}}};function Rr(e){return e.join("")}var gv=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Rr(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Rr(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Rr(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Rr(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Rr(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Rr(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof gs&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof gs&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},vv=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=pv({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new mv(this.client,t),this.tableOps=new gv(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},fa=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function pa(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var ei=class extends fa{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Uf=class extends fa{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const yv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),xv=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},nl=e=>{if(Array.isArray(e))return e.map(r=>nl(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=nl(n)}),t},wv=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function vs(e){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vs(e)}function bv(e,t){if(vs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _v(e){var t=bv(e,"string");return vs(t)=="symbol"?t:t+""}function kv(e,t,r){return(t=_v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bu(Object(r),!0).forEach(function(n){kv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const qu=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},jv=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e,i=s.status||500;if(typeof s.json=="function")s.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";t(new ei(qu(a),i,l,n))}).catch(()=>{if(n==="vectors"){const a=i+"";t(new ei(s.statusText||`HTTP ${i} error`,i,a,n))}else{const a=i+"";t(new ei(s.statusText||`HTTP ${i} error`,i,a,n))}});else{const a=i+"";t(new ei(s.statusText||`HTTP ${i} error`,i,a,n))}}else t(new Uf(qu(e),e,n))},Sv=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?I(I({},s),r):(xv(n)?(s.headers=I({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),I(I({},s),r))};async function Pn(e,t,r,n,s,i,a){return new Promise((l,c)=>{e(r,Sv(t,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(a==="vectors"){const d=u.headers.get("content-type");if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>jv(u,c,n,a))})}function Nv(e="storage"){return{get:async(t,r,n,s)=>Pn(t,"GET",r,n,s,void 0,e),post:async(t,r,n,s,i)=>Pn(t,"POST",r,s,i,n,e),put:async(t,r,n,s,i)=>Pn(t,"PUT",r,s,i,n,e),head:async(t,r,n,s)=>Pn(t,"HEAD",r,I(I({},n),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,r,n,s,i)=>Pn(t,"DELETE",r,s,i,n,e)}}const Ev=Nv("storage"),{get:ys,post:Z,put:sl,head:Cv,remove:dc}=Ev;var xn=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=yv(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(pa(r))return{data:null,error:r};throw r}}},Tv=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(pa(t))return{data:null,error:t};throw t}}};let Df;Df=Symbol.toStringTag;var Pv=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Df]="BlobDownloadBuilder",this.promise=null}asStream(){return new Tv(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(pa(t))return{data:null,error:t};throw t}}};const Rv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Wu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Ov=class extends xn{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var s=this;return s.handleOperation(async()=>{let i;const a=I(I({},Wu),n);let l=I(I({},s.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(l=I(I({},l),n.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),h=await(e=="PUT"?sl:Z)(s.fetch,`${s.url}/object/${d}`,i,I({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:u,id:h.Id,fullPath:h.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),a=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${a}`);return l.searchParams.set("token",t),s.handleOperation(async()=>{let c;const u=I({upsert:Wu.upsert},n),d=I(I({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:i,fullPath:(await sl(s.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const s=I({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await Z(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(r.url+i.url),l=a.searchParams.get("token");if(!l)throw new fa("No token returned by API");return{signedUrl:a.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await Z(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await Z(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(e),i=await Z(n.fetch,`${n.url}/object/sign/${s}`,I({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${a}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const s=await Z(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(a=>I(I({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${i}`):null}))})}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(e),a=()=>ys(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new Pv(a,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>nl(await ys(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await Cv(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(pa(n)&&n instanceof Uf){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&n.push(a);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await dc(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const s=I(I(I({},Rv),t),{},{prefix:e||""});return await Z(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=I({},e);return await Z(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Av="2.93.2",Ts={"X-Client-Info":`storage-js/${Av}`};var Iv=class extends xn{constructor(e,t={},r,n){const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),a=I(I({},Ts),t);super(i,a,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await ys(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ys(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Z(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await sl(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Z(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await dc(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Lv=class extends xn{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=I(I({},Ts),t);super(n,s,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Z(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await ys(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await dc(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!wv(e))throw new fa("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new vv({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...l)=>{try{return{data:await a.apply(s,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},$v=class extends xn{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=I(I({},Ts),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Z(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Z(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Z(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Z(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},Uv=class extends xn{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=I(I({},Ts),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Z(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Z(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Z(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Z(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Z(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},Dv=class extends xn{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=I(I({},Ts),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Z(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Z(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Z(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Z(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},zv=class extends Dv{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Mv(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},Mv=class extends $v{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,I(I({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,I(I({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new Fv(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Fv=class extends Uv{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,I(I({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,I(I({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,I(I({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,I(I({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,I(I({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Bv=class extends Iv{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new Ov(this.url,this.headers,e,this.fetch)}get vectors(){return new zv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Lv(this.url+"/iceberg",this.headers,this.fetch)}};const zf="2.93.2",Dr=30*1e3,il=3,Ja=il*Dr,qv="http://localhost:9999",Wv="supabase.auth.token",Vv={"X-Client-Info":`gotrue-js/${zf}`},al="X-Supabase-Api-Version",Mf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Hv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Kv=10*60*1e3;class xs extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function R(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Gv extends xs{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Jv(e){return R(e)&&e.name==="AuthApiError"}class hr extends xs{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Nt extends xs{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class De extends Nt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Qa(e){return R(e)&&e.name==="AuthSessionMissingError"}class Or extends Nt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ti extends Nt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ri extends Nt{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Qv(e){return R(e)&&e.name==="AuthImplicitGrantRedirectError"}class Vu extends Nt{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Yv extends Nt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ol extends Nt{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ya(e){return R(e)&&e.name==="AuthRetryableFetchError"}class Hu extends Nt{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ll extends Nt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const qi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ku=` 	
\r=`.split(""),Xv=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ku.length;t+=1)e[Ku[t].charCodeAt(0)]=-2;for(let t=0;t<qi.length;t+=1)e[qi[t].charCodeAt(0)]=t;return e})();function Gu(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(qi[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(qi[n]),t.queuedBits-=6}}function Ff(e,t,r){const n=Xv[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Ju(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{ty(a,n,r)};for(let a=0;a<e.length;a+=1)Ff(e.charCodeAt(a),s,i);return t.join("")}function Zv(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ey(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Zv(n,t)}}function ty(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function an(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Ff(e.charCodeAt(s),r,n);return new Uint8Array(t)}function ry(e){const t=[];return ey(e,r=>t.push(r)),new Uint8Array(t)}function gr(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Gu(s,r,n)),Gu(null,r,n),t.join("")}function ny(e){return Math.round(Date.now()/1e3)+e}function sy(){return Symbol("auth-callback")}const we=()=>typeof window<"u"&&typeof document<"u",ar={tested:!1,writable:!1},Bf=()=>{if(!we())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ar.tested)return ar.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ar.tested=!0,ar.writable=!0}catch{ar.tested=!0,ar.writable=!1}return ar.writable};function iy(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const qf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ay=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",zr=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},or=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},xe=async(e,t)=>{await e.removeItem(t)};class ma{constructor(){this.promise=new ma.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ma.promiseConstructor=Promise;function ni(e){const t=e.split(".");if(t.length!==3)throw new ll("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Hv.test(t[n]))throw new ll("JWT not in base64url format");return{header:JSON.parse(Ju(t[0])),payload:JSON.parse(Ju(t[1])),signature:an(t[2]),raw:{header:t[0],payload:t[1]}}}async function oy(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function ly(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function cy(e){return("0"+e.toString(16)).substr(-2)}function uy(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,cy).join("")}async function dy(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function hy(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await dy(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ar(e,t,r=!1){const n=uy();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await zr(e,`${t}-code-verifier`,s);const i=await hy(n);return[i,n===i?"plain":"s256"]}const fy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function py(e){const t=e.headers.get(al);if(!t||!t.match(fy))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function my(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function gy(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const vy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ir(e){if(!vy.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xa(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function yy(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function Qu(e){return JSON.parse(JSON.stringify(e))}const ur=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),xy=[502,503,504];async function Yu(e){var t;if(!ay(e))throw new ol(ur(e),0);if(xy.includes(e.status))throw new ol(ur(e),e.status);let r;try{r=await e.json()}catch(i){throw new hr(ur(i),i)}let n;const s=py(e);if(s&&s.getTime()>=Mf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Hu(ur(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new De}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Hu(ur(r),e.status,r.weak_password.reasons);throw new Gv(ur(r),e.status||500,n)}const wy=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function A(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[al]||(i[al]=Mf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await by(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function by(e,t,r,n,s,i){const a=wy(t,n,s,i);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new ol(ur(c),0)}if(l.ok||await Yu(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Yu(c)}}function Xe(e){var t;let r=null;jy(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=ny(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Xu(e){const t=Xe(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function $t(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function _y(e){return{data:e,error:null}}function ky(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=ha(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function Zu(e){return e}function jy(e){return e.access_token&&e.refresh_token&&e.expires_in}const Za=["global","local","others"];class Sy{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=qf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Za[0]){if(Za.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Za.join(", ")}`);try{return await A(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await A(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:$t})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ha(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await A(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:ky,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(R(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await A(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:$t})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await A(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Zu});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(x=>{const y=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(R(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ir(t);try{return await A(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:$t})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ir(t);try{return await A(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:$t})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ir(t);try{return await A(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:$t})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ir(t.userId);try{const{data:r,error:n}=await A(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(R(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ir(t.userId),Ir(t.id);try{return{data:await A(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await A(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Zu});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(x=>{const y=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(R(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await A(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await A(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await A(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await A(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await A(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}}function ed(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Lr={debug:!!(globalThis&&Bf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Wf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Ny extends Wf{}async function Ey(e,t,r){Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Ny(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Lr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Cy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Vf(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Ty(e){return parseInt(e,16)}function Py(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Ry(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:f}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=Vf(e.address),x=d?`${d}://${n}`:n,y=e.statement?`${e.statement}
`:"",b=`${x} wants you to sign in with your Ethereum account:
${v}

${y}`;let g=`URI: ${h}
Version: ${f}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),l&&(g+=`
Not Before: ${l.toISOString()}`),c&&(g+=`
Request ID: ${c}`),u){let m=`
Resources:`;for(const p of u){if(!p||typeof p!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${p}`);m+=`
- ${p}`}g+=m}return`${b}
${g}`}class ue extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Wi extends ue{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Oy({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ue({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ue({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ue({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ue({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ue({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ue({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new ue({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ue({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(Hf(a)){if(i.rp.id!==a)return new ue({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ue({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ue({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ue({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ue({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Ay({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ue({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ue({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Hf(n)){if(r.rpId!==n)return new ue({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ue({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ue({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ue({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Iy{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Ly=new Iy;function $y(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=ha(e,["challenge","user","excludeCredentials"]),i=an(t).buffer,a=Object.assign(Object.assign({},r),{id:an(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:an(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function Uy(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ha(e,["challenge","allowCredentials"]),s=an(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const l=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:an(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function Dy(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:gr(new Uint8Array(e.response.attestationObject)),clientDataJSON:gr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function zy(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:gr(new Uint8Array(s.authenticatorData)),clientDataJSON:gr(new Uint8Array(s.clientDataJSON)),signature:gr(new Uint8Array(s.signature)),userHandle:s.userHandle?gr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Hf(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function td(){var e,t;return!!(we()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function My(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Wi("Browser returned unexpected credential type",t)}:{data:null,error:new Wi("Empty credential response",t)}}catch(t){return{data:null,error:Oy({error:t,options:e})}}}async function Fy(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Wi("Browser returned unexpected credential type",t)}:{data:null,error:new Wi("Empty credential response",t)}}catch(t){return{data:null,error:Ay({error:t,options:e})}}}const By={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},qy={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Vi(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(t(a)){const l=n[i];t(l)?n[i]=Vi(l,a):n[i]=Vi(a)}else n[i]=a}return n}function Wy(e,t){return Vi(By,e,t||{})}function Vy(e,t){return Vi(qy,e,t||{})}class Hy{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:l};const c=s??Ly.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=Wy(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await My({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=Vy(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await Fy(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return R(a)?{data:null,error:a}:{data:null,error:new hr("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new xs("rpId is required for WebAuthn authentication")};try{if(!td())return{data:null,error:new hr("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:l};const{webauthn:c}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(a){return R(a)?{data:null,error:a}:{data:null,error:new hr("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new xs("rpId is required for WebAuthn registration")};try{if(!td())return{data:null,error:new hr("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return R(a)?{data:null,error:a}:{data:null,error:new hr("Unexpected error in register",a)}}}}Cy();const Ky={url:qv,storageKey:Wv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Vv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function rd(e,t,r){return await r()}const $r={};class ws{get jwks(){var t,r;return(r=(t=$r[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){$r[this.storageKey]=Object.assign(Object.assign({},$r[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=$r[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){$r[this.storageKey]=Object.assign(Object.assign({},$r[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Ky),t);if(this.storageKey=i.storageKey,this.instanceID=(r=ws.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ws.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&we()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Sy({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=qf(i.fetch),this.lock=i.lock||rd,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&we()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Ey:this.lock=rd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Hy(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Bf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ed(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=ed(this.memoryStorage)),we()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${zf}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(we()&&(r=iy(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),we()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Qv(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return R(r)?this._returnResult({error:r}):this._returnResult({error:new hr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Xe}),{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(R(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await Ar(this.storage,this.storageKey)),i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:x},xform:Xe})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Xe})}else throw new ti("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return await xe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await xe(this.storage,`${this.storageKey}-code-verifier`),R(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:l}=t;r=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Xu})}else if("phone"in t){const{phone:i,password:a,options:l}=t;r=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Xu})}else throw new ti("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Or;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(R(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,a,l,c,u,d,h,f;let v,x;if("message"in t)v=t.message,x=t.signature;else{const{chain:y,wallet:b,statement:g,options:m}=t;let p;if(we())if(typeof b=="object")p=b;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")p=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");p=b}const w=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),_=await p.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=Vf(_[0]);let E=(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const P=await p.request({method:"eth_chainId"});E=Ty(P)}const j={domain:w.host,address:S,statement:g,uri:w.href,version:"1",chainId:E,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=m==null?void 0:m.signInWithEthereum)===null||d===void 0?void 0:d.resources};v=Ry(j),x=await p.request({method:"personal_sign",params:[Py(v),S]})}try{const{data:y,error:b}=await A(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:x},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Xe});if(b)throw b;if(!y||!y.session||!y.user){const g=new Or;return this._returnResult({data:{user:null,session:null},error:g})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:b})}catch(y){if(R(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var r,n,s,i,a,l,c,u,d,h,f,v;let x,y;if("message"in t)x=t.message,y=t.signature;else{const{chain:b,wallet:g,statement:m,options:p}=t;let w;if(we())if(typeof g=="object")w=g;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))w=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const _=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const S=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),m?{statement:m}:null));let E;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")E=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)E=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)x=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),y=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${_.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(n=p==null?void 0:p.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const S=await w.signMessage(new TextEncoder().encode(x),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=S}}try{const{data:b,error:g}=await A(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:gr(y)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Xe});if(g)throw g;if(!b||!b.session||!b.user){const m=new Or;return this._returnResult({data:{user:null,session:null},error:m})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:g})}catch(b){if(R(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const r=await or(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Yv;const{data:i,error:a}=await A(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Xe});if(await xe(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const l=new Or;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await xe(this.storage,`${this.storageKey}-code-verifier`),R(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,l=await A(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Xe}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Or;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(R(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ar(this.storage,this.storageKey));const{error:h}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new ti("You must provide either an email or phone number.")}catch(l){if(await xe(this.storage,`${this.storageKey}-code-verifier`),R(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await A(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Xe});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(R(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Ar(this.storage,this.storageKey));const u=await A(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:_y});return!((i=u.data)===null||i===void 0)&&i.url&&we()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await xe(this.storage,`${this.storageKey}-code-verifier`),R(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new De;const{error:s}=await A(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(R(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await A(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:l}=await A(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new ti("You must provide either an email or phone number and a type")}catch(r){if(R(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await or(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ja:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await or(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Xa()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=yy(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:$t}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new De}:await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:$t})})}catch(r){if(R(r))return Qa(r)&&(await this._removeSession(),await xe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new De;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ar(this.storage,this.storageKey));const{data:u,error:d}=await A(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:$t});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await xe(this.storage,`${this.storageKey}-code-verifier`),R(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new De;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=ni(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(R(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new De;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(R(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!we())throw new ri("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ri(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Vu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ri("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Vu("No code detected.");const{data:m,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!a||!u)throw new ri("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const v=f-d;v*1e3<=Dr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const x=f-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,d);const{data:y,error:b}=await this._getUser(i);if(b)throw b;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if(R(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await or(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i&&!Qa(i))return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(Jv(l)&&(l.status===404||l.status===401||l.status===403)||Qa(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await xe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=sy(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ar(this.storage,this.storageKey,!0));try{return await A(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await xe(this.storage,`${this.storageKey}-code-verifier`),R(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await A(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return we()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(R(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:l,token:c,access_token:u,nonce:d}=t,h=await A(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Xe}),{data:f,error:v}=h;return v?this._returnResult({data:{user:null,session:null},error:v}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Or}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:v}))}catch(s){if(await xe(this.storage,`${this.storageKey}-code-verifier`),R(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await A(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await ly(async s=>(s>0&&await oy(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await A(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Xe})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Ya(i)&&Date.now()+a-n<Dr})}catch(n){if(this._debug(r,"error",n),R(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),we()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await or(this.storage,this.storageKey);if(s&&this.userStorage){let a=await or(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await zr(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Xa()}else if(s&&!s.user&&!s.user){const a=await or(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await xe(this.storage,this.storageKey+"-user"),await zr(this.storage,this.storageKey,s)):s.user=Xa()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ja;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ja}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Ya(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new De;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ma;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new De;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),R(i)){const a={data:null,error:i};return Ya(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await xe(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await zr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Qu(s);await zr(this.storage,this.storageKey,i)}else{const s=Qu(r);await zr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await xe(this.storage,this.storageKey),await xe(this.storage,this.storageKey+"-code-verifier"),await xe(this.storage,this.storageKey+"-user"),this.userStorage&&await xe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&we()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Dr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Dr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Dr}ms, refresh threshold is ${il} ticks`),s<=il&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Wf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!we()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Ar(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await A(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await A(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Dy(t.webauthn.credential_response):zy(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await A(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await A(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:$y(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Uy(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,s,i;if(t)try{const{payload:v}=ni(t);let x=null;v.aal&&(x=v.aal);let y=x;const{data:{user:b},error:g}=await this.getUser(t);if(g)return this._returnResult({data:null,error:g});((n=(r=b==null?void 0:b.factors)===null||r===void 0?void 0:r.filter(w=>w.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(y="aal2");const p=v.amr||[];return{data:{currentLevel:x,nextLevel:y,currentAuthenticationMethods:p},error:null}}catch(v){if(R(v))return this._returnResult({data:null,error:v});throw v}const{data:{session:a},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=ni(a.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((i=(s=a.user.factors)===null||s===void 0?void 0:s.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const f=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await A(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new De})})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new De});const a=await A(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&we()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new De});const a=await A(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&we()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await A(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new De})})}catch(t){if(R(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await A(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new De})})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+Kv>s)return n;const{data:i,error:a}=await A(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:v,error:x}=await this.getSession();if(x||!v.session)return this._returnResult({data:null,error:x});n=v.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=ni(n);r!=null&&r.allowExpired||my(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:a},error:null}}const d=gy(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,ry(`${l}.${c}`)))throw new ll("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}}ws.nextInstanceID={};const Gy=ws,Jy="2.93.2";let Dn="";typeof Deno<"u"?Dn="deno":typeof document<"u"?Dn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Dn="react-native":Dn="node";const Qy={"X-Client-Info":`supabase-js-${Dn}/${Jy}`},Yy={headers:Qy},Xy={schema:"public"},Zy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ex={};function bs(e){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(e)}function tx(e,t){if(bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rx(e){var t=tx(e,"string");return bs(t)=="symbol"?t:t+""}function nx(e,t,r){return(t=rx(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nd(Object(r),!0).forEach(function(n){nx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const sx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ix=()=>Headers,ax=(e,t,r)=>{const n=sx(r),s=ix();return async(i,a)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,ae(ae({},a),{},{headers:u}))}};function ox(e){return e.endsWith("/")?e:e+"/"}function lx(e,t){var r,n;const{db:s,auth:i,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:ae(ae({},c),s),auth:ae(ae({},u),i),realtime:ae(ae({},d),a),storage:{},global:ae(ae(ae({},h),l),{},{headers:ae(ae({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function cx(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ox(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var ux=class extends Gy{constructor(e){super(e)}},dx=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=cx(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:Xy,realtime:ex,auth:ae(ae({},Zy),{},{storageKey:a}),global:Yy},c=lx(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=ax(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(ae({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new G0(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new Bv(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new q0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:a,lock:l,debug:c,throwOnError:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ux({url:this.authUrl.href,headers:ae(ae({},f),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:a,lock:l,debug:c,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new dv(this.realtimeUrl.href,ae(ae({},e),{},{params:ae(ae({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const hx=(e,t,r)=>new dx(e,t,r);function fx(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}fx()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const px="https://krbbibcoxvmcwgsugvvx.supabase.co",mx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtyYmJpYmNveHZtY3dnc3VndnZ4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk2MjM4MjcsImV4cCI6MjA4NTE5OTgyN30.XQF6_kbaHEUlLIJShmjWVsuqVzDL25EiMQAV_Xz1bDo",U=hx(px,mx,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),Kf=k.createContext(void 0),gx=({children:e})=>{const[t,r]=k.useState(null),[n,s]=k.useState(null),[i,a]=k.useState(!0),l=k.useRef(null);k.useEffect(()=>{const{data:{subscription:d}}=U.auth.onAuthStateChange(async(h,f)=>{var v;if(console.log(`[AuthContext] Event: ${h}`,(v=f==null?void 0:f.user)==null?void 0:v.id),f!=null&&f.user)if(r(f.user),!n||n.id!==f.user.id){if(l.current===f.user.id){console.log(`[AuthContext] Already fetching profile for ${f.user.id}, skipping redundant call`);return}h==="SIGNED_IN"&&(console.log("[AuthContext] SIGNED_IN detected, waiting 1s for trigger..."),await new Promise(x=>setTimeout(x,1e3))),await c(f.user.id)}else a(!1);else r(null),s(null),a(!1),l.current=null;h==="SIGNED_OUT"&&(r(null),s(null),a(!1),l.current=null)});return()=>{d.unsubscribe()}},[]);const c=async d=>{var h;if(l.current===d){console.log("[AuthContext] Already fetching profile, skipping");return}try{l.current=d,a(!0),console.log("[AuthContext] fetchProfile START for:",d);const f=new Promise((b,g)=>setTimeout(()=>g(new Error("Profile fetch timeout")),1e4)),v=U.from("profiles").select("*").eq("id",d).maybeSingle(),{data:x,error:y}=await Promise.race([v,f]);if(y){if(console.error("[AuthContext] fetchProfile DB ERROR:",y),y.code==="PGRST303"||(h=y.message)!=null&&h.includes("JWT expired")){console.error("[AuthContext] JWT expired, signing out..."),await u();return}console.error("[AuthContext] Continuing despite error:",y.message)}if(x)console.log("[AuthContext] Profile loaded successfully, role:",x.role),s(x);else{console.log("[AuthContext] Profile missing in DB, attempting safety net creation...");try{const{data:{user:b}}=await U.auth.getUser();if(b){const{data:g,error:m}=await U.from("profiles").upsert({id:b.id,full_name:b.user_metadata.full_name||"",role:b.user_metadata.role||"buyer"}).select().maybeSingle();!m&&g?(console.log("[AuthContext] Profile created/synced via safety net"),s(g)):(console.error("[AuthContext] Safety net failed:",m),s({id:b.id,full_name:b.user_metadata.full_name||"",role:b.user_metadata.role||"buyer",phone:null,created_at:new Date().toISOString()}))}}catch(b){console.error("[AuthContext] Safety net exception:",b);const{data:{user:g}}=await U.auth.getUser();g&&s({id:g.id,full_name:g.user_metadata.full_name||"",role:g.user_metadata.role||"buyer",phone:null,created_at:new Date().toISOString()})}}}catch(f){console.error("[AuthContext] Critical error in fetchProfile:",f),a(!1)}finally{console.log("[AuthContext] fetchProfile FINISHED for:",d),l.current=null,a(!1)}},u=async()=>{console.log("[AuthContext] Signing out..."),await U.auth.signOut(),r(null),s(null),a(!1)};return o.jsx(Kf.Provider,{value:{user:t,profile:n,loading:i,signOut:u},children:e})},Cr=()=>{const e=k.useContext(Kf);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Gf=k.createContext(void 0),vx=({children:e})=>{const[t,r]=k.useState([]);k.useEffect(()=>{const u=localStorage.getItem("cart");u&&r(JSON.parse(u))},[]),k.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(t))},[t]);const n=u=>{r(d=>d.find(f=>f.product.id===u.id)?d.map(f=>f.product.id===u.id?{...f,quantity:f.quantity+1}:f):[...d,{product:u,quantity:1}])},s=u=>{r(d=>d.filter(h=>h.product.id!==u))},i=(u,d)=>{d<1||r(h=>h.map(f=>f.product.id===u?{...f,quantity:d}:f))},a=()=>r([]),l=t.reduce((u,d)=>u+d.product.price*d.quantity,0),c=t.reduce((u,d)=>u+d.quantity,0);return o.jsx(Gf.Provider,{value:{items:t,addToCart:n,removeFromCart:s,updateQuantity:i,clearCart:a,totalAmount:l,itemCount:c},children:e})},ga=()=>{const e=k.useContext(Gf);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e};/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),z=(e,t)=>{const r=k.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,...u},d)=>k.createElement("svg",{ref:d,...yx,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${xx(e)}`,l].join(" "),...u},[...t.map(([h,f])=>k.createElement(h,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=z("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=z("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=z("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=z("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=z("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=z("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=z("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=z("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=z("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=z("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=z("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=z("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=z("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=z("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=z("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=z("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=z("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=z("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=z("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=z("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=z("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=z("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=z("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=z("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=z("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=z("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=z("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=z("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function np(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=np(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ps(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=np(e))&&(n&&(n+=" "),n+=t);return n}const pc="-",Bx=e=>{const t=Wx(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const l=a.split(pc);return l[0]===""&&l.length!==1&&l.shift(),sp(l,t)||qx(a)},getConflictingClassGroupIds:(a,l)=>{const c=r[a]||[];return l&&n[a]?[...c,...n[a]]:c}}},sp=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?sp(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(pc);return(a=t.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},id=/^\[(.+)\]$/,qx=e=>{if(id.test(e)){const t=id.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Wx=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Hx(Object.entries(e.classGroups),r).forEach(([i,a])=>{dl(a,n,i,t)}),n},dl=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:ad(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(Vx(s)){dl(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,a])=>{dl(a,ad(t,i),r,n)})})},ad=(e,t)=>{let r=e;return t.split(pc).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Vx=e=>e.isThemeGetter,Hx=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[t+a,l])):i);return[r,s]}):e,Kx=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,a)=>{r.set(i,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return s(i,a),a},set(i,a){r.has(i)?r.set(i,a):s(i,a)}}},ip="!",Gx=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,a=l=>{const c=[];let u=0,d=0,h;for(let b=0;b<l.length;b++){let g=l[b];if(u===0){if(g===s&&(n||l.slice(b,b+i)===t)){c.push(l.slice(d,b)),d=b+i;continue}if(g==="/"){h=b;continue}}g==="["?u++:g==="]"&&u--}const f=c.length===0?l:l.substring(d),v=f.startsWith(ip),x=v?f.substring(1):f,y=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:y}};return r?l=>r({className:l,parseClassName:a}):a},Jx=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Qx=e=>({cache:Kx(e.cacheSize),parseClassName:Gx(e),...Bx(e)}),Yx=/\s+/,Xx=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(Yx);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:v}=r(u);let x=!!v,y=n(x?f.substring(0,v):f);if(!y){if(!x){l=u+(l.length>0?" "+l:l);continue}if(y=n(f),!y){l=u+(l.length>0?" "+l:l);continue}x=!1}const b=Jx(d).join(":"),g=h?b+ip:b,m=g+y;if(i.includes(m))continue;i.push(m);const p=s(y,x);for(let w=0;w<p.length;++w){const _=p[w];i.push(g+_)}l=u+(l.length>0?" "+l:l)}return l};function Zx(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=ap(t))&&(n&&(n+=" "),n+=r);return n}const ap=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=ap(e[n]))&&(r&&(r+=" "),r+=t);return r};function ew(e,...t){let r,n,s,i=a;function a(c){const u=t.reduce((d,h)=>h(d),e());return r=Qx(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=Xx(c,r);return s(c,d),d}return function(){return i(Zx.apply(null,arguments))}}const J=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},op=/^\[(?:([a-z-]+):)?(.+)\]$/i,tw=/^\d+\/\d+$/,rw=new Set(["px","full","screen"]),nw=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,sw=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,iw=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,aw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ow=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ft=e=>on(e)||rw.has(e)||tw.test(e),Tt=e=>wn(e,"length",mw),on=e=>!!e&&!Number.isNaN(Number(e)),eo=e=>wn(e,"number",on),Rn=e=>!!e&&Number.isInteger(Number(e)),lw=e=>e.endsWith("%")&&on(e.slice(0,-1)),F=e=>op.test(e),Pt=e=>nw.test(e),cw=new Set(["length","size","percentage"]),uw=e=>wn(e,cw,lp),dw=e=>wn(e,"position",lp),hw=new Set(["image","url"]),fw=e=>wn(e,hw,vw),pw=e=>wn(e,"",gw),On=()=>!0,wn=(e,t,r)=>{const n=op.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},mw=e=>sw.test(e)&&!iw.test(e),lp=()=>!1,gw=e=>aw.test(e),vw=e=>ow.test(e),yw=()=>{const e=J("colors"),t=J("spacing"),r=J("blur"),n=J("brightness"),s=J("borderColor"),i=J("borderRadius"),a=J("borderSpacing"),l=J("borderWidth"),c=J("contrast"),u=J("grayscale"),d=J("hueRotate"),h=J("invert"),f=J("gap"),v=J("gradientColorStops"),x=J("gradientColorStopPositions"),y=J("inset"),b=J("margin"),g=J("opacity"),m=J("padding"),p=J("saturate"),w=J("scale"),_=J("sepia"),S=J("skew"),E=J("space"),j=J("translate"),P=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],X=()=>["auto",F,t],q=()=>[F,t],at=()=>["",ft,Tt],nr=()=>["auto",on,F],Os=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Et=()=>["solid","dashed","dotted","double","none"],Tr=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",F],M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>[on,F];return{cacheSize:500,separator:":",theme:{colors:[On],spacing:[ft,Tt],blur:["none","",Pt,F],brightness:V(),borderColor:[e],borderRadius:["none","","full",Pt,F],borderSpacing:q(),borderWidth:at(),contrast:V(),grayscale:L(),hueRotate:V(),invert:L(),gap:q(),gradientColorStops:[e],gradientColorStopPositions:[lw,Tt],inset:X(),margin:X(),opacity:V(),padding:q(),saturate:V(),scale:V(),sepia:L(),skew:V(),space:q(),translate:q()},classGroups:{aspect:[{aspect:["auto","square","video",F]}],container:["container"],columns:[{columns:[Pt]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Os(),F]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Rn,F]}],basis:[{basis:X()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",F]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Rn,F]}],"grid-cols":[{"grid-cols":[On]}],"col-start-end":[{col:["auto",{span:["full",Rn,F]},F]}],"col-start":[{"col-start":nr()}],"col-end":[{"col-end":nr()}],"grid-rows":[{"grid-rows":[On]}],"row-start-end":[{row:["auto",{span:[Rn,F]},F]}],"row-start":[{"row-start":nr()}],"row-end":[{"row-end":nr()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",F]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",F]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",F,t]}],"min-w":[{"min-w":[F,t,"min","max","fit"]}],"max-w":[{"max-w":[F,t,"none","full","min","max","fit","prose",{screen:[Pt]},Pt]}],h:[{h:[F,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[F,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[F,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[F,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Pt,Tt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",eo]}],"font-family":[{font:[On]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",F]}],"line-clamp":[{"line-clamp":["none",on,eo]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ft,F]}],"list-image":[{"list-image":["none",F]}],"list-style-type":[{list:["none","disc","decimal",F]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Et(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ft,Tt]}],"underline-offset":[{"underline-offset":["auto",ft,F]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",F]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",F]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Os(),dw]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",uw]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},fw]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...Et(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:Et()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Et()]}],"outline-offset":[{"outline-offset":[ft,F]}],"outline-w":[{outline:[ft,Tt]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:at()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[ft,Tt]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Pt,pw]}],"shadow-color":[{shadow:[On]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...Tr(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Tr()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Pt,F]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[p]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[p]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",F]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",F]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",F]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Rn,F]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",F]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",F]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",F]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ft,Tt,eo]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Rs=ew(yw);function xw(...e){return Rs(Ps(e))}const D=js.forwardRef(({className:e,variant:t="primary",size:r="md",loading:n,children:s,...i},a)=>{const l={primary:"bg-slate-900 text-white hover:bg-slate-800 shadow-sm shadow-slate-200",secondary:"bg-stone-200 text-slate-900 hover:bg-stone-300",outline:"border border-slate-200 bg-transparent hover:bg-slate-50 text-slate-700",ghost:"bg-transparent hover:bg-slate-100 text-slate-600",danger:"bg-red-50 text-red-600 hover:bg-red-100"},c={sm:"h-9 px-3 text-xs",md:"h-11 px-6 text-sm",lg:"h-13 px-8 text-base",icon:"h-10 w-10 p-0"};return o.jsxs("button",{ref:a,className:xw("inline-flex items-center justify-center rounded-xl font-semibold transition-all active:scale-[0.98] disabled:opacity-50 disabled:pointer-events-none",l[t],c[r],e),disabled:n,...i,children:[n?o.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}):null,s]})});function ww({children:e}){const{user:t,profile:r,signOut:n}=Cr(),{itemCount:s}=ga(),i=tr(),[a,l]=js.useState(!1),c=u=>i.pathname===u;return o.jsxs("div",{className:"min-h-screen flex flex-col font-sans selection:bg-slate-900 selection:text-white",children:[o.jsx("div",{className:"bg-slate-900 text-white py-2.5 text-center text-[10px] font-black uppercase tracking-[0.3em]",children:"Complimentary Delivery on Orders Over R1000"}),o.jsx("header",{className:"bg-white/80 backdrop-blur-xl sticky top-0 z-50 border-b border-stone-100",children:o.jsx("nav",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex h-24 justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-12",children:[o.jsxs($,{to:"/",className:"flex items-center space-x-3 group",children:[o.jsx("div",{className:"w-10 h-10 bg-slate-900 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-500",children:o.jsx("span",{className:"text-white font-black text-xl italic leading-none",children:"e"})}),o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("span",{className:"text-xl font-black tracking-tighter text-slate-900 leading-none",children:["eMall",o.jsx("span",{className:"text-stone-400",children:"Place"})]}),o.jsx("span",{className:"text-[8px] font-bold uppercase tracking-[0.4em] text-stone-400 mt-1",children:"Collective"})]})]}),o.jsx("div",{className:"hidden md:flex items-center space-x-2",children:o.jsx($,{to:"/shop",className:`px-6 py-2 rounded-full text-xs font-black uppercase tracking-widest transition-all ${c("/shop")?"text-slate-900 bg-stone-100":"text-stone-400 hover:text-slate-900 hover:bg-stone-50"}`,children:"Marketplace"})})]}),o.jsxs("div",{className:"flex items-center space-x-1 md:space-x-2",children:[o.jsxs($,{to:"/cart",className:"relative p-3 text-slate-400 hover:text-slate-900 transition-all group",children:[o.jsx(Zf,{className:"h-6 w-6 group-hover:-translate-y-0.5 transition-transform"}),s>0&&o.jsx("span",{className:"absolute top-2 right-2 bg-slate-900 text-white text-[9px] font-black h-5 w-5 rounded-full flex items-center justify-center border-2 border-white",children:s})]}),o.jsx("div",{className:"hidden md:flex items-center space-x-2 border-l border-stone-100 ml-4 pl-6",children:t?o.jsxs("div",{className:"flex items-center space-x-3",children:[(r==null?void 0:r.role)==="seller"&&o.jsx($,{to:"/seller",children:o.jsxs(D,{variant:"outline",size:"sm",className:"rounded-full border-stone-200 gap-2",children:[o.jsx(ya,{className:"h-4 w-4"}),"Seller Hub"]})}),(r==null?void 0:r.role)==="admin"&&o.jsx($,{to:"/admin",children:o.jsx(D,{variant:"primary",size:"sm",className:"rounded-full bg-slate-900",children:"Admin"})}),o.jsx($,{to:"/account/orders",className:"p-3 text-slate-400 hover:text-slate-900 transition-all",children:o.jsx(tp,{className:"h-6 w-6"})}),o.jsx("button",{onClick:()=>n(),className:"p-3 text-stone-300 hover:text-rose-600 transition-all",title:"Sign Out",children:o.jsx(Rx,{className:"h-6 w-6"})})]}):o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx($,{to:"/auth",children:o.jsx(D,{variant:"ghost",size:"sm",className:"text-stone-500 font-bold uppercase tracking-widest text-[10px]",children:"Sign In"})}),o.jsx($,{to:"/auth?signup=true",children:o.jsx(D,{size:"sm",className:"rounded-full px-6 font-black uppercase tracking-widest text-[10px]",children:"Register"})})]})}),o.jsx("button",{className:"md:hidden p-3 text-slate-900",onClick:()=>l(!a),children:a?o.jsx(Hi,{size:24}):o.jsx(Ox,{size:24})})]})]})})}),a&&o.jsx("div",{className:"md:hidden bg-white border-b border-stone-100 animate-in slide-in-from-top duration-300",children:o.jsxs("div",{className:"px-4 py-8 space-y-6",children:[o.jsx($,{to:"/shop",className:"block text-2xl font-black text-slate-900 tracking-tight",onClick:()=>l(!1),children:"Marketplace"}),o.jsx("hr",{className:"border-stone-100"}),t?o.jsxs("div",{className:"space-y-4",children:[o.jsx($,{to:"/account/orders",className:"block text-lg font-bold text-stone-500",onClick:()=>l(!1),children:"My Orders"}),(r==null?void 0:r.role)==="seller"&&o.jsx($,{to:"/seller",className:"block text-lg font-bold text-stone-500",onClick:()=>l(!1),children:"Seller Hub"}),o.jsx("button",{onClick:()=>{n(),l(!1)},className:"block w-full text-left text-lg font-bold text-rose-600 pt-4",children:"Sign Out"})]}):o.jsx("div",{className:"space-y-4 pt-4",children:o.jsx($,{to:"/auth",className:"block text-center py-4 bg-slate-900 text-white font-black rounded-2xl",onClick:()=>l(!1),children:"Get Started"})})]})}),o.jsx("main",{className:"flex-grow",children:e}),o.jsx("footer",{className:"bg-slate-900 text-stone-500 py-24 mt-32",children:o.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-16 mb-20",children:[o.jsxs("div",{className:"col-span-1 md:col-span-1",children:[o.jsxs($,{to:"/",className:"flex items-center space-x-3 mb-8",children:[o.jsx("div",{className:"w-8 h-8 bg-white text-slate-900 rounded-xl flex items-center justify-center",children:o.jsx("span",{className:"font-black italic",children:"e"})}),o.jsxs("span",{className:"text-xl font-black tracking-tighter text-white",children:["eMall",o.jsx("span",{className:"text-stone-500",children:"Place"})]})]}),o.jsx("p",{className:"text-xs leading-relaxed font-medium max-w-xs",children:"South Africa's premier multi-vendor collective. We bridge the gap between independent artisans and discerning customers."})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white text-[10px] font-black uppercase tracking-[0.3em] mb-8",children:"Experience"}),o.jsxs("ul",{className:"space-y-4 text-xs font-bold",children:[o.jsx("li",{children:o.jsx($,{to:"/shop",className:"hover:text-white transition-colors",children:"The Marketplace"})}),o.jsx("li",{children:o.jsx($,{to:"/shop?sort=newest",className:"hover:text-white transition-colors",children:"New Arrivals"})}),o.jsx("li",{children:o.jsx($,{to:"/shop",className:"hover:text-white transition-colors",children:"Curation List"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white text-[10px] font-black uppercase tracking-[0.3em] mb-8",children:"Service"}),o.jsxs("ul",{className:"space-y-4 text-xs font-bold",children:[o.jsx("li",{children:o.jsx($,{to:"/",className:"hover:text-white transition-colors",children:"Concierge"})}),o.jsx("li",{children:o.jsx($,{to:"/",className:"hover:text-white transition-colors",children:"Shipping Etiquette"})}),o.jsx("li",{children:o.jsx($,{to:"/",className:"hover:text-white transition-colors",children:"Returns & Refinement"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white text-[10px] font-black uppercase tracking-[0.3em] mb-8",children:"The Guild"}),o.jsxs("ul",{className:"space-y-4 text-xs font-bold",children:[o.jsx("li",{children:o.jsx($,{to:"/auth",className:"hover:text-white transition-colors",children:"Become a Partner"})}),o.jsx("li",{children:o.jsx($,{to:"/",className:"hover:text-white transition-colors",children:"Merchant Guidelines"})}),o.jsx("li",{children:o.jsx($,{to:"/",className:"hover:text-white transition-colors",children:"The Hub"})})]})]})]}),o.jsxs("div",{className:"border-t border-white/5 pt-12 flex flex-col md:flex-row justify-between items-center gap-8 text-[10px] font-black uppercase tracking-widest",children:[o.jsxs("p",{className:"text-white/20",children:[" ",new Date().getFullYear()," eMall Place Collective."]}),o.jsxs("div",{className:"flex gap-10",children:[o.jsx($,{to:"/",className:"text-white/40 hover:text-white transition-colors",children:"Privacy"}),o.jsx($,{to:"/",className:"text-white/40 hover:text-white transition-colors",children:"Terms"}),o.jsx($,{to:"/",className:"text-white/40 hover:text-white transition-colors",children:"Legal"})]})]})]})})]})}function Ki({src:e,alt:t,className:r=""}){const[n,s]=k.useState(!1),[i,a]=k.useState(!0);return!e||n?o.jsxs("div",{className:`flex flex-col items-center justify-center bg-stone-100 text-stone-400 ${r}`,children:[o.jsx(Ex,{className:"h-10 w-10 mb-2 opacity-20"}),o.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest opacity-40",children:"Image Unavailable"})]}):o.jsxs("div",{className:`relative overflow-hidden bg-stone-100 ${r}`,children:[i&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-stone-100 z-10",children:o.jsx(_s,{className:"h-6 w-6 animate-spin text-slate-900"})}),o.jsx("img",{src:e,alt:t,className:`w-full h-full object-cover transition-opacity duration-300 ${i?"opacity-0":"opacity-100"}`,onLoad:()=>a(!1),onError:()=>{s(!0),a(!1)}})]})}function bw(...e){return Rs(Ps(e))}const ne=({className:e,children:t,...r})=>o.jsx("div",{className:bw("rounded-2xl border border-slate-200 bg-white p-6 shadow-sm transition-shadow hover:shadow-md",e),...r,children:t});function _w(...e){return Rs(Ps(e))}const pe=({className:e,variant:t="default",...r})=>{const n={default:"bg-slate-100 text-slate-700",success:"bg-emerald-50 text-emerald-700",warning:"bg-amber-50 text-amber-700",error:"bg-red-50 text-red-700",outline:"border border-slate-200 text-slate-600"};return o.jsx("div",{className:_w("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-bold uppercase tracking-wider",n[t],e),...r})};function kw(...e){return Rs(Ps(e))}const te=({className:e,...t})=>o.jsx("div",{className:kw("animate-pulse rounded-md bg-slate-200",e),...t});function jw(){const[e,t]=k.useState([]),[r,n]=k.useState([]),[s,i]=k.useState(!0);k.useEffect(()=>{a()},[]);const a=async()=>{try{const[l,c]=await Promise.all([U.from("products").select("*, product_images(*), seller_store:seller_store_id(store_name)").eq("status","approved").limit(8).order("created_at",{ascending:!1}),U.from("categories").select("*").limit(6)]);l.data&&t(l.data),c.data&&n(c.data)}catch(l){console.error("Error fetching home data:",l)}finally{i(!1)}};return o.jsxs("div",{className:"space-y-32 pb-32",children:[o.jsxs("section",{className:"relative h-[90vh] min-h-[700px] flex items-center overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 bg-slate-950",children:[o.jsx("img",{src:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?auto=format&fit=crop&q=80&w=2070",alt:"Marketplace",className:"w-full h-full object-cover opacity-40 scale-105"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-950 via-transparent to-transparent"})]}),o.jsx("div",{className:"container mx-auto px-4 relative z-10 text-white",children:o.jsxs("div",{className:"max-w-4xl",children:[o.jsx(pe,{variant:"outline",className:"text-white border-white/20 bg-white/10 backdrop-blur-md mb-8 py-2 px-6 rounded-full text-[10px] font-black tracking-[0.2em]",children:" The Curated Collective"}),o.jsxs("h1",{className:"text-7xl md:text-[9rem] font-black leading-[0.85] tracking-tighter mb-10",children:["CRAFTED ",o.jsx("br",{}),o.jsx("span",{className:"text-stone-400 italic",children:"EXCELLENCE."})]}),o.jsx("p",{className:"text-xl text-stone-300 mb-12 leading-relaxed max-w-xl font-medium",children:"A refined marketplace connecting discerning customers with South Africa's most exceptional independent creators."}),o.jsxs("div",{className:"flex flex-wrap gap-6",children:[o.jsx($,{to:"/shop",children:o.jsxs(D,{size:"lg",className:"rounded-full px-12 py-8 text-lg font-black bg-white text-slate-950 hover:bg-stone-200",children:["Explore Marketplace ",o.jsx(Qn,{className:"ml-3 h-6 w-6"})]})}),o.jsx($,{to:"/auth",children:o.jsx(D,{variant:"outline",size:"lg",className:"rounded-full px-12 py-8 text-lg font-black border-white/20 text-white hover:bg-white hover:text-slate-950 backdrop-blur-sm",children:"Become a Partner"})})]})]})})]}),o.jsx("section",{className:"container mx-auto px-4 -mt-48 relative z-20",children:o.jsx(ne,{className:"p-0 overflow-hidden border-none shadow-[0_32px_64px_-12px_rgba(0,0,0,0.2)] rounded-[2.5rem] bg-white",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 divide-y md:divide-y-0 md:divide-x divide-stone-100",children:[o.jsxs("div",{className:"p-12 flex flex-col items-center text-center gap-6 group",children:[o.jsx("div",{className:"bg-stone-50 p-5 rounded-3xl text-slate-900 group-hover:scale-110 transition-transform duration-500",children:o.jsx(va,{className:"h-10 w-10"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-black text-xl mb-2 text-slate-900 uppercase tracking-tight",children:"Secure Commerce"}),o.jsx("p",{className:"text-stone-400 text-sm font-medium leading-relaxed",children:"Encrypted transactions via elite South African payment gateways."})]})]}),o.jsxs("div",{className:"p-12 flex flex-col items-center text-center gap-6 group",children:[o.jsx("div",{className:"bg-stone-50 p-5 rounded-3xl text-slate-900 group-hover:scale-110 transition-transform duration-500",children:o.jsx(ep,{className:"h-10 w-10"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-black text-xl mb-2 text-slate-900 uppercase tracking-tight",children:"Rapid Logistics"}),o.jsx("p",{className:"text-stone-400 text-sm font-medium leading-relaxed",children:"Direct, tracked delivery from artisan studios to your doorstep."})]})]}),o.jsxs("div",{className:"p-12 flex flex-col items-center text-center gap-6 group",children:[o.jsx("div",{className:"bg-stone-50 p-5 rounded-3xl text-slate-900 group-hover:scale-110 transition-transform duration-500",children:o.jsx(Mx,{className:"h-10 w-10"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-black text-xl mb-2 text-slate-900 uppercase tracking-tight",children:"Verified Guilds"}),o.jsx("p",{className:"text-stone-400 text-sm font-medium leading-relaxed",children:"Stringent vetting ensures only the highest quality merchant standards."})]})]})]})})}),o.jsxs("section",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between mb-16 gap-8 border-b border-stone-100 pb-12",children:[o.jsxs("div",{className:"max-w-2xl",children:[o.jsx(pe,{variant:"outline",className:"mb-4 border-stone-200 text-stone-400 rounded-full px-4 py-1 text-[10px] font-black uppercase tracking-widest",children:"Departments"}),o.jsxs("h2",{className:"text-5xl font-black tracking-tight text-slate-900 uppercase leading-none",children:["Curated ",o.jsx("br",{}),o.jsx("span",{className:"text-stone-300",children:"Collections"})]})]}),o.jsx($,{to:"/shop",children:o.jsxs(D,{variant:"outline",className:"rounded-full px-8 py-6 font-black uppercase tracking-widest text-[10px] group",children:["Browse All ",o.jsx(Jf,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1 group-hover:-translate-y-1"})]})})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-8",children:r.map(l=>o.jsxs($,{to:`/shop?category=${l.id}`,className:"group flex flex-col items-center",children:[o.jsxs("div",{className:"w-full aspect-[4/5] rounded-[2rem] bg-stone-100 mb-6 overflow-hidden relative",children:[o.jsx("div",{className:"absolute inset-0 bg-stone-200/50 group-hover:scale-110 transition-transform duration-700"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-8 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:o.jsx("div",{className:"w-12 h-12 rounded-full bg-white flex items-center justify-center shadow-xl",children:o.jsx(Qn,{size:20,className:"text-slate-900"})})})]}),o.jsx("span",{className:"font-black text-slate-900 uppercase tracking-widest text-xs group-hover:text-stone-500 transition-colors",children:l.name})]},l.id))})]}),o.jsxs("section",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between mb-16 gap-8 border-b border-stone-100 pb-12",children:[o.jsxs("div",{className:"max-w-2xl",children:[o.jsx(pe,{variant:"outline",className:"mb-4 border-stone-200 text-stone-400 rounded-full px-4 py-1 text-[10px] font-black uppercase tracking-widest",children:"Selection"}),o.jsxs("h2",{className:"text-5xl font-black tracking-tight text-slate-900 uppercase leading-none",children:["Editor's ",o.jsx("br",{}),o.jsx("span",{className:"text-stone-300",children:"Choice"})]})]}),o.jsx($,{to:"/shop",children:o.jsxs(D,{variant:"outline",className:"rounded-full px-8 py-6 font-black uppercase tracking-widest text-[10px] group",children:["Full Archive ",o.jsx(Qn,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]})})]}),s?o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-12",children:[1,2,3,4].map(l=>o.jsxs("div",{className:"space-y-6",children:[o.jsx(te,{className:"aspect-square rounded-[2rem]"}),o.jsx(te,{className:"h-4 w-2/3"}),o.jsx(te,{className:"h-6 w-1/3"})]},l))}):o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-x-12 gap-y-16",children:e.map(l=>{var c,u,d;return o.jsxs($,{to:`/product/${l.id}`,className:"group flex flex-col",children:[o.jsxs("div",{className:"aspect-square bg-white rounded-[2rem] overflow-hidden mb-8 relative shadow-sm border border-stone-100 group-hover:shadow-[0_24px_48px_-12px_rgba(0,0,0,0.1)] transition-all duration-700",children:[o.jsx(Ki,{src:(u=(c=l.product_images)==null?void 0:c[0])==null?void 0:u.url,alt:l.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"}),o.jsx("div",{className:"absolute top-6 right-6",children:o.jsx("button",{className:"bg-white/90 backdrop-blur-md p-3 rounded-2xl text-stone-300 hover:text-rose-500 transition-all shadow-sm active:scale-90",children:o.jsx(Nx,{className:"h-5 w-5",fill:"currentColor",fillOpacity:"0"})})}),l.stock<=5&&l.stock>0&&o.jsx("div",{className:"absolute bottom-6 left-6",children:o.jsx(pe,{variant:"warning",className:"rounded-full px-4 py-1.5 font-black uppercase tracking-widest text-[8px] shadow-xl",children:"Limited Reserve"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-stone-400",children:(d=l.seller_store)==null?void 0:d.store_name})}),o.jsx("h3",{className:"text-xl font-bold text-slate-900 tracking-tight leading-snug group-hover:text-stone-600 transition-colors",children:l.title}),o.jsxs("div",{className:"flex items-center justify-between pt-2",children:[o.jsxs("p",{className:"text-2xl font-black text-slate-900",children:["R ",l.price.toLocaleString()]}),o.jsx("div",{className:"w-12 h-12 rounded-2xl bg-stone-50 flex items-center justify-center group-hover:bg-slate-900 group-hover:text-white transition-all duration-500",children:o.jsx(xr,{size:20})})]})]})]},l.id)})})]}),o.jsx("section",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"relative rounded-[3rem] bg-slate-900 overflow-hidden px-8 py-24 md:p-32 text-center text-white border-8 border-stone-100 shadow-2xl",children:[o.jsxs("div",{className:"absolute inset-0 opacity-20",children:[o.jsx("div",{className:"absolute top-0 left-0 w-[500px] h-[500px] bg-stone-400 rounded-full blur-[120px] -translate-x-1/2 -translate-y-1/2"}),o.jsx("div",{className:"absolute bottom-0 right-0 w-[500px] h-[500px] bg-slate-400 rounded-full blur-[120px] translate-x-1/3 translate-y-1/3"})]}),o.jsxs("div",{className:"relative z-10 max-w-3xl mx-auto",children:[o.jsx(pe,{variant:"outline",className:"mb-8 border-white/10 text-stone-400 rounded-full px-6 py-2 text-[10px] font-black uppercase tracking-[0.3em] bg-white/5",children:"The Guild"}),o.jsxs("h2",{className:"text-5xl md:text-7xl font-black mb-10 leading-[0.9] uppercase tracking-tighter",children:["Your Legacy, ",o.jsx("br",{}),o.jsx("span",{className:"text-stone-500 italic",children:"Our Platform."})]}),o.jsx("p",{className:"text-xl text-stone-400 mb-16 font-medium leading-relaxed max-w-2xl mx-auto",children:"Elevate your artisan business with our premium merchant tools. We provide the infrastructure; you provide the craft."}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-6",children:[o.jsx($,{to:"/auth",children:o.jsx(D,{size:"lg",className:"rounded-full px-16 py-8 text-lg font-black bg-white text-slate-900 hover:bg-stone-200 border-none shadow-2xl",children:"Initiate Partnership"})}),o.jsx($,{to:"/",children:o.jsx(D,{variant:"outline",size:"lg",className:"rounded-full px-16 py-8 text-lg font-black border-white/10 text-white hover:bg-white/5 backdrop-blur-sm",children:"View Case Studies"})})]})]})]})})]})}function Sw(...e){return Rs(Ps(e))}const ut=js.forwardRef(({className:e,label:t,error:r,...n},s)=>o.jsxs("div",{className:"w-full space-y-1.5",children:[t&&o.jsx("label",{className:"text-sm font-medium text-slate-700 ml-0.5",children:t}),o.jsx("input",{ref:s,className:Sw("flex h-11 w-full rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm transition-all placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-900/10 focus:border-slate-900 disabled:cursor-not-allowed disabled:opacity-50",r&&"border-red-500 focus:ring-red-500/20 focus:border-red-500",e),...n}),r&&o.jsx("p",{className:"text-xs font-medium text-red-500 ml-0.5",children:r})]}));function bn({message:e,onClose:t,className:r=""}){return e?o.jsxs("div",{className:`bg-rose-50/50 border border-rose-100 p-6 my-6 rounded-[2rem] flex justify-between items-start gap-4 animate-in fade-in slide-in-from-top-4 duration-300 ${r}`,children:[o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-rose-100 rounded-full flex items-center justify-center",children:o.jsx(wx,{className:"h-5 w-5 text-rose-600","aria-hidden":"true"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-black uppercase tracking-widest text-rose-900 mb-1",children:"Attention Required"}),o.jsx("p",{className:"text-sm text-rose-700/80 font-medium leading-relaxed",children:e})]})]}),t&&o.jsx("button",{onClick:t,className:"p-2 text-rose-300 hover:text-rose-600 hover:bg-rose-100/50 rounded-xl transition-all",children:o.jsx(Hi,{className:"h-5 w-5"})})]}):null}function Nw(){const e=rr(),[t]=Rf(),{user:r,loading:n}=Cr(),[s,i]=k.useState(t.get("signup")==="true"?"signup":"signin"),[a,l]=k.useState("buyer"),[c,u]=k.useState(!1),[d,h]=k.useState(null),[f,v]=k.useState(null),x=k.useRef(!1);k.useEffect(()=>{r&&!n&&(console.log("[Auth] User already logged in, redirecting to home"),e("/"))},[r,n,e]),k.useEffect(()=>{if(f){const m=f-Date.now();if(m>0){const p=setTimeout(()=>v(null),m);return()=>clearTimeout(p)}else v(null)}},[f]);const[y,b]=k.useState({email:"",password:"",fullName:"",storeName:""}),g=async m=>{if(m.preventDefault(),!x.current){if(f&&Date.now()<f){const p=Math.ceil((f-Date.now())/1e3);h(`Too many attempts. Please wait ${p} seconds before trying again.`);return}x.current=!0,u(!0),h(null);try{if(console.log("Starting auth submission:",s,a),s==="signup"){const{data:p,error:w}=await U.auth.signUp({email:y.email,password:y.password,options:{data:{full_name:y.fullName,role:a}}});if(console.log("SignUp response:",{hasData:!!p,hasUser:!!(p!=null&&p.user),hasSession:!!(p!=null&&p.session),error:w}),w)throw w.status===429?(v(Date.now()+6e4),new Error("Rate limit exceeded. Please wait 1 minute.")):w;if(a==="seller"&&p.user&&p.session){console.log("Attempting store creation for seller...");const{error:_}=await U.from("seller_stores").insert({owner_id:p.user.id,store_name:y.storeName,status:"pending"});_&&console.warn("Initial store creation deferred:",_.message)}p.session?(console.log("Registration successful, redirecting..."),e("/")):(console.log("Registration successful, verification required."),h("Verification email sent! Please check your inbox."))}else{console.log("Starting sign in...");const{error:p}=await U.auth.signInWithPassword({email:y.email,password:y.password});if(p)throw p.status===429?(v(Date.now()+3e4),new Error("Too many sign in attempts. Please wait a few minutes and try again.")):p;e("/")}}catch(p){console.error("Auth error:",p),h(p.message||"An error occurred during authentication.")}finally{u(!1),x.current=!1}}};return o.jsx("div",{className:"min-h-[80vh] flex items-center justify-center px-4 py-20 bg-[#F9F8F6]",children:o.jsxs("div",{className:"w-full max-w-xl",children:[o.jsxs("div",{className:"text-center mb-10",children:[o.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-slate-900 text-white rounded-2xl mb-6",children:o.jsx(va,{size:32})}),o.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tight mb-2",children:s==="signin"?"Welcome Back":"Join the Collective"}),o.jsx("p",{className:"text-stone-500 font-medium",children:s==="signin"?"Access your premium marketplace experience.":"Start your journey as a buyer or independent seller."})]}),o.jsxs(ne,{className:"p-8 border-none shadow-2xl shadow-slate-900/5 bg-white rounded-3xl",children:[o.jsxs("div",{className:"flex p-1 bg-stone-100 rounded-2xl mb-8",children:[o.jsx("button",{onClick:()=>i("signin"),className:`flex-1 py-3 text-sm font-black uppercase tracking-widest rounded-xl transition-all ${s==="signin"?"bg-white text-slate-900 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:"Sign In"}),o.jsx("button",{onClick:()=>i("signup"),className:`flex-1 py-3 text-sm font-black uppercase tracking-widest rounded-xl transition-all ${s==="signup"?"bg-white text-slate-900 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:"Register"})]}),d&&o.jsx(bn,{message:d,onClose:()=>h(null),className:"mb-6"}),o.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s==="signup"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[o.jsxs("button",{type:"button",onClick:()=>l("buyer"),className:`p-4 rounded-2xl border-2 transition-all text-left ${a==="buyer"?"border-slate-900 bg-slate-50":"border-stone-100 bg-white hover:border-stone-200"}`,children:[o.jsx(tp,{size:20,className:a==="buyer"?"text-slate-900":"text-stone-400"}),o.jsx("p",{className:`text-xs font-black uppercase tracking-widest mt-3 ${a==="buyer"?"text-slate-900":"text-stone-400"}`,children:"Buyer"})]}),o.jsxs("button",{type:"button",onClick:()=>l("seller"),className:`p-4 rounded-2xl border-2 transition-all text-left ${a==="seller"?"border-slate-900 bg-slate-50":"border-stone-100 bg-white hover:border-stone-200"}`,children:[o.jsx(ya,{size:20,className:a==="seller"?"text-slate-900":"text-stone-400"}),o.jsx("p",{className:`text-xs font-black uppercase tracking-widest mt-3 ${a==="seller"?"text-slate-900":"text-stone-400"}`,children:"Seller"})]})]}),o.jsx(ut,{label:"Full Name",placeholder:"John Doe",required:!0,value:y.fullName,onChange:m=>b({...y,fullName:m.target.value})}),a==="seller"&&o.jsx(ut,{label:"Store Name",placeholder:"My Artisan Shop",required:!0,value:y.storeName,onChange:m=>b({...y,storeName:m.target.value})})]}),o.jsx(ut,{label:"Email Address",type:"email",placeholder:"name@example.com",required:!0,value:y.email,onChange:m=>b({...y,email:m.target.value})}),o.jsx(ut,{label:"Password",type:"password",placeholder:"",required:!0,value:y.password,onChange:m=>b({...y,password:m.target.value})}),o.jsx(D,{type:"submit",disabled:c||x.current||f!==null&&Date.now()<f,className:"w-full rounded-full py-8 text-lg font-black group shadow-xl shadow-slate-900/10 mt-4",children:c||x.current?o.jsx(_s,{className:"animate-spin h-6 w-6"}):f&&Date.now()<f?o.jsxs("span",{children:["Wait ",Math.ceil((f-Date.now())/1e3),"s"]}):o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{children:s==="signin"?"Enter Marketplace":"Create Account"}),o.jsx(Qn,{className:"h-5 w-5 group-hover:translate-x-1 transition-transform"})]})})]}),o.jsx("p",{className:"text-center text-xs text-stone-400 mt-8 font-medium",children:s==="signin"?"Don't have an account? Use the register tab above.":"Already part of the collective? Use the sign in tab above."})]})]})})}function Ew(){const[e,t]=Rf(),[r,n]=k.useState([]),[s,i]=k.useState([]),[a,l]=k.useState(!0),[c,u]=k.useState(null),d=e.get("q")||"",h=e.get("category")||"all",f=e.get("sort")||"newest";k.useEffect(()=>{v()},[]),k.useEffect(()=>{x()},[h,f]);const v=async()=>{const{data:p,error:w}=await U.from("categories").select("*").order("name");w?console.error("Error fetching categories:",w):i(p||[])},x=async()=>{l(!0),u(null);try{let p=U.from("products").select("*, product_images(*), seller_store:seller_store_id(store_name)").eq("status","approved");h!=="all"&&(p=p.eq("category_id",h)),f==="price_asc"?p=p.order("price",{ascending:!0}):f==="price_desc"?p=p.order("price",{ascending:!1}):p=p.order("created_at",{ascending:!1});const{data:w,error:_}=await p;if(_)throw _;n(w||[])}catch(p){console.error("Error fetching products:",p),u("Failed to load products. Please check your connection.")}finally{l(!1)}},y=p=>{const w=p.target.value;t(_=>(w?_.set("q",w):_.delete("q"),_))},b=p=>{t(w=>(p!=="all"?w.set("category",p):w.delete("category"),w))},g=p=>{const w=p.target.value;t(_=>(w!=="newest"?_.set("sort",w):_.delete("sort"),_))},m=r.filter(p=>{var w;return p.title.toLowerCase().includes(d.toLowerCase())||((w=p.description)==null?void 0:w.toLowerCase().includes(d.toLowerCase()))});return o.jsx("div",{className:"bg-[#F9F8F6] min-h-screen",children:o.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-12",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-8 mb-12",children:[o.jsxs("div",{className:"max-w-xl",children:[o.jsxs("nav",{className:"flex items-center gap-2 text-xs font-bold uppercase tracking-widest text-slate-400 mb-4",children:[o.jsx($,{to:"/",className:"hover:text-slate-900 transition-colors",children:"Home"}),o.jsx(Qf,{className:"h-3 w-3"}),o.jsx("span",{className:"text-slate-900",children:"Marketplace"})]}),o.jsx("h1",{className:"text-5xl font-black tracking-tighter text-slate-900 uppercase",children:"The Collection"}),o.jsx("p",{className:"text-slate-500 mt-2",children:"Discover unique items from South Africa's finest creators."})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[o.jsxs("div",{className:"relative group min-w-[300px]",children:[o.jsx(ul,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 h-5 w-5 group-focus-within:text-slate-900 transition-colors"}),o.jsx("input",{type:"text",placeholder:"Search the marketplace...",className:"pl-12 pr-4 py-3 w-full bg-white border border-slate-200 rounded-2xl focus:ring-4 focus:ring-slate-900/10 focus:border-slate-900 outline-none transition-all shadow-sm",value:d,onChange:y})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("select",{className:"pl-12 pr-10 py-3 bg-white border border-slate-200 rounded-2xl focus:ring-4 focus:ring-slate-900/10 focus:border-slate-900 outline-none transition-all appearance-none font-semibold text-slate-700 shadow-sm cursor-pointer",value:f,onChange:g,children:[o.jsx("option",{value:"newest",children:"Latest Arrivals"}),o.jsx("option",{value:"price_asc",children:"Price: Low to High"}),o.jsx("option",{value:"price_desc",children:"Price: High to Low"})]}),o.jsx(zx,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 h-5 w-5 pointer-events-none"})]})]})]}),c&&o.jsx(bn,{message:c,onClose:()=>u(null)}),o.jsxs("div",{className:"flex flex-col lg:flex-row gap-12",children:[o.jsxs("aside",{className:"lg:w-64 space-y-10 flex-shrink-0",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsx(Yf,{className:"h-5 w-5 text-slate-900"}),o.jsx("h3",{className:"font-black uppercase tracking-tight text-slate-900",children:"Categories"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("button",{onClick:()=>b("all"),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-bold transition-all ${h==="all"?"bg-slate-900 text-white shadow-lg shadow-slate-200":"text-slate-500 hover:bg-white hover:text-slate-900"}`,children:"All Categories"}),s.map(p=>o.jsx("button",{onClick:()=>b(p.id),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-bold transition-all ${h===p.id?"bg-slate-900 text-white shadow-lg shadow-slate-200":"text-slate-500 hover:bg-white hover:text-slate-900"}`,children:p.name},p.id))]})]}),o.jsxs(ne,{className:"bg-slate-900 border-none p-8 text-white",children:[o.jsx("h4",{className:"font-black text-xl mb-4 leading-tight uppercase",children:"Support Local Heart"}),o.jsx("p",{className:"text-slate-400 text-xs leading-relaxed mb-6 italic",children:'"By shopping here, you directly support South African artisans and small business owners."'}),o.jsx("div",{className:"h-1 w-12 bg-stone-400"})]})]}),o.jsx("div",{className:"flex-grow",children:a?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:[1,2,3,4,5,6].map(p=>o.jsxs("div",{className:"space-y-4",children:[o.jsx(te,{className:"aspect-square rounded-2xl"}),o.jsx(te,{className:"h-4 w-2/3"}),o.jsx(te,{className:"h-6 w-1/3"})]},p))}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs(pe,{variant:"outline",className:"py-1 px-3 border-slate-200 text-slate-500 font-bold",children:[m.length," Products Found"]}),o.jsx("div",{className:"flex gap-2",children:o.jsx("button",{className:"p-2 bg-white rounded-lg border border-slate-200 text-slate-900 shadow-sm",children:o.jsx(Tx,{size:18})})})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-12",children:m.map(p=>{var w,_,S;return o.jsxs($,{to:`/product/${p.id}`,className:"group",children:[o.jsxs("div",{className:"aspect-square bg-white rounded-2xl overflow-hidden mb-6 relative border border-slate-100 shadow-sm group-hover:shadow-xl transition-all duration-500",children:[o.jsx(Ki,{src:(_=(w=p.product_images)==null?void 0:w[0])==null?void 0:_.url,alt:p.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),o.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/5 transition-colors"}),o.jsx("div",{className:"absolute bottom-4 left-4 right-4 translate-y-4 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300",children:o.jsx(D,{className:"w-full shadow-2xl",children:"Quick View"})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-stone-400",children:(S=p.seller_store)==null?void 0:S.store_name})}),o.jsx("h3",{className:"font-bold text-slate-900 group-hover:text-stone-600 transition-colors truncate text-lg",children:p.title}),o.jsxs("p",{className:"text-xl font-black text-slate-900",children:["R ",p.price.toFixed(2)]})]})]},p.id)})}),m.length===0&&o.jsxs("div",{className:"text-center py-32 bg-white rounded-[2rem] border-2 border-dashed border-slate-100",children:[o.jsx("div",{className:"bg-slate-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(ul,{className:"h-8 w-8 text-slate-300"})}),o.jsx("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-tight",children:"No results matched"}),o.jsx("p",{className:"text-slate-500 mt-2",children:"Try adjusting your filters or search term."}),o.jsx(D,{variant:"outline",className:"mt-8 rounded-xl",onClick:()=>b("all"),children:"Clear All Filters"})]})]})})]})]})})}function Cw(){var b,g;const{id:e}=Nf(),t=rr(),{addToCart:r}=ga(),[n,s]=k.useState(null),[i,a]=k.useState(!0),[l,c]=k.useState(null),[u,d]=k.useState(!1),[h,f]=k.useState(0);k.useEffect(()=>{e&&v()},[e]);const v=async()=>{a(!0),c(null);try{const{data:m,error:p}=await U.from("products").select("*, product_images(*), seller_store:seller_store_id(*)").eq("id",e).single();if(p)throw p;s(m)}catch(m){console.error("Error fetching product:",m),c("Product not found or failed to load.")}finally{a(!1)}},x=async()=>{n&&(d(!0),r(n),setTimeout(()=>d(!1),800))};if(i)return o.jsx("div",{className:"container mx-auto px-4 py-16",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-16",children:[o.jsx(te,{className:"aspect-square rounded-3xl"}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(te,{className:"h-4 w-32"}),o.jsx(te,{className:"h-12 w-full"}),o.jsx(te,{className:"h-8 w-40"}),o.jsx(te,{className:"h-32 w-full"}),o.jsx(te,{className:"h-16 w-full rounded-full"})]})]})});if(l||!n)return o.jsx("div",{className:"container mx-auto px-4 py-20 text-center",children:o.jsxs("div",{className:"max-w-md mx-auto",children:[o.jsx(bn,{message:l||"Product not found"}),o.jsx(D,{variant:"outline",onClick:()=>t("/shop"),className:"mt-8 rounded-full",children:"Return to Marketplace"})]})});const y=n.product_images||[];return o.jsxs("div",{className:"container mx-auto px-4 py-12",children:[o.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>t(-1),className:"mb-10 -ml-2 text-stone-500 hover:text-slate-900",children:[o.jsx(hc,{className:"h-4 w-4 mr-2"}),"Back to Results"]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-16",children:[o.jsxs("div",{className:"lg:col-span-7 space-y-6",children:[o.jsxs(ne,{className:"p-0 border-none bg-stone-100 overflow-hidden rounded-3xl aspect-square relative group",children:[o.jsx(Ki,{src:(b=y[h])==null?void 0:b.url,alt:n.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"}),n.stock<=5&&n.stock>0&&o.jsxs(pe,{variant:"warning",className:"absolute top-6 left-6 shadow-xl py-1.5 px-4 rounded-full",children:["Only ",n.stock," Left"]})]}),y.length>1&&o.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2 scrollbar-hide",children:y.map((m,p)=>o.jsx("button",{onClick:()=>f(p),className:`flex-shrink-0 w-24 h-24 rounded-2xl overflow-hidden border-2 transition-all ${h===p?"border-slate-900 ring-4 ring-slate-900/5":"border-transparent opacity-60 hover:opacity-100"}`,children:o.jsx(Ki,{src:m.url,alt:"",className:"w-full h-full object-cover"})},m.id))})]}),o.jsxs("div",{className:"lg:col-span-5 flex flex-col",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center gap-2 text-stone-400 mb-4",children:[o.jsx(ya,{className:"h-4 w-4"}),o.jsx("span",{className:"text-xs font-black uppercase tracking-[0.2em]",children:(g=n.seller_store)==null?void 0:g.store_name})]}),o.jsx("h1",{className:"text-5xl font-black text-slate-900 tracking-tight mb-4 leading-[1.1]",children:n.title}),o.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[o.jsxs("span",{className:"text-4xl font-black text-slate-900 tracking-tight",children:["R ",n.price.toLocaleString()]}),n.stock>0?o.jsx(pe,{variant:"success",className:"rounded-full px-3 py-1",children:"In Stock"}):o.jsx(pe,{variant:"error",className:"rounded-full px-3 py-1",children:"Sold Out"})]})]}),o.jsxs("div",{className:"prose prose-stone mb-10",children:[o.jsx("h3",{className:"text-sm font-black uppercase tracking-widest text-stone-400 mb-4",children:"The Detail"}),o.jsx("p",{className:"text-stone-600 text-lg leading-relaxed whitespace-pre-line",children:n.description})]}),o.jsxs("div",{className:"space-y-8 mt-auto pt-10 border-t border-stone-100",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"flex flex-col items-center text-center gap-2",children:[o.jsx(ep,{className:"h-5 w-5 text-stone-400"}),o.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-stone-500",children:"Fast Delivery"})]}),o.jsxs("div",{className:"flex flex-col items-center text-center gap-2",children:[o.jsx(va,{className:"h-5 w-5 text-stone-400"}),o.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-stone-500",children:"Secure Store"})]}),o.jsxs("div",{className:"flex flex-col items-center text-center gap-2",children:[o.jsx($x,{className:"h-5 w-5 text-stone-400"}),o.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-stone-500",children:"Easy Returns"})]})]}),o.jsx(D,{size:"lg",onClick:x,disabled:n.stock===0||u,className:"w-full rounded-full py-8 text-xl group shadow-2xl shadow-slate-900/10",children:u?o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-5 w-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),o.jsx("span",{children:"Adding..."})]}):o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Zf,{className:"h-6 w-6 group-hover:-translate-y-1 transition-transform"}),o.jsx("span",{children:"Secure for Bag"})]})})]})]})]})]})}function Tw(){const{profile:e}=Cr(),[t,r]=k.useState(null),[n,s]=k.useState([]),[i,a]=k.useState([]),[l,c]=k.useState(!0),[u,d]=k.useState("products"),[h,f]=k.useState(!1),[v,x]=k.useState(""),[y,b]=k.useState(!1),[g,m]=k.useState(null);k.useEffect(()=>{e!=null&&e.id&&p()},[e]);const p=async()=>{c(!0);const{data:j}=await U.from("seller_stores").select("*").eq("owner_id",e.id).single();if(j){r(j);const[P,O]=await Promise.all([U.from("products").select("*, product_images(*)").eq("seller_store_id",j.id).order("created_at",{ascending:!1}),U.from("order_items").select("*, orders(*, profiles(full_name)), products(title)").eq("seller_store_id",j.id).order("id",{ascending:!1})]);P.data&&s(P.data),O.error?(console.error("Error fetching order items:",O.error),a([])):a(O.data??[])}c(!1)},w=async(j,P)=>{const{error:O}=await U.from("order_items").update({item_status:P}).eq("id",j);O||p()},_=async j=>{if(!confirm("Are you sure you want to delete this product? This action cannot be undone."))return;const{error:P}=await U.from("products").delete().eq("id",j);P?(console.error("Error deleting product:",P),alert("Failed to delete product.")):p()},S=async j=>{if(j.preventDefault(),!v.trim()){m("Please enter a store name");return}b(!0),m(null);try{const{error:P}=await U.from("seller_stores").insert({owner_id:e.id,store_name:v.trim(),status:"pending"});if(P)throw new Error(`Failed to create store: ${P.message}`);await p(),f(!1),x("")}catch(P){console.error("Error creating store:",P),m(P.message||"Failed to create store")}finally{b(!1)}};if(l)return o.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-12",children:[o.jsxs("div",{className:"flex justify-between items-end mb-12",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx(te,{className:"h-4 w-32"}),o.jsx(te,{className:"h-12 w-64"})]}),o.jsx(te,{className:"h-12 w-40 rounded-full"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[1,2,3].map(j=>o.jsx(te,{className:"h-32 rounded-3xl"},j))}),o.jsx(te,{className:"h-96 w-full rounded-3xl"})]});if(!t)return o.jsx("div",{className:"min-h-[80vh] flex items-center justify-center px-4",children:h?o.jsxs(ne,{className:"max-w-md w-full p-12 rounded-[2.5rem] border-stone-100 shadow-2xl bg-white",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-slate-900 rounded-2xl flex items-center justify-center mx-auto mb-6",children:o.jsx(ya,{className:"h-8 w-8 text-white"})}),o.jsx("h2",{className:"text-3xl font-black text-slate-900 uppercase tracking-tight mb-2",children:"Create Your Store"}),o.jsx("p",{className:"text-stone-500 font-medium",children:"Enter your store name to get started"})]}),g&&o.jsx("div",{className:"mb-6 p-4 bg-rose-50 border border-rose-200 rounded-xl",children:o.jsx("p",{className:"text-sm text-rose-600 font-medium",children:g})}),o.jsxs("form",{onSubmit:S,className:"space-y-6",children:[o.jsx(ut,{label:"Store Name",placeholder:"My Artisan Shop",required:!0,value:v,onChange:j=>x(j.target.value),disabled:y}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx(D,{type:"button",variant:"outline",onClick:()=>{f(!1),x(""),m(null)},disabled:y,className:"flex-1 rounded-full py-6 font-black",children:"Cancel"}),o.jsx(D,{type:"submit",disabled:y,className:"flex-1 rounded-full py-6 font-black shadow-xl shadow-slate-200",children:y?o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),o.jsx("span",{children:"Creating..."})]}):"Create Store"})]})]})]}):o.jsxs(ne,{className:"max-w-md w-full text-center p-12 rounded-[2.5rem] border-stone-100 shadow-2xl bg-white",children:[o.jsx("div",{className:"w-20 h-20 bg-stone-50 rounded-full flex items-center justify-center mx-auto mb-8",children:o.jsx(xr,{className:"h-8 w-8 text-stone-300"})}),o.jsx("h2",{className:"text-3xl font-black text-slate-900 uppercase tracking-tight mb-4",children:"Initialize Workshop"}),o.jsx("p",{className:"text-stone-500 mb-10 font-medium",children:"You haven't established your merchant profile yet. Set up your store to start showcasing your craft."}),o.jsx(D,{size:"lg",onClick:()=>f(!0),className:"w-full rounded-2xl shadow-xl shadow-slate-200 uppercase tracking-widest font-black text-xs py-8",children:"Complete Setup"})]})});const E=i.reduce((j,P)=>j+P.item_total,0);return o.jsx("div",{className:"min-h-screen bg-[#F9F8F6] pb-24",children:o.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-12",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-8 mb-12",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-[0.3em] text-stone-400 mb-4",children:[o.jsx(sd,{className:"h-3 w-3"}),o.jsx("span",{children:"Merchant Console"})]}),o.jsx("h1",{className:"text-5xl font-black tracking-tighter text-slate-900 uppercase",children:t.store_name}),o.jsx("p",{className:"text-stone-500 mt-2 font-medium",children:"Managing your professional inventory and fulfillment."})]}),o.jsx("div",{className:"flex gap-4",children:o.jsx($,{to:"/seller/products/new",children:o.jsxs(D,{className:"rounded-full px-8 py-6 gap-2 shadow-xl shadow-slate-200",children:[o.jsx(Xf,{className:"h-5 w-5"}),"Add New Craft"]})})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12",children:[o.jsxs(ne,{className:"p-8 rounded-3xl border-stone-100 shadow-sm bg-white hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("div",{className:"p-3 bg-stone-50 rounded-2xl text-slate-900",children:o.jsx(cl,{className:"h-6 w-6"})}),o.jsx(pe,{variant:"outline",className:"text-[9px] font-black border-stone-100 rounded-full",children:"Inventory"})]}),o.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-stone-400 mb-1",children:"Total Products"}),o.jsx("p",{className:"text-3xl font-black text-slate-900 italic",children:n.length})]}),o.jsxs(ne,{className:"p-8 rounded-3xl border-stone-100 shadow-sm bg-white hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("div",{className:"p-3 bg-stone-50 rounded-2xl text-slate-900",children:o.jsx(xr,{className:"h-6 w-6"})}),o.jsx(pe,{variant:"warning",className:"text-[9px] font-black rounded-full",children:"Active"})]}),o.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-stone-400 mb-1",children:"Pending Orders"}),o.jsx("p",{className:"text-3xl font-black text-slate-900 italic",children:i.filter(j=>j.item_status==="pending").length})]}),o.jsxs(ne,{className:"p-8 rounded-3xl border-stone-100 shadow-sm bg-white hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("div",{className:"p-3 bg-stone-50 rounded-2xl text-slate-900",children:o.jsx(rp,{className:"h-6 w-6"})}),o.jsx(pe,{variant:"outline",className:"text-[9px] font-black border-stone-100 rounded-full",children:"Engagement"})]}),o.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-stone-400 mb-1",children:"Total Sales"}),o.jsx("p",{className:"text-3xl font-black text-slate-900 italic",children:i.length})]}),o.jsxs(ne,{className:"p-8 rounded-3xl bg-slate-900 text-white shadow-xl shadow-slate-200 hover:scale-[1.02] transition-transform",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("div",{className:"p-3 bg-white/10 rounded-2xl text-white",children:o.jsx(sd,{className:"h-6 w-6"})}),o.jsx(Jf,{className:"h-5 w-5 text-stone-400"})]}),o.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-1",children:"Total Revenue"}),o.jsxs("p",{className:"text-3xl font-black italic",children:["R ",E.toFixed(0).toLocaleString()]})]})]}),o.jsxs(ne,{className:"rounded-[2.5rem] border-stone-100 overflow-hidden shadow-sm bg-white",children:[o.jsxs("div",{className:"border-b border-stone-50 px-8 py-6 flex flex-wrap items-center justify-between gap-6 bg-white",children:[o.jsxs("div",{className:"flex gap-8",children:[o.jsxs("button",{onClick:()=>d("products"),className:`text-[10px] font-black uppercase tracking-[0.3em] transition-all relative pb-2 ${u==="products"?"text-slate-900":"text-stone-300 hover:text-stone-500"}`,children:["Inventory List",u==="products"&&o.jsx("span",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-slate-900 rounded-full"})]}),o.jsxs("button",{onClick:()=>d("orders"),className:`text-[10px] font-black uppercase tracking-[0.3em] transition-all relative pb-2 ${u==="orders"?"text-slate-900":"text-stone-300 hover:text-stone-500"}`,children:["Order Fulfillment",u==="orders"&&o.jsx("span",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-slate-900 rounded-full"})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(ul,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-4 w-4 text-stone-300"}),o.jsx("input",{type:"text",placeholder:"Filter items...",className:"pl-11 pr-4 py-2.5 bg-stone-50 border-none rounded-full text-xs font-bold focus:ring-2 focus:ring-slate-900/10 focus:bg-white transition-all outline-none w-64"})]}),o.jsx(D,{variant:"outline",size:"sm",className:"rounded-full border-stone-100 h-10 w-10 p-0",children:o.jsx(Yf,{className:"h-4 w-4"})})]})]}),o.jsx("div",{className:"overflow-x-auto",children:u==="products"?o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-stone-50/50",children:[o.jsx("th",{className:"px-8 py-4 text-[10px] font-black uppercase tracking-widest text-stone-400",children:"Item Details"}),o.jsx("th",{className:"px-8 py-4 text-[10px] font-black uppercase tracking-widest text-stone-400",children:"Valuation"}),o.jsx("th",{className:"px-8 py-4 text-[10px] font-black uppercase tracking-widest text-stone-400",children:"Stock"}),o.jsx("th",{className:"px-8 py-4 text-[10px] font-black uppercase tracking-widest text-stone-400",children:"Status"}),o.jsx("th",{className:"px-8 py-4 text-right text-[10px] font-black uppercase tracking-widest text-stone-400",children:"Actions"})]})}),o.jsxs("tbody",{className:"divide-y divide-stone-50 bg-white",children:[n.map(j=>{var P;return o.jsxs("tr",{className:"group hover:bg-stone-50/30 transition-colors",children:[o.jsx("td",{className:"px-8 py-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"h-16 w-16 flex-shrink-0 bg-stone-100 rounded-2xl overflow-hidden border border-stone-200",children:((P=j.product_images)==null?void 0:P[0])&&o.jsx("img",{src:j.product_images[0].url,className:"h-full w-full object-cover",alt:""})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-bold text-slate-900 group-hover:text-stone-600 transition-colors",children:j.title}),o.jsxs("div",{className:"text-[10px] text-stone-400 font-mono mt-1 uppercase tracking-tighter",children:["ID: ",j.id.slice(0,8)]})]})]})}),o.jsxs("td",{className:"px-8 py-6 text-sm font-black text-slate-900",children:["R ",j.price.toLocaleString()]}),o.jsx("td",{className:"px-8 py-6",children:o.jsxs("span",{className:`text-sm font-bold ${j.stock<5?"text-rose-600":"text-slate-600"}`,children:[j.stock," units"]})}),o.jsx("td",{className:"px-8 py-6",children:o.jsx(pe,{variant:j.status==="approved"?"success":j.status==="pending"?"warning":"error",className:"text-[9px] font-black uppercase rounded-full",children:j.status})}),o.jsx("td",{className:"px-8 py-6 text-right",children:o.jsxs("div",{className:"flex justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx($,{to:`/seller/products/${j.id}/edit`,children:o.jsx(D,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0 rounded-xl text-stone-400 hover:text-slate-900",children:o.jsx(Ix,{className:"h-4 w-4"})})}),o.jsx("button",{onClick:()=>_(j.id),children:o.jsx(D,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0 rounded-xl text-stone-400 hover:text-rose-600",children:o.jsx(fc,{className:"h-4 w-4"})})})]})})]},j.id)}),n.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-8 py-24 text-center",children:o.jsxs("div",{className:"max-w-xs mx-auto text-center",children:[o.jsx(cl,{className:"h-12 w-12 text-stone-200 mx-auto mb-4"}),o.jsx("p",{className:"text-stone-400 text-sm font-medium italic",children:"Your inventory is currently empty. Start adding your unique products to showcase them in the marketplace."})]})})})]})]}):o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-stone-50/50",children:[o.jsx("th",{className:"px-8 py-4 text-[10px] font-black uppercase tracking-widest text-stone-400",children:"Order Ref"}),o.jsx("th",{className:"px-8 py-4 text-[10px] font-black uppercase tracking-widest text-stone-400",children:"Acquirer"}),o.jsx("th",{className:"px-8 py-4 text-[10px] font-black uppercase tracking-widest text-stone-400",children:"Item"}),o.jsx("th",{className:"px-8 py-4 text-[10px] font-black uppercase tracking-widest text-stone-400",children:"Investment"}),o.jsx("th",{className:"px-8 py-4 text-[10px] font-black uppercase tracking-widest text-stone-400",children:"Status"}),o.jsx("th",{className:"px-8 py-4 text-right text-[10px] font-black uppercase tracking-widest text-stone-400",children:"Manage"})]})}),o.jsxs("tbody",{className:"divide-y divide-stone-50 bg-white",children:[i.map(j=>{var P,O,X,q;return o.jsxs("tr",{className:"group hover:bg-stone-50/30 transition-colors",children:[o.jsxs("td",{className:"px-8 py-6",children:[o.jsxs("div",{className:"text-sm font-bold text-slate-900",children:["#",j.orders.id.slice(0,8).toUpperCase()]}),o.jsx("div",{className:"text-[10px] text-stone-400 font-mono mt-1 uppercase tracking-tighter",children:new Date(j.orders.created_at).toLocaleDateString()})]}),o.jsx("td",{className:"px-8 py-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-8 w-8 bg-stone-100 rounded-full flex items-center justify-center text-[10px] font-black text-slate-500 border border-stone-200",children:((O=(P=j.orders.profiles)==null?void 0:P.full_name)==null?void 0:O.charAt(0))||"G"}),o.jsx("span",{className:"text-sm font-medium text-slate-600 truncate max-w-[120px]",children:((X=j.orders.profiles)==null?void 0:X.full_name)||"Guest"})]})}),o.jsxs("td",{className:"px-8 py-6",children:[o.jsx("div",{className:"text-sm font-bold text-slate-900 group-hover:text-stone-600 transition-colors",children:(q=j.products)==null?void 0:q.title}),o.jsxs("div",{className:"text-[10px] text-stone-400 font-medium mt-0.5",children:["Quantity: ",j.qty]})]}),o.jsxs("td",{className:"px-8 py-6 text-sm font-black text-slate-900",children:["R ",j.item_total.toLocaleString()]}),o.jsx("td",{className:"px-8 py-6",children:o.jsx(pe,{variant:j.item_status==="delivered"?"success":j.item_status==="cancelled"?"error":"warning",className:"text-[9px] font-black uppercase rounded-full",children:j.item_status})}),o.jsx("td",{className:"px-8 py-6 text-right",children:o.jsxs("select",{className:"bg-stone-50 border border-stone-100 rounded-xl px-4 py-2.5 text-[10px] font-black uppercase tracking-widest outline-none focus:ring-2 focus:ring-slate-900/10 focus:bg-white transition-all cursor-pointer appearance-none text-slate-900 shadow-sm",value:j.item_status,onChange:at=>w(j.id,at.target.value),children:[o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"packed",children:"Packed"}),o.jsx("option",{value:"shipped",children:"Shipped"}),o.jsx("option",{value:"delivered",children:"Delivered"}),o.jsx("option",{value:"cancelled",children:"Cancelled"})]})})]},j.id)}),i.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-8 py-24 text-center",children:o.jsxs("div",{className:"max-w-xs mx-auto text-center",children:[o.jsx(xr,{className:"h-12 w-12 text-stone-200 mx-auto mb-4"}),o.jsx("p",{className:"text-stone-400 text-sm font-medium italic",children:"No orders have been placed for your items yet. They will appear here once acquired."})]})})})]})]})})]})]})})}async function Pw(e){const t=e.name.split(".").pop(),n=`products/${`${Math.random()}.${t}`}`,{error:s}=await U.storage.from("marketplace").upload(n,e);if(s)return console.error("Error uploading image:",s),null;const{data:i}=U.storage.from("marketplace").getPublicUrl(n);return i.publicUrl}function od(){const{id:e}=Nf(),t=rr(),{profile:r}=Cr(),[n,s]=k.useState(!1),[i,a]=k.useState(!!e),[l,c]=k.useState(null),[u,d]=k.useState([]),[h,f]=k.useState([]),[v,x]=k.useState([]),[y,b]=k.useState({title:"",description:"",price:"",stock:"",category_id:""});k.useEffect(()=>{g(),e&&m()},[e]);const g=async()=>{const{data:_,error:S}=await U.from("categories").select("*").order("name");!S&&_&&d(_)},m=async()=>{try{const{data:_,error:S}=await U.from("products").select("*, product_images(*)").eq("id",e).single();if(S)throw S;b({title:_.title,description:_.description||"",price:_.price.toString(),stock:_.stock.toString(),category_id:_.category_id||""}),_.product_images&&x(_.product_images.map(E=>E.url))}catch(_){console.error("Error fetching product:",_),c("Failed to load product details.")}finally{a(!1)}},p=_=>{if(_.target.files){const S=Array.from(_.target.files);f(j=>[...j,...S]);const E=S.map(j=>URL.createObjectURL(j));x(j=>[...j,...E])}},w=async _=>{_.preventDefault(),s(!0),c(null);try{const{data:S,error:E}=await U.from("seller_stores").select("id").eq("owner_id",r.id).single();if(E||!S)throw new Error("Could not find your store. Please contact support.");const j={seller_store_id:S.id,title:y.title,description:y.description,price:parseFloat(y.price),stock:parseInt(y.stock),category_id:y.category_id||null,status:"pending"};let P=e;if(e){const{error:O}=await U.from("products").update(j).eq("id",e);if(O)throw O}else{const{data:O,error:X}=await U.from("products").insert(j).select().single();if(X)throw X;P=O.id}for(const O of h){const X=await Pw(O);if(X){const{error:q}=await U.from("product_images").insert({product_id:P,url:X});q&&console.error("Error saving image metadata:",q)}}t("/seller")}catch(S){console.error("Error saving product:",S),c(S.message||"Failed to save product. Please check all fields.")}finally{s(!1)}};return i?o.jsxs("div",{className:"container mx-auto px-4 py-20 text-center",children:[o.jsx(_s,{className:"animate-spin h-10 w-10 text-stone-300 mx-auto mb-4"}),o.jsx("p",{className:"text-stone-400 font-medium",children:"Retrieving product details..."})]}):o.jsxs("div",{className:"container mx-auto px-4 py-16 max-w-4xl",children:[o.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>t(-1),className:"mb-8 -ml-2 text-stone-500 hover:text-slate-900",children:[o.jsx(hc,{className:"h-4 w-4 mr-2"}),"Discard & Exit"]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tight",children:e?"Refine Product":"Create Masterpiece"}),o.jsx("p",{className:"text-stone-500 mt-2",children:"Provide the details that will make your product stand out."})]}),l&&o.jsx(bn,{message:l,onClose:()=>c(null)}),o.jsxs("form",{onSubmit:w,className:"grid grid-cols-1 lg:grid-cols-12 gap-12",children:[o.jsx("div",{className:"lg:col-span-7 space-y-8",children:o.jsxs(ne,{className:"p-8 space-y-6",children:[o.jsx("h2",{className:"text-xl font-bold border-b border-stone-100 pb-4",children:"General Information"}),o.jsx(ut,{label:"Product Title",placeholder:"e.g. Handcrafted Leather Satchel",required:!0,value:y.title,onChange:_=>b({...y,title:_.target.value})}),o.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[o.jsx(ut,{label:"Price (ZAR)",type:"number",step:"0.01",required:!0,value:y.price,onChange:_=>b({...y,price:_.target.value})}),o.jsx(ut,{label:"Stock Level",type:"number",required:!0,value:y.stock,onChange:_=>b({...y,stock:_.target.value})})]}),o.jsxs("div",{className:"w-full space-y-1.5",children:[o.jsx("label",{className:"text-sm font-medium text-slate-700 ml-0.5",children:"Category"}),o.jsxs("select",{className:"flex h-11 w-full rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm transition-all focus:outline-none focus:ring-2 focus:ring-slate-900/10 focus:border-slate-900 appearance-none bg-[url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20stroke%3D%22currentColor%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%3Cpath%20d%3D%22m6%209%206%206%206-6%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.25rem_1.25rem] bg-[right_1rem_center] bg-no-repeat",value:y.category_id,onChange:_=>b({...y,category_id:_.target.value}),children:[o.jsx("option",{value:"",children:"Choose a category"}),u.map(_=>o.jsx("option",{value:_.id,children:_.name},_.id))]})]}),o.jsxs("div",{className:"w-full space-y-1.5",children:[o.jsx("label",{className:"text-sm font-medium text-slate-700 ml-0.5",children:"Full Description"}),o.jsx("textarea",{rows:6,required:!0,placeholder:"Describe the soul of your product...",className:"flex w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm transition-all placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-900/10 focus:border-slate-900",value:y.description,onChange:_=>b({...y,description:_.target.value})})]})]})}),o.jsxs("div",{className:"lg:col-span-5 space-y-8",children:[o.jsxs(ne,{className:"p-8",children:[o.jsx("h2",{className:"text-xl font-bold border-b border-stone-100 pb-4 mb-6",children:"Visuals"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.map((_,S)=>o.jsxs("div",{className:"aspect-square bg-stone-50 rounded-2xl overflow-hidden relative group border border-stone-100",children:[o.jsx("img",{src:_,className:"h-full w-full object-cover group-hover:scale-110 transition-transform duration-500",alt:""}),o.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx(D,{variant:"ghost",size:"icon",className:"text-white hover:bg-rose-500/20",children:o.jsx(fc,{size:20})})})]},S)),o.jsxs("label",{className:"aspect-square border-2 border-dashed border-stone-200 rounded-2xl flex flex-col items-center justify-center cursor-pointer hover:border-slate-900 hover:bg-stone-50 transition-all text-stone-400 hover:text-slate-900",children:[o.jsx(Fx,{size:24}),o.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest mt-2",children:"Add Photo"}),o.jsx("input",{type:"file",className:"hidden",multiple:!0,onChange:p,accept:"image/*"})]})]}),o.jsxs("div",{className:"mt-8 p-4 bg-stone-50 rounded-xl border border-stone-100 flex items-start gap-3",children:[o.jsx(Cx,{className:"text-stone-400 mt-0.5",size:18}),o.jsx("p",{className:"text-[11px] text-stone-500 leading-relaxed font-medium",children:"High-quality images increase sales by up to 40%. Use natural lighting and multiple angles."})]})]}),o.jsx(D,{type:"submit",disabled:n,className:"w-full rounded-full py-8 text-xl group shadow-2xl shadow-slate-900/10",children:n?o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(_s,{className:"animate-spin",size:20}),o.jsx("span",{children:"Synchronizing"})]}):o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ux,{size:20}),o.jsx("span",{children:e?"Apply Refinements":"Publish Product"})]})})]})]})]})}function Rw(){const{items:e,removeFromCart:t,updateQuantity:r,totalAmount:n}=ga(),s=rr();return e.length===0?o.jsxs("div",{className:"container mx-auto px-4 py-32 text-center",children:[o.jsx("div",{className:"flex justify-center mb-8",children:o.jsx("div",{className:"p-8 bg-stone-100 rounded-full",children:o.jsx(xr,{className:"h-16 w-16 text-stone-300"})})}),o.jsx("h2",{className:"text-4xl font-black text-slate-900 mb-4 tracking-tight",children:"Your cart is empty"}),o.jsx("p",{className:"text-stone-500 mb-10 text-lg max-w-md mx-auto",children:"Discover unique products from independent sellers across the country."}),o.jsx(D,{size:"lg",onClick:()=>s("/shop"),className:"rounded-full px-10",children:"Start Shopping"})]}):o.jsxs("div",{className:"container mx-auto px-4 py-16",children:[o.jsxs("div",{className:"flex items-baseline gap-4 mb-12",children:[o.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tight",children:"Shopping Bag"}),o.jsxs("span",{className:"text-stone-400 text-lg font-medium",children:[e.length," items"]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12",children:[o.jsx("div",{className:"lg:col-span-8 space-y-6",children:e.map(i=>{var a,l;return o.jsx(ne,{className:"p-0 overflow-hidden group",children:o.jsxs("div",{className:"flex flex-col sm:flex-row",children:[o.jsx("div",{className:"w-full sm:w-48 h-48 sm:h-auto flex-shrink-0 bg-stone-100 overflow-hidden",children:(a=i.product.product_images)!=null&&a[0]?o.jsx("img",{src:i.product.product_images[0].url,className:"h-full w-full object-cover group-hover:scale-105 transition-transform duration-500",alt:i.product.title}):o.jsx("div",{className:"h-full w-full flex items-center justify-center text-stone-300",children:o.jsx(xr,{size:40})})}),o.jsxs("div",{className:"flex-grow p-6 flex flex-col justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("h3",{className:"text-xl font-bold text-slate-900 leading-tight",children:o.jsx($,{to:`/product/${i.product.id}`,className:"hover:text-stone-600 transition-colors",children:i.product.title})}),o.jsx(D,{variant:"ghost",size:"icon",onClick:()=>t(i.product.id),className:"text-stone-400 hover:text-rose-600 -mt-2 -mr-2",children:o.jsx(fc,{className:"h-5 w-5"})})]}),o.jsx("p",{className:"text-sm font-semibold uppercase tracking-wider text-stone-400",children:(l=i.product.seller_store)==null?void 0:l.store_name})]}),o.jsxs("div",{className:"flex justify-between items-end mt-8",children:[o.jsxs("div",{className:"flex items-center bg-stone-50 rounded-full border border-stone-200 p-1",children:[o.jsx(D,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full",onClick:()=>r(i.product.id,i.quantity-1),children:o.jsx(Ax,{className:"h-3 w-3"})}),o.jsx("span",{className:"px-4 text-sm font-bold w-10 text-center",children:i.quantity}),o.jsx(D,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full",onClick:()=>r(i.product.id,i.quantity+1),children:o.jsx(Xf,{className:"h-3 w-3"})})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-xs text-stone-400 font-bold uppercase tracking-widest mb-1",children:"Subtotal"}),o.jsxs("p",{className:"text-2xl font-black text-slate-900",children:["R ",(i.product.price*i.quantity).toLocaleString()]})]})]})]})]})},i.product.id)})}),o.jsx("div",{className:"lg:col-span-4",children:o.jsxs(ne,{className:"sticky top-24 border-2 border-slate-900 bg-white p-8",children:[o.jsx("h2",{className:"text-2xl font-black mb-8 text-slate-900 tracking-tight",children:"Order Summary"}),o.jsxs("div",{className:"space-y-6 mb-10",children:[o.jsxs("div",{className:"flex justify-between text-stone-500 font-medium",children:[o.jsx("span",{children:"Subtotal"}),o.jsxs("span",{className:"text-slate-900",children:["R ",n.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between text-stone-500 font-medium",children:[o.jsx("span",{children:"Shipping"}),o.jsx("span",{className:"text-emerald-600 font-bold uppercase text-sm tracking-widest",children:"Calculated at next step"})]}),o.jsx("div",{className:"h-px bg-stone-100"}),o.jsxs("div",{className:"flex justify-between items-baseline",children:[o.jsx("span",{className:"text-lg font-bold text-slate-900",children:"Estimated Total"}),o.jsxs("span",{className:"text-3xl font-black text-slate-900",children:["R ",n.toLocaleString()]})]})]}),o.jsxs(D,{size:"lg",onClick:()=>s("/checkout"),className:"w-full rounded-full py-8 text-lg group",children:["Checkout Now",o.jsx(Qn,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),o.jsxs("div",{className:"mt-8 space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 text-xs text-stone-400 font-medium uppercase tracking-wider justify-center",children:[o.jsx("span",{className:"w-8 h-px bg-stone-100"}),o.jsx("span",{children:"Secure Payments"}),o.jsx("span",{className:"w-8 h-px bg-stone-100"})]}),o.jsx("p",{className:"text-[10px] text-center text-stone-400 italic leading-relaxed",children:"By proceeding to checkout, you agree to our terms of service. All transactions are encrypted and secure."})]})]})})]})]})}const Ow={name:"PayFast Placeholder",processPayment:async(e,t)=>(console.log(`Processing payment of R${e} for order`,t),await new Promise(r=>setTimeout(r,2e3)),{success:!0,transactionId:`TXN-${Math.random().toString(36).substr(2,9).toUpperCase()}`})};function Aw(){const{items:e,totalAmount:t,clearCart:r}=ga(),{user:n,profile:s}=Cr(),i=rr(),[a,l]=k.useState(!1),[c,u]=k.useState(null),d=async h=>{if(h.preventDefault(),u(null),!n){i("/auth");return}l(!0);try{const v=e.map(w=>{const _=Number((w.product.price*w.quantity).toFixed(2)),S=Number((_*.08).toFixed(2));return{...w,itemTotal:_,commissionAmount:S}}),x=v.reduce((w,_)=>w+_.commissionAmount,0),{data:y,error:b}=await U.from("orders").insert({buyer_id:n.id,total_amount:t,total_commission:x,status:"pending",payment_status:"unpaid"}).select().single();if(b)throw new Error(`Order creation failed: ${b.message}`);const g=v.map(w=>({order_id:y.id,seller_store_id:w.product.seller_store_id,product_id:w.product.id,qty:w.quantity,unit_price:w.product.price,item_total:w.itemTotal,commission_amount:w.commissionAmount,item_status:"pending"})),{error:m}=await U.from("order_items").insert(g);if(m)throw new Error(`Failed to save order items: ${m.message}`);if((await Ow.processPayment(t,{orderId:y.id})).success){const{error:w}=await U.from("orders").update({payment_status:"paid",status:"processing"}).eq("id",y.id);if(w)throw new Error(`Payment succeeded but order update failed: ${w.message}`);r(),i("/account/orders")}else await U.from("orders").update({payment_status:"failed"}).eq("id",y.id),u("Payment failed. Please try again or use a different card.")}catch(f){console.error("Checkout error:",f),u(f.message||"An unexpected error occurred during checkout.")}finally{l(!1)}};return e.length===0?(i("/shop"),null):o.jsxs("div",{className:"container mx-auto px-4 py-16 max-w-5xl",children:[o.jsxs(D,{variant:"ghost",size:"sm",className:"mb-8 -ml-2 text-stone-500 hover:text-slate-900",onClick:()=>i("/cart"),children:[o.jsx(hc,{className:"mr-2 h-4 w-4"}),"Back to Bag"]}),o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-baseline mb-12 gap-4",children:[o.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tight",children:"Checkout"}),o.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 bg-emerald-50 px-4 py-2 rounded-full border border-emerald-100",children:[o.jsx(Px,{size:16}),o.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Secure Checkout"})]})]}),c&&o.jsx(bn,{message:c,onClose:()=>u(null)}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12",children:[o.jsxs("div",{className:"lg:col-span-7 space-y-8",children:[o.jsxs("section",{children:[o.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-900 text-white flex items-center justify-center text-sm",children:"1"}),"Shipping & Billing"]}),o.jsx(ne,{className:"p-8",children:o.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-stone-400 mb-2",children:"Recipient Name"}),o.jsx(ut,{readOnly:!0,value:(s==null?void 0:s.full_name)||"",className:"bg-stone-50 border-none font-medium"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-stone-400 mb-2",children:"Email Address"}),o.jsx(ut,{readOnly:!0,value:(n==null?void 0:n.email)||"",className:"bg-stone-50 border-none font-medium"})]}),o.jsxs("div",{className:"p-4 bg-stone-50 rounded-xl border border-stone-100 flex items-start gap-3",children:[o.jsx(va,{className:"text-emerald-600 mt-0.5",size:18}),o.jsx("p",{className:"text-xs text-stone-500 leading-relaxed",children:"Your account details are used for billing. To change these, please update your profile settings."})]})]})})]}),o.jsxs("section",{children:[o.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-900 text-white flex items-center justify-center text-sm",children:"2"}),"Payment Method"]}),o.jsxs(ne,{className:"p-8 border-2 border-slate-900",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(kx,{className:"text-slate-900"}),o.jsx("span",{className:"font-bold text-slate-900",children:"Secure Card Payment"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("div",{className:"h-6 w-10 bg-stone-100 rounded"}),o.jsx("div",{className:"h-6 w-10 bg-stone-100 rounded"})]})]}),o.jsx("p",{className:"text-sm text-stone-500 mb-0",children:"You will be redirected to our secure payment gateway to complete your transaction. We support all major South African cards."})]})]})]}),o.jsx("div",{className:"lg:col-span-5",children:o.jsxs(ne,{className:"sticky top-24 bg-stone-900 text-white p-8 border-none shadow-2xl",children:[o.jsx("h2",{className:"text-2xl font-black mb-8 tracking-tight",children:"Order Review"}),o.jsx("div",{className:"space-y-4 mb-8 max-h-64 overflow-y-auto pr-2 scrollbar-hide",children:e.map(h=>o.jsxs("div",{className:"flex justify-between items-start gap-4 py-2 border-b border-white/5 last:border-0",children:[o.jsxs("div",{className:"flex-grow",children:[o.jsx("p",{className:"font-bold text-sm leading-tight mb-1",children:h.product.title}),o.jsxs("p",{className:"text-[10px] text-white/40 uppercase tracking-widest font-bold",children:["Qty: ",h.quantity]})]}),o.jsxs("span",{className:"font-bold text-sm",children:["R ",(h.product.price*h.quantity).toLocaleString()]})]},h.product.id))}),o.jsxs("div",{className:"space-y-4 border-t border-white/10 pt-8",children:[o.jsxs("div",{className:"flex justify-between text-white/60 text-sm font-medium",children:[o.jsx("span",{children:"Subtotal"}),o.jsxs("span",{children:["R ",t.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between text-white/60 text-sm font-medium",children:[o.jsx("span",{children:"Shipping"}),o.jsx("span",{className:"text-emerald-400 font-bold uppercase text-[10px] tracking-widest",children:"Calculated"})]}),o.jsx("div",{className:"h-px bg-white/5 my-4"}),o.jsxs("div",{className:"flex justify-between items-baseline",children:[o.jsx("span",{className:"text-lg font-bold",children:"Total"}),o.jsxs("span",{className:"text-3xl font-black",children:["R ",t.toLocaleString()]})]})]}),o.jsx(D,{onClick:d,disabled:a,className:"w-full bg-white text-slate-900 hover:bg-stone-200 py-8 text-lg font-black rounded-full mt-10 shadow-xl",children:a?o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(_s,{className:"animate-spin",size:20}),o.jsx("span",{children:"Processing"})]}):o.jsxs("span",{children:["Pay R ",t.toLocaleString()]})}),o.jsx("p",{className:"text-[10px] text-center text-white/30 uppercase tracking-widest font-bold mt-6",children:"Encrypted 256-bit SSL Connection"})]})})]})]})}function Iw(){const{user:e}=Cr(),[t,r]=k.useState([]),[n,s]=k.useState(!0),[i,a]=k.useState(null);k.useEffect(()=>{e&&l()},[e]);const l=async()=>{s(!0);try{const{data:u,error:d}=await U.from("orders").select(`
          *,
          order_items (
            *,
            product:product_id (
              title,
              product_images (url)
            )
          )
        `).eq("buyer_id",e==null?void 0:e.id).order("created_at",{ascending:!1});if(d)throw d;r(u||[])}catch(u){console.error("Error fetching orders:",u),a("Failed to load your orders. Please try again.")}finally{s(!1)}},c=u=>{switch(u){case"completed":return"success";case"processing":return"warning";case"pending":return"outline";case"cancelled":return"danger";default:return"outline"}};return n?o.jsxs("div",{className:"mx-auto max-w-4xl px-4 py-20",children:[o.jsxs("div",{className:"mb-12",children:[o.jsx(te,{className:"h-4 w-32 mb-4"}),o.jsx(te,{className:"h-12 w-64"})]}),o.jsx("div",{className:"space-y-6",children:[1,2,3].map(u=>o.jsx(te,{className:"h-64 w-full rounded-3xl"},u))})]}):o.jsx("div",{className:"min-h-screen bg-[#F9F8F6]",children:o.jsxs("div",{className:"mx-auto max-w-4xl px-4 py-20",children:[o.jsxs("div",{className:"mb-16",children:[o.jsxs("nav",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-[0.3em] text-stone-400 mb-6",children:[o.jsx($,{to:"/",className:"hover:text-slate-900 transition-colors",children:"Home"}),o.jsx(Qf,{className:"h-3 w-3"}),o.jsx("span",{className:"text-slate-900",children:"Purchase History"})]}),o.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-5xl font-black tracking-tighter text-slate-900 uppercase",children:"The Archive"}),o.jsx("p",{className:"text-stone-500 mt-2 font-medium",children:"Tracking your curated acquisitions and orders."})]}),o.jsx($,{to:"/shop",children:o.jsx(D,{variant:"outline",className:"rounded-full border-stone-200",children:"Continue Shopping"})})]})]}),i&&o.jsx(bn,{message:i,onClose:()=>a(null)}),t.length===0?o.jsxs(ne,{className:"text-center py-24 bg-white border-2 border-dashed border-stone-100 rounded-[2.5rem]",children:[o.jsx("div",{className:"w-20 h-20 bg-stone-50 rounded-full flex items-center justify-center mx-auto mb-8",children:o.jsx(cl,{className:"h-8 w-8 text-stone-300"})}),o.jsx("h3",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"No Acquisitions Yet"}),o.jsx("p",{className:"text-stone-500 mt-2 max-w-xs mx-auto",children:"Your collection is waiting to be started. Explore the marketplace to find unique items."}),o.jsx($,{to:"/shop",className:"mt-10 inline-block",children:o.jsx(D,{size:"lg",className:"rounded-2xl px-12 shadow-xl shadow-slate-200",children:"Browse Collection"})})]}):o.jsx("div",{className:"space-y-10",children:t.map(u=>{var d;return o.jsxs(ne,{className:"overflow-hidden border-stone-100 shadow-sm hover:shadow-xl transition-all duration-500 rounded-[2rem]",children:[o.jsx("div",{className:"bg-slate-900 p-8 text-white",children:o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[o.jsxs("div",{className:"flex flex-wrap gap-8",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-[9px] font-black uppercase tracking-[0.2em] text-slate-400",children:"Order Reference"}),o.jsxs("p",{className:"text-sm font-bold font-mono",children:["#",u.id.slice(0,12).toUpperCase()]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-[9px] font-black uppercase tracking-[0.2em] text-slate-400",children:"Placed On"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(_x,{className:"h-3 w-3 text-stone-500"}),o.jsx("p",{className:"text-sm font-bold",children:new Date(u.created_at).toLocaleDateString("en-ZA",{day:"numeric",month:"long",year:"numeric"})})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-[9px] font-black uppercase tracking-[0.2em] text-slate-400",children:"Total Investment"}),o.jsxs("p",{className:"text-lg font-black italic",children:["R ",u.total_amount.toFixed(2)]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(pe,{variant:c(u.status),className:"py-1.5 px-4 rounded-full font-black uppercase tracking-widest text-[9px] bg-white/10 border-white/20 text-white",children:u.status}),o.jsx(pe,{variant:u.payment_status==="paid"?"success":"outline",className:"py-1.5 px-4 rounded-full font-black uppercase tracking-widest text-[9px]",children:u.payment_status})]})]})}),o.jsx("div",{className:"p-8 bg-white",children:o.jsx("div",{className:"flow-root",children:o.jsx("ul",{className:"divide-y divide-stone-100",children:(d=u.order_items)==null?void 0:d.map(h=>{var f,v,x,y,b;return o.jsx("li",{className:"py-8 first:pt-0 last:pb-0",children:o.jsxs("div",{className:"flex gap-8",children:[o.jsx("div",{className:"flex-shrink-0 w-24 h-24 bg-stone-50 rounded-2xl overflow-hidden border border-stone-100 group",children:o.jsx("img",{src:((x=(v=(f=h.product)==null?void 0:f.product_images)==null?void 0:v[0])==null?void 0:x.url)||"https://via.placeholder.com/150",alt:(y=h.product)==null?void 0:y.title,className:"w-full h-full object-center object-cover group-hover:scale-110 transition-transform duration-500"})}),o.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-1",children:((b=h.product)==null?void 0:b.title)||"Unknown Product"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("p",{className:"text-sm text-stone-500 font-medium",children:["Quantity: ",h.qty]}),o.jsx("span",{className:"h-1 w-1 rounded-full bg-stone-300"}),o.jsx(pe,{variant:"outline",className:"text-[10px] font-bold border-stone-100 text-stone-400 py-0 px-2 uppercase tracking-tighter",children:h.item_status})]})]}),o.jsxs("p",{className:"text-lg font-black text-slate-900",children:["R ",h.unit_price.toFixed(2)]})]}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx($,{to:`/product/${h.product_id}`,children:o.jsxs(D,{variant:"ghost",size:"sm",className:"text-stone-400 hover:text-slate-900 gap-2 font-bold uppercase tracking-widest text-[9px]",children:["View Product ",o.jsx(Sx,{className:"h-3 w-3"})]})})})]})]})},h.id)})})})}),o.jsxs("div",{className:"bg-stone-50 px-8 py-4 border-t border-stone-100 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-2 text-stone-400",children:[o.jsx(Lx,{className:"h-4 w-4"}),o.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Digital Invoice Available"})]}),o.jsx(D,{variant:"ghost",size:"sm",className:"text-slate-900 font-bold uppercase tracking-widest text-[10px]",children:"Download Receipt"})]})]},u.id)})})]})})}function Lw(){const[e,t]=k.useState({totalSellers:0,totalProducts:0,totalOrders:0,totalRevenue:0,totalCommission:0}),[r,n]=k.useState([]),[s,i]=k.useState([]),[a,l]=k.useState(!0);k.useEffect(()=>{c()},[]);const c=async()=>{var w,_,S;l(!0);const[v,x,y,b,g]=await Promise.all([U.from("seller_stores").select("*",{count:"exact"}),U.from("products").select("*",{count:"exact"}),U.from("orders").select("*"),U.from("seller_stores").select("*, profiles(full_name)").eq("status","pending"),U.from("products").select("*, seller_stores(store_name)").eq("status","pending")]),m=((w=y.data)==null?void 0:w.reduce((E,j)=>E+Number(j.total_amount),0))||0,p=((_=y.data)==null?void 0:_.reduce((E,j)=>E+Number(j.total_commission),0))||0;t({totalSellers:v.count||0,totalProducts:x.count||0,totalOrders:((S=y.data)==null?void 0:S.length)||0,totalRevenue:m,totalCommission:p}),n(b.data||[]),i(g.data||[]),l(!1)},u=async v=>{await U.from("seller_stores").update({status:"active"}).eq("id",v),c()},d=async v=>{confirm("Are you sure you want to reject this seller?")&&(await U.from("seller_stores").update({status:"suspended"}).eq("id",v),c())},h=async v=>{await U.from("products").update({status:"approved"}).eq("id",v),c()},f=async v=>{confirm("Are you sure you want to reject this product?")&&(await U.from("products").update({status:"hidden"}).eq("id",v),c())};return a?o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsx(te,{className:"h-10 w-64 mb-8"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-6 mb-12",children:[...Array(5)].map((v,x)=>o.jsx(te,{className:"h-24 rounded-2xl"},x))}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[o.jsx(te,{className:"h-64 rounded-2xl"}),o.jsx(te,{className:"h-64 rounded-2xl"})]})]}):o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-10",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 tracking-tight uppercase",children:"Admin Command Center"}),o.jsx("p",{className:"text-slate-500 mt-1 font-medium",children:"Manage marketplace growth and quality."})]}),o.jsx(D,{variant:"outline",size:"sm",onClick:c,className:"rounded-full px-6",children:"Refresh Data"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-6 mb-12",children:[o.jsx(An,{icon:o.jsx(rp,{size:20}),label:"Sellers",value:e.totalSellers,color:"bg-slate-900 text-stone-100"}),o.jsx(An,{icon:o.jsx(xr,{size:20}),label:"Products",value:e.totalProducts,color:"bg-slate-900 text-stone-100"}),o.jsx(An,{icon:o.jsx(bx,{size:20}),label:"Orders",value:e.totalOrders,color:"bg-slate-900 text-stone-100"}),o.jsx(An,{icon:o.jsx(jx,{size:20}),label:"Revenue",value:`R${e.totalRevenue.toLocaleString()}`,color:"bg-slate-900 text-stone-100"}),o.jsx(An,{icon:o.jsx(Dx,{size:20}),label:"Commission",value:`R${e.totalCommission.toLocaleString()}`,color:"bg-slate-900 text-stone-100"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[o.jsxs("section",{children:[o.jsx("div",{className:"flex items-center justify-between mb-6 border-b border-stone-100 pb-4",children:o.jsxs("h2",{className:"text-xl font-bold flex items-center gap-3 text-slate-900 uppercase tracking-tight",children:["Pending Sellers",r.length>0&&o.jsx(pe,{variant:"warning",className:"rounded-full",children:r.length})]})}),o.jsx(ne,{className:"p-0 overflow-hidden border-stone-100 shadow-sm",children:r.length>0?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-stone-100",children:[o.jsx("thead",{className:"bg-stone-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-stone-400 uppercase tracking-widest",children:"Store Info"}),o.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-stone-400 uppercase tracking-widest",children:"Owner"}),o.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-stone-400 uppercase tracking-widest",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-stone-50",children:r.map(v=>{var x;return o.jsxs("tr",{className:"hover:bg-stone-50/50 transition-colors",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("div",{className:"font-bold text-slate-900",children:v.store_name}),o.jsxs("div",{className:"text-[10px] text-stone-400 font-mono uppercase mt-1",children:["Joined: ",new Date(v.created_at).toLocaleDateString()]})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-600",children:((x=v.profiles)==null?void 0:x.full_name)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(D,{size:"sm",variant:"ghost",className:"text-emerald-600 hover:bg-emerald-50 rounded-full",onClick:()=>u(v.id),children:o.jsx(si,{size:18})}),o.jsx(D,{size:"sm",variant:"ghost",className:"text-rose-600 hover:bg-rose-50 rounded-full",onClick:()=>d(v.id),children:o.jsx(Hi,{size:18})})]})})]},v.id)})})]})}):o.jsxs("div",{className:"py-20 text-center",children:[o.jsx("div",{className:"bg-stone-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(si,{className:"text-stone-300"})}),o.jsx("p",{className:"text-stone-400 font-medium italic",children:"All caught up! No pending sellers."})]})})]}),o.jsxs("section",{children:[o.jsx("div",{className:"flex items-center justify-between mb-6 border-b border-stone-100 pb-4",children:o.jsxs("h2",{className:"text-xl font-bold flex items-center gap-3 text-slate-900 uppercase tracking-tight",children:["Pending Products",s.length>0&&o.jsx(pe,{variant:"warning",className:"rounded-full",children:s.length})]})}),o.jsx(ne,{className:"p-0 overflow-hidden border-stone-100 shadow-sm",children:s.length>0?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-stone-100",children:[o.jsx("thead",{className:"bg-stone-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-stone-400 uppercase tracking-widest",children:"Product Info"}),o.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-stone-400 uppercase tracking-widest",children:"Store"}),o.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-stone-400 uppercase tracking-widest",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-stone-50",children:s.map(v=>{var x;return o.jsxs("tr",{className:"hover:bg-stone-50/50 transition-colors",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("div",{className:"font-bold text-slate-900",children:v.title}),o.jsxs("div",{className:"text-[10px] text-stone-400 font-mono uppercase mt-1",children:["Valuation: R",v.price.toLocaleString()]})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-600",children:(x=v.seller_stores)==null?void 0:x.store_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(D,{size:"sm",variant:"ghost",className:"text-emerald-600 hover:bg-emerald-50 rounded-full",onClick:()=>h(v.id),children:o.jsx(si,{size:18})}),o.jsx(D,{size:"sm",variant:"ghost",className:"text-rose-600 hover:bg-rose-50 rounded-full",onClick:()=>f(v.id),children:o.jsx(Hi,{size:18})})]})})]},v.id)})})]})}):o.jsxs("div",{className:"py-20 text-center",children:[o.jsx("div",{className:"bg-stone-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(si,{className:"text-stone-300"})}),o.jsx("p",{className:"text-stone-400 font-medium italic",children:"All caught up! No pending products."})]})})]})]})]})}function An({icon:e,label:t,value:r,color:n}){return o.jsxs(ne,{className:"p-6 flex items-center space-x-5 border-stone-100 shadow-sm hover:shadow-md transition-shadow",children:[o.jsx("div",{className:`p-4 rounded-[1.25rem] shadow-inner ${n}`,children:e}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] text-stone-400 uppercase font-black tracking-[0.2em] mb-1",children:t}),o.jsx("p",{className:"text-2xl font-black text-slate-900 tracking-tight",children:r})]})]})}function ii({children:e,allowedRoles:t}){const{user:r,profile:n,loading:s}=Cr(),i=tr();return s?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F9F8F6]",children:o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-slate-900"}),o.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-stone-400 animate-pulse",children:"Synchronizing Session"})]})}):r?t&&(!n||!t.includes(n.role))?o.jsx(Pu,{to:"/",replace:!0}):o.jsx(o.Fragment,{children:e}):o.jsx(Pu,{to:"/auth",state:{from:i},replace:!0})}function $w(){return o.jsx(gx,{children:o.jsx(vx,{children:o.jsx($0,{children:o.jsx(ww,{children:o.jsxs(Ru,{children:[o.jsx(Ue,{path:"/",element:o.jsx(jw,{})}),o.jsx(Ue,{path:"/auth",element:o.jsx(Nw,{})}),o.jsx(Ue,{path:"/shop",element:o.jsx(Ew,{})}),o.jsx(Ue,{path:"/product/:id",element:o.jsx(Cw,{})}),o.jsx(Ue,{path:"/cart",element:o.jsx(Rw,{})}),o.jsx(Ue,{path:"/checkout",element:o.jsx(ii,{allowedRoles:["buyer","admin"],children:o.jsx(Aw,{})})}),o.jsx(Ue,{path:"/seller/*",element:o.jsx(ii,{allowedRoles:["seller","admin"],children:o.jsxs(Ru,{children:[o.jsx(Ue,{path:"/",element:o.jsx(Tw,{})}),o.jsx(Ue,{path:"/products/new",element:o.jsx(od,{})}),o.jsx(Ue,{path:"/products/:id/edit",element:o.jsx(od,{})})]})})}),o.jsx(Ue,{path:"/admin",element:o.jsx(ii,{allowedRoles:["admin"],children:o.jsx(Lw,{})})}),o.jsx(Ue,{path:"/account/orders",element:o.jsx(ii,{children:o.jsx(Iw,{})})})]})})})})})}to.createRoot(document.getElementById("root")).render(o.jsx(js.StrictMode,{children:o.jsx($w,{})}));
