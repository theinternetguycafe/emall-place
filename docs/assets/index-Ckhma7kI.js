function fp(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function pp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hd={exports:{}},Ji={},fd={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var js=Symbol.for("react.element"),mp=Symbol.for("react.portal"),gp=Symbol.for("react.fragment"),vp=Symbol.for("react.strict_mode"),yp=Symbol.for("react.profiler"),xp=Symbol.for("react.provider"),wp=Symbol.for("react.context"),bp=Symbol.for("react.forward_ref"),_p=Symbol.for("react.suspense"),kp=Symbol.for("react.memo"),jp=Symbol.for("react.lazy"),yc=Symbol.iterator;function Sp(e){return e===null||typeof e!="object"?null:(e=yc&&e[yc]||e["@@iterator"],typeof e=="function"?e:null)}var pd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},md=Object.assign,gd={};function gn(e,t,r){this.props=e,this.context=t,this.refs=gd,this.updater=r||pd}gn.prototype.isReactComponent={};gn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vd(){}vd.prototype=gn.prototype;function ml(e,t,r){this.props=e,this.context=t,this.refs=gd,this.updater=r||pd}var gl=ml.prototype=new vd;gl.constructor=ml;md(gl,gn.prototype);gl.isPureReactComponent=!0;var xc=Array.isArray,yd=Object.prototype.hasOwnProperty,vl={current:null},xd={key:!0,ref:!0,__self:!0,__source:!0};function wd(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)yd.call(t,n)&&!xd.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:js,type:e,key:i,ref:a,props:s,_owner:vl.current}}function Np(e,t){return{$$typeof:js,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yl(e){return typeof e=="object"&&e!==null&&e.$$typeof===js}function Ep(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var wc=/\/+/g;function ba(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ep(""+e.key):t.toString(36)}function li(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case js:case mp:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+ba(a,0):n,xc(s)?(r="",e!=null&&(r=e.replace(wc,"$&/")+"/"),li(s,t,r,"",function(u){return u})):s!=null&&(yl(s)&&(s=Np(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(wc,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",xc(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+ba(i,l);a+=li(i,t,r,c,s)}else if(c=Sp(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+ba(i,l++),a+=li(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Us(e,t,r){if(e==null)return e;var n=[],s=0;return li(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Cp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Oe={current:null},ci={transition:null},Pp={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:ci,ReactCurrentOwner:vl};function bd(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:Us,forEach:function(e,t,r){Us(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Us(e,function(){t++}),t},toArray:function(e){return Us(e,function(t){return t})||[]},only:function(e){if(!yl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};V.Component=gn;V.Fragment=gp;V.Profiler=yp;V.PureComponent=ml;V.StrictMode=vp;V.Suspense=_p;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pp;V.act=bd;V.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=md({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=vl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)yd.call(t,c)&&!xd.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:js,type:e.type,key:s,ref:i,props:n,_owner:a}};V.createContext=function(e){return e={$$typeof:wp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xp,_context:e},e.Consumer=e};V.createElement=wd;V.createFactory=function(e){var t=wd.bind(null,e);return t.type=e,t};V.createRef=function(){return{current:null}};V.forwardRef=function(e){return{$$typeof:bp,render:e}};V.isValidElement=yl;V.lazy=function(e){return{$$typeof:jp,_payload:{_status:-1,_result:e},_init:Cp}};V.memo=function(e,t){return{$$typeof:kp,type:e,compare:t===void 0?null:t}};V.startTransition=function(e){var t=ci.transition;ci.transition={};try{e()}finally{ci.transition=t}};V.unstable_act=bd;V.useCallback=function(e,t){return Oe.current.useCallback(e,t)};V.useContext=function(e){return Oe.current.useContext(e)};V.useDebugValue=function(){};V.useDeferredValue=function(e){return Oe.current.useDeferredValue(e)};V.useEffect=function(e,t){return Oe.current.useEffect(e,t)};V.useId=function(){return Oe.current.useId()};V.useImperativeHandle=function(e,t,r){return Oe.current.useImperativeHandle(e,t,r)};V.useInsertionEffect=function(e,t){return Oe.current.useInsertionEffect(e,t)};V.useLayoutEffect=function(e,t){return Oe.current.useLayoutEffect(e,t)};V.useMemo=function(e,t){return Oe.current.useMemo(e,t)};V.useReducer=function(e,t,r){return Oe.current.useReducer(e,t,r)};V.useRef=function(e){return Oe.current.useRef(e)};V.useState=function(e){return Oe.current.useState(e)};V.useSyncExternalStore=function(e,t,r){return Oe.current.useSyncExternalStore(e,t,r)};V.useTransition=function(){return Oe.current.useTransition()};V.version="18.3.1";fd.exports=V;var _=fd.exports;const Ss=pp(_),Tp=fp({__proto__:null,default:Ss},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp=_,Op=Symbol.for("react.element"),Ap=Symbol.for("react.fragment"),Ip=Object.prototype.hasOwnProperty,$p=Rp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Lp={key:!0,ref:!0,__self:!0,__source:!0};function _d(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)Ip.call(t,n)&&!Lp.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Op,type:e,key:i,ref:a,props:s,_owner:$p.current}}Ji.Fragment=Ap;Ji.jsx=_d;Ji.jsxs=_d;hd.exports=Ji;var o=hd.exports,ro={},kd={exports:{}},Ve={},jd={exports:{}},Sd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,U){var F=C.length;C.push(U);e:for(;0<F;){var H=F-1>>>1,ve=C[H];if(0<s(ve,U))C[H]=U,C[F]=ve,F=H;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var U=C[0],F=C.pop();if(F!==U){C[0]=F;e:for(var H=0,ve=C.length,$s=ve>>>1;H<$s;){var ar=2*(H+1)-1,wa=C[ar],or=ar+1,Ls=C[or];if(0>s(wa,F))or<ve&&0>s(Ls,wa)?(C[H]=Ls,C[or]=F,H=or):(C[H]=wa,C[ar]=F,H=ar);else if(or<ve&&0>s(Ls,F))C[H]=Ls,C[or]=F,H=or;else break e}}return U}function s(C,U){var F=C.sortIndex-U.sortIndex;return F!==0?F:C.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,p=3,v=!1,y=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(C){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=C)n(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=r(u)}}function b(C){if(x=!1,f(C),!y)if(r(c)!==null)y=!0,Tt(S);else{var U=r(u);U!==null&&Tr(b,U.startTime-C)}}function S(C,U){y=!1,x&&(x=!1,g(k),k=-1),v=!0;var F=p;try{for(f(U),h=r(c);h!==null&&(!(h.expirationTime>U)||C&&!q());){var H=h.callback;if(typeof H=="function"){h.callback=null,p=h.priorityLevel;var ve=H(h.expirationTime<=U);U=e.unstable_now(),typeof ve=="function"?h.callback=ve:h===r(c)&&n(c),f(U)}else n(c);h=r(c)}if(h!==null)var $s=!0;else{var ar=r(u);ar!==null&&Tr(b,ar.startTime-U),$s=!1}return $s}finally{h=null,p=F,v=!1}}var N=!1,j=null,k=-1,T=5,R=-1;function q(){return!(e.unstable_now()-R<T)}function A(){if(j!==null){var C=e.unstable_now();R=C;var U=!0;try{U=j(!0,C)}finally{U?ge():(N=!1,j=null)}}else N=!1}var ge;if(typeof m=="function")ge=function(){m(A)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,Is=ot.port2;ot.port1.onmessage=A,ge=function(){Is.postMessage(null)}}else ge=function(){w(A,0)};function Tt(C){j=C,N||(N=!0,ge())}function Tr(C,U){k=w(function(){C(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,Tt(S))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(C){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var F=p;p=U;try{return C()}finally{p=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,U){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var F=p;p=C;try{return U()}finally{p=F}},e.unstable_scheduleCallback=function(C,U,F){var H=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?H+F:H):F=H,C){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=F+ve,C={id:d++,callback:U,priorityLevel:C,startTime:F,expirationTime:ve,sortIndex:-1},F>H?(C.sortIndex=F,t(u,C),r(c)===null&&C===r(u)&&(x?(g(k),k=-1):x=!0,Tr(b,F-H))):(C.sortIndex=ve,t(c,C),y||v||(y=!0,Tt(S))),C},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(C){var U=p;return function(){var F=p;p=U;try{return C.apply(this,arguments)}finally{p=F}}}})(Sd);jd.exports=Sd;var Up=jd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp=_,qe=Up;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Nd=new Set,Xn={};function Nr(e,t){cn(e,t),cn(e+"Capture",t)}function cn(e,t){for(Xn[e]=t,e=0;e<t.length;e++)Nd.add(t[e])}var kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),no=Object.prototype.hasOwnProperty,zp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bc={},_c={};function Mp(e){return no.call(_c,e)?!0:no.call(bc,e)?!1:zp.test(e)?_c[e]=!0:(bc[e]=!0,!1)}function Fp(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Bp(e,t,r,n){if(t===null||typeof t>"u"||Fp(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ae(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){je[e]=new Ae(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];je[t]=new Ae(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){je[e]=new Ae(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){je[e]=new Ae(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){je[e]=new Ae(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){je[e]=new Ae(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){je[e]=new Ae(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){je[e]=new Ae(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){je[e]=new Ae(e,5,!1,e.toLowerCase(),null,!1,!1)});var xl=/[\-:]([a-z])/g;function wl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xl,wl);je[t]=new Ae(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xl,wl);je[t]=new Ae(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xl,wl);je[t]=new Ae(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){je[e]=new Ae(e,1,!1,e.toLowerCase(),null,!1,!1)});je.xlinkHref=new Ae("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){je[e]=new Ae(e,1,!1,e.toLowerCase(),null,!0,!0)});function bl(e,t,r,n){var s=je.hasOwnProperty(t)?je[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Bp(t,r,s,n)&&(r=null),n||s===null?Mp(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Et=Dp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ds=Symbol.for("react.element"),Fr=Symbol.for("react.portal"),Br=Symbol.for("react.fragment"),_l=Symbol.for("react.strict_mode"),so=Symbol.for("react.profiler"),Ed=Symbol.for("react.provider"),Cd=Symbol.for("react.context"),kl=Symbol.for("react.forward_ref"),io=Symbol.for("react.suspense"),ao=Symbol.for("react.suspense_list"),jl=Symbol.for("react.memo"),It=Symbol.for("react.lazy"),Pd=Symbol.for("react.offscreen"),kc=Symbol.iterator;function kn(e){return e===null||typeof e!="object"?null:(e=kc&&e[kc]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Object.assign,_a;function $n(e){if(_a===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);_a=t&&t[1]||""}return`
`+_a+e}var ka=!1;function ja(e,t){if(!e||ka)return"";ka=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{ka=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?$n(e):""}function qp(e){switch(e.tag){case 5:return $n(e.type);case 16:return $n("Lazy");case 13:return $n("Suspense");case 19:return $n("SuspenseList");case 0:case 2:case 15:return e=ja(e.type,!1),e;case 11:return e=ja(e.type.render,!1),e;case 1:return e=ja(e.type,!0),e;default:return""}}function oo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Br:return"Fragment";case Fr:return"Portal";case so:return"Profiler";case _l:return"StrictMode";case io:return"Suspense";case ao:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Cd:return(e.displayName||"Context")+".Consumer";case Ed:return(e._context.displayName||"Context")+".Provider";case kl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case jl:return t=e.displayName||null,t!==null?t:oo(e.type)||"Memo";case It:t=e._payload,e=e._init;try{return oo(e(t))}catch{}}return null}function Vp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oo(t);case 8:return t===_l?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Td(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Wp(e){var t=Td(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zs(e){e._valueTracker||(e._valueTracker=Wp(e))}function Rd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Td(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function wi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function lo(e,t){var r=t.checked;return ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function jc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Xt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Od(e,t){t=t.checked,t!=null&&bl(e,"checked",t,!1)}function co(e,t){Od(e,t);var r=Xt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?uo(e,t.type,r):t.hasOwnProperty("defaultValue")&&uo(e,t.type,Xt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Sc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function uo(e,t,r){(t!=="number"||wi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ln=Array.isArray;function en(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Xt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ho(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Nc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(E(92));if(Ln(r)){if(1<r.length)throw Error(E(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Xt(r)}}function Ad(e,t){var r=Xt(t.value),n=Xt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ec(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Id(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Id(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ms,$d=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ms=Ms||document.createElement("div"),Ms.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ms.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Mn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hp=["Webkit","ms","Moz","O"];Object.keys(Mn).forEach(function(e){Hp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Mn[t]=Mn[e]})});function Ld(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Mn.hasOwnProperty(e)&&Mn[e]?(""+t).trim():t+"px"}function Ud(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Ld(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Kp=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function po(e,t){if(t){if(Kp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function mo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var go=null;function Sl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vo=null,tn=null,rn=null;function Cc(e){if(e=Cs(e)){if(typeof vo!="function")throw Error(E(280));var t=e.stateNode;t&&(t=ea(t),vo(e.stateNode,e.type,t))}}function Dd(e){tn?rn?rn.push(e):rn=[e]:tn=e}function zd(){if(tn){var e=tn,t=rn;if(rn=tn=null,Cc(e),t)for(e=0;e<t.length;e++)Cc(t[e])}}function Md(e,t){return e(t)}function Fd(){}var Sa=!1;function Bd(e,t,r){if(Sa)return e(t,r);Sa=!0;try{return Md(e,t,r)}finally{Sa=!1,(tn!==null||rn!==null)&&(Fd(),zd())}}function es(e,t){var r=e.stateNode;if(r===null)return null;var n=ea(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(E(231,t,typeof r));return r}var yo=!1;if(kt)try{var jn={};Object.defineProperty(jn,"passive",{get:function(){yo=!0}}),window.addEventListener("test",jn,jn),window.removeEventListener("test",jn,jn)}catch{yo=!1}function Gp(e,t,r,n,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Fn=!1,bi=null,_i=!1,xo=null,Jp={onError:function(e){Fn=!0,bi=e}};function Qp(e,t,r,n,s,i,a,l,c){Fn=!1,bi=null,Gp.apply(Jp,arguments)}function Yp(e,t,r,n,s,i,a,l,c){if(Qp.apply(this,arguments),Fn){if(Fn){var u=bi;Fn=!1,bi=null}else throw Error(E(198));_i||(_i=!0,xo=u)}}function Er(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function qd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Pc(e){if(Er(e)!==e)throw Error(E(188))}function Xp(e){var t=e.alternate;if(!t){if(t=Er(e),t===null)throw Error(E(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Pc(s),e;if(i===n)return Pc(s),t;i=i.sibling}throw Error(E(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(E(189))}}if(r.alternate!==n)throw Error(E(190))}if(r.tag!==3)throw Error(E(188));return r.stateNode.current===r?e:t}function Vd(e){return e=Xp(e),e!==null?Wd(e):null}function Wd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Wd(e);if(t!==null)return t;e=e.sibling}return null}var Hd=qe.unstable_scheduleCallback,Tc=qe.unstable_cancelCallback,Zp=qe.unstable_shouldYield,em=qe.unstable_requestPaint,le=qe.unstable_now,tm=qe.unstable_getCurrentPriorityLevel,Nl=qe.unstable_ImmediatePriority,Kd=qe.unstable_UserBlockingPriority,ki=qe.unstable_NormalPriority,rm=qe.unstable_LowPriority,Gd=qe.unstable_IdlePriority,Qi=null,ht=null;function nm(e){if(ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(Qi,e,void 0,(e.current.flags&128)===128)}catch{}}var st=Math.clz32?Math.clz32:am,sm=Math.log,im=Math.LN2;function am(e){return e>>>=0,e===0?32:31-(sm(e)/im|0)|0}var Fs=64,Bs=4194304;function Un(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ji(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=Un(l):(i&=a,i!==0&&(n=Un(i)))}else a=r&~s,a!==0?n=Un(a):i!==0&&(n=Un(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-st(t),s=1<<r,n|=e[r],t&=~s;return n}function om(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lm(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-st(i),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=om(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function wo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Jd(){var e=Fs;return Fs<<=1,!(Fs&4194240)&&(Fs=64),e}function Na(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ns(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-st(t),e[t]=r}function cm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-st(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function El(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-st(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var K=0;function Qd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Yd,Cl,Xd,Zd,eh,bo=!1,qs=[],qt=null,Vt=null,Wt=null,ts=new Map,rs=new Map,Ut=[],um="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rc(e,t){switch(e){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":Vt=null;break;case"mouseover":case"mouseout":Wt=null;break;case"pointerover":case"pointerout":ts.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rs.delete(t.pointerId)}}function Sn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Cs(t),t!==null&&Cl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function dm(e,t,r,n,s){switch(t){case"focusin":return qt=Sn(qt,e,t,r,n,s),!0;case"dragenter":return Vt=Sn(Vt,e,t,r,n,s),!0;case"mouseover":return Wt=Sn(Wt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return ts.set(i,Sn(ts.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,rs.set(i,Sn(rs.get(i)||null,e,t,r,n,s)),!0}return!1}function th(e){var t=mr(e.target);if(t!==null){var r=Er(t);if(r!==null){if(t=r.tag,t===13){if(t=qd(r),t!==null){e.blockedOn=t,eh(e.priority,function(){Xd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ui(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=_o(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);go=n,r.target.dispatchEvent(n),go=null}else return t=Cs(r),t!==null&&Cl(t),e.blockedOn=r,!1;t.shift()}return!0}function Oc(e,t,r){ui(e)&&r.delete(t)}function hm(){bo=!1,qt!==null&&ui(qt)&&(qt=null),Vt!==null&&ui(Vt)&&(Vt=null),Wt!==null&&ui(Wt)&&(Wt=null),ts.forEach(Oc),rs.forEach(Oc)}function Nn(e,t){e.blockedOn===t&&(e.blockedOn=null,bo||(bo=!0,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,hm)))}function ns(e){function t(s){return Nn(s,e)}if(0<qs.length){Nn(qs[0],e);for(var r=1;r<qs.length;r++){var n=qs[r];n.blockedOn===e&&(n.blockedOn=null)}}for(qt!==null&&Nn(qt,e),Vt!==null&&Nn(Vt,e),Wt!==null&&Nn(Wt,e),ts.forEach(t),rs.forEach(t),r=0;r<Ut.length;r++)n=Ut[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ut.length&&(r=Ut[0],r.blockedOn===null);)th(r),r.blockedOn===null&&Ut.shift()}var nn=Et.ReactCurrentBatchConfig,Si=!0;function fm(e,t,r,n){var s=K,i=nn.transition;nn.transition=null;try{K=1,Pl(e,t,r,n)}finally{K=s,nn.transition=i}}function pm(e,t,r,n){var s=K,i=nn.transition;nn.transition=null;try{K=4,Pl(e,t,r,n)}finally{K=s,nn.transition=i}}function Pl(e,t,r,n){if(Si){var s=_o(e,t,r,n);if(s===null)La(e,t,n,Ni,r),Rc(e,n);else if(dm(s,e,t,r,n))n.stopPropagation();else if(Rc(e,n),t&4&&-1<um.indexOf(e)){for(;s!==null;){var i=Cs(s);if(i!==null&&Yd(i),i=_o(e,t,r,n),i===null&&La(e,t,n,Ni,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else La(e,t,n,null,r)}}var Ni=null;function _o(e,t,r,n){if(Ni=null,e=Sl(n),e=mr(e),e!==null)if(t=Er(e),t===null)e=null;else if(r=t.tag,r===13){if(e=qd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ni=e,null}function rh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tm()){case Nl:return 1;case Kd:return 4;case ki:case rm:return 16;case Gd:return 536870912;default:return 16}default:return 16}}var Mt=null,Tl=null,di=null;function nh(){if(di)return di;var e,t=Tl,r=t.length,n,s="value"in Mt?Mt.value:Mt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return di=s.slice(e,1<n?1-n:void 0)}function hi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vs(){return!0}function Ac(){return!1}function We(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Vs:Ac,this.isPropagationStopped=Ac,this}return ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vs)},persist:function(){},isPersistent:Vs}),t}var vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rl=We(vn),Es=ie({},vn,{view:0,detail:0}),mm=We(Es),Ea,Ca,En,Yi=ie({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ol,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==En&&(En&&e.type==="mousemove"?(Ea=e.screenX-En.screenX,Ca=e.screenY-En.screenY):Ca=Ea=0,En=e),Ea)},movementY:function(e){return"movementY"in e?e.movementY:Ca}}),Ic=We(Yi),gm=ie({},Yi,{dataTransfer:0}),vm=We(gm),ym=ie({},Es,{relatedTarget:0}),Pa=We(ym),xm=ie({},vn,{animationName:0,elapsedTime:0,pseudoElement:0}),wm=We(xm),bm=ie({},vn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_m=We(bm),km=ie({},vn,{data:0}),$c=We(km),jm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Em(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Nm[e])?!!t[e]:!1}function Ol(){return Em}var Cm=ie({},Es,{key:function(e){if(e.key){var t=jm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ol,charCode:function(e){return e.type==="keypress"?hi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pm=We(Cm),Tm=ie({},Yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lc=We(Tm),Rm=ie({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ol}),Om=We(Rm),Am=ie({},vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Im=We(Am),$m=ie({},Yi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Lm=We($m),Um=[9,13,27,32],Al=kt&&"CompositionEvent"in window,Bn=null;kt&&"documentMode"in document&&(Bn=document.documentMode);var Dm=kt&&"TextEvent"in window&&!Bn,sh=kt&&(!Al||Bn&&8<Bn&&11>=Bn),Uc=" ",Dc=!1;function ih(e,t){switch(e){case"keyup":return Um.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ah(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qr=!1;function zm(e,t){switch(e){case"compositionend":return ah(t);case"keypress":return t.which!==32?null:(Dc=!0,Uc);case"textInput":return e=t.data,e===Uc&&Dc?null:e;default:return null}}function Mm(e,t){if(qr)return e==="compositionend"||!Al&&ih(e,t)?(e=nh(),di=Tl=Mt=null,qr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sh&&t.locale!=="ko"?null:t.data;default:return null}}var Fm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Fm[e.type]:t==="textarea"}function oh(e,t,r,n){Dd(n),t=Ei(t,"onChange"),0<t.length&&(r=new Rl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var qn=null,ss=null;function Bm(e){yh(e,0)}function Xi(e){var t=Hr(e);if(Rd(t))return e}function qm(e,t){if(e==="change")return t}var lh=!1;if(kt){var Ta;if(kt){var Ra="oninput"in document;if(!Ra){var Mc=document.createElement("div");Mc.setAttribute("oninput","return;"),Ra=typeof Mc.oninput=="function"}Ta=Ra}else Ta=!1;lh=Ta&&(!document.documentMode||9<document.documentMode)}function Fc(){qn&&(qn.detachEvent("onpropertychange",ch),ss=qn=null)}function ch(e){if(e.propertyName==="value"&&Xi(ss)){var t=[];oh(t,ss,e,Sl(e)),Bd(Bm,t)}}function Vm(e,t,r){e==="focusin"?(Fc(),qn=t,ss=r,qn.attachEvent("onpropertychange",ch)):e==="focusout"&&Fc()}function Wm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xi(ss)}function Hm(e,t){if(e==="click")return Xi(t)}function Km(e,t){if(e==="input"||e==="change")return Xi(t)}function Gm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var at=typeof Object.is=="function"?Object.is:Gm;function is(e,t){if(at(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!no.call(t,s)||!at(e[s],t[s]))return!1}return!0}function Bc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qc(e,t){var r=Bc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Bc(r)}}function uh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dh(){for(var e=window,t=wi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=wi(e.document)}return t}function Il(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Jm(e){var t=dh(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&uh(r.ownerDocument.documentElement,r)){if(n!==null&&Il(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=qc(r,i);var a=qc(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Qm=kt&&"documentMode"in document&&11>=document.documentMode,Vr=null,ko=null,Vn=null,jo=!1;function Vc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;jo||Vr==null||Vr!==wi(n)||(n=Vr,"selectionStart"in n&&Il(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Vn&&is(Vn,n)||(Vn=n,n=Ei(ko,"onSelect"),0<n.length&&(t=new Rl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Vr)))}function Ws(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Wr={animationend:Ws("Animation","AnimationEnd"),animationiteration:Ws("Animation","AnimationIteration"),animationstart:Ws("Animation","AnimationStart"),transitionend:Ws("Transition","TransitionEnd")},Oa={},hh={};kt&&(hh=document.createElement("div").style,"AnimationEvent"in window||(delete Wr.animationend.animation,delete Wr.animationiteration.animation,delete Wr.animationstart.animation),"TransitionEvent"in window||delete Wr.transitionend.transition);function Zi(e){if(Oa[e])return Oa[e];if(!Wr[e])return e;var t=Wr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in hh)return Oa[e]=t[r];return e}var fh=Zi("animationend"),ph=Zi("animationiteration"),mh=Zi("animationstart"),gh=Zi("transitionend"),vh=new Map,Wc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tr(e,t){vh.set(e,t),Nr(t,[e])}for(var Aa=0;Aa<Wc.length;Aa++){var Ia=Wc[Aa],Ym=Ia.toLowerCase(),Xm=Ia[0].toUpperCase()+Ia.slice(1);tr(Ym,"on"+Xm)}tr(fh,"onAnimationEnd");tr(ph,"onAnimationIteration");tr(mh,"onAnimationStart");tr("dblclick","onDoubleClick");tr("focusin","onFocus");tr("focusout","onBlur");tr(gh,"onTransitionEnd");cn("onMouseEnter",["mouseout","mouseover"]);cn("onMouseLeave",["mouseout","mouseover"]);cn("onPointerEnter",["pointerout","pointerover"]);cn("onPointerLeave",["pointerout","pointerover"]);Nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dn));function Hc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Yp(n,t,void 0,e),e.currentTarget=null}function yh(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Hc(s,l,u),i=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Hc(s,l,u),i=c}}}if(_i)throw e=xo,_i=!1,xo=null,e}function X(e,t){var r=t[Po];r===void 0&&(r=t[Po]=new Set);var n=e+"__bubble";r.has(n)||(xh(t,e,2,!1),r.add(n))}function $a(e,t,r){var n=0;t&&(n|=4),xh(r,e,n,t)}var Hs="_reactListening"+Math.random().toString(36).slice(2);function as(e){if(!e[Hs]){e[Hs]=!0,Nd.forEach(function(r){r!=="selectionchange"&&(Zm.has(r)||$a(r,!1,e),$a(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hs]||(t[Hs]=!0,$a("selectionchange",!1,t))}}function xh(e,t,r,n){switch(rh(t)){case 1:var s=fm;break;case 4:s=pm;break;default:s=Pl}r=s.bind(null,t,r,e),s=void 0,!yo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function La(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=mr(l),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}l=l.parentNode}}n=n.return}Bd(function(){var u=i,d=Sl(r),h=[];e:{var p=vh.get(e);if(p!==void 0){var v=Rl,y=e;switch(e){case"keypress":if(hi(r)===0)break e;case"keydown":case"keyup":v=Pm;break;case"focusin":y="focus",v=Pa;break;case"focusout":y="blur",v=Pa;break;case"beforeblur":case"afterblur":v=Pa;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Ic;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=vm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Om;break;case fh:case ph:case mh:v=wm;break;case gh:v=Im;break;case"scroll":v=mm;break;case"wheel":v=Lm;break;case"copy":case"cut":case"paste":v=_m;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Lc}var x=(t&4)!==0,w=!x&&e==="scroll",g=x?p!==null?p+"Capture":null:p;x=[];for(var m=u,f;m!==null;){f=m;var b=f.stateNode;if(f.tag===5&&b!==null&&(f=b,g!==null&&(b=es(m,g),b!=null&&x.push(os(m,b,f)))),w)break;m=m.return}0<x.length&&(p=new v(p,y,null,r,d),h.push({event:p,listeners:x}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",p&&r!==go&&(y=r.relatedTarget||r.fromElement)&&(mr(y)||y[jt]))break e;if((v||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,v?(y=r.relatedTarget||r.toElement,v=u,y=y?mr(y):null,y!==null&&(w=Er(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(x=Ic,b="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(x=Lc,b="onPointerLeave",g="onPointerEnter",m="pointer"),w=v==null?p:Hr(v),f=y==null?p:Hr(y),p=new x(b,m+"leave",v,r,d),p.target=w,p.relatedTarget=f,b=null,mr(d)===u&&(x=new x(g,m+"enter",y,r,d),x.target=f,x.relatedTarget=w,b=x),w=b,v&&y)t:{for(x=v,g=y,m=0,f=x;f;f=Rr(f))m++;for(f=0,b=g;b;b=Rr(b))f++;for(;0<m-f;)x=Rr(x),m--;for(;0<f-m;)g=Rr(g),f--;for(;m--;){if(x===g||g!==null&&x===g.alternate)break t;x=Rr(x),g=Rr(g)}x=null}else x=null;v!==null&&Kc(h,p,v,x,!1),y!==null&&w!==null&&Kc(h,w,y,x,!0)}}e:{if(p=u?Hr(u):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var S=qm;else if(zc(p))if(lh)S=Km;else{S=Wm;var N=Vm}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=Hm);if(S&&(S=S(e,u))){oh(h,S,r,d);break e}N&&N(e,p,u),e==="focusout"&&(N=p._wrapperState)&&N.controlled&&p.type==="number"&&uo(p,"number",p.value)}switch(N=u?Hr(u):window,e){case"focusin":(zc(N)||N.contentEditable==="true")&&(Vr=N,ko=u,Vn=null);break;case"focusout":Vn=ko=Vr=null;break;case"mousedown":jo=!0;break;case"contextmenu":case"mouseup":case"dragend":jo=!1,Vc(h,r,d);break;case"selectionchange":if(Qm)break;case"keydown":case"keyup":Vc(h,r,d)}var j;if(Al)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else qr?ih(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(sh&&r.locale!=="ko"&&(qr||k!=="onCompositionStart"?k==="onCompositionEnd"&&qr&&(j=nh()):(Mt=d,Tl="value"in Mt?Mt.value:Mt.textContent,qr=!0)),N=Ei(u,k),0<N.length&&(k=new $c(k,e,null,r,d),h.push({event:k,listeners:N}),j?k.data=j:(j=ah(r),j!==null&&(k.data=j)))),(j=Dm?zm(e,r):Mm(e,r))&&(u=Ei(u,"onBeforeInput"),0<u.length&&(d=new $c("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=j))}yh(h,t)})}function os(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ei(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=es(e,r),i!=null&&n.unshift(os(e,i,s)),i=es(e,t),i!=null&&n.push(os(e,i,s))),e=e.return}return n}function Rr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Kc(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=es(r,i),c!=null&&a.unshift(os(r,c,l))):s||(c=es(r,i),c!=null&&a.push(os(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var eg=/\r\n?/g,tg=/\u0000|\uFFFD/g;function Gc(e){return(typeof e=="string"?e:""+e).replace(eg,`
`).replace(tg,"")}function Ks(e,t,r){if(t=Gc(t),Gc(e)!==t&&r)throw Error(E(425))}function Ci(){}var So=null,No=null;function Eo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Co=typeof setTimeout=="function"?setTimeout:void 0,rg=typeof clearTimeout=="function"?clearTimeout:void 0,Jc=typeof Promise=="function"?Promise:void 0,ng=typeof queueMicrotask=="function"?queueMicrotask:typeof Jc<"u"?function(e){return Jc.resolve(null).then(e).catch(sg)}:Co;function sg(e){setTimeout(function(){throw e})}function Ua(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ns(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ns(t)}function Ht(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Qc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var yn=Math.random().toString(36).slice(2),ut="__reactFiber$"+yn,ls="__reactProps$"+yn,jt="__reactContainer$"+yn,Po="__reactEvents$"+yn,ig="__reactListeners$"+yn,ag="__reactHandles$"+yn;function mr(e){var t=e[ut];if(t)return t;for(var r=e.parentNode;r;){if(t=r[jt]||r[ut]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Qc(e);e!==null;){if(r=e[ut])return r;e=Qc(e)}return t}e=r,r=e.parentNode}return null}function Cs(e){return e=e[ut]||e[jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function ea(e){return e[ls]||null}var To=[],Kr=-1;function rr(e){return{current:e}}function Z(e){0>Kr||(e.current=To[Kr],To[Kr]=null,Kr--)}function Q(e,t){Kr++,To[Kr]=e.current,e.current=t}var Zt={},Ce=rr(Zt),Le=rr(!1),br=Zt;function un(e,t){var r=e.type.contextTypes;if(!r)return Zt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ue(e){return e=e.childContextTypes,e!=null}function Pi(){Z(Le),Z(Ce)}function Yc(e,t,r){if(Ce.current!==Zt)throw Error(E(168));Q(Ce,t),Q(Le,r)}function wh(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(E(108,Vp(e)||"Unknown",s));return ie({},r,n)}function Ti(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zt,br=Ce.current,Q(Ce,e),Q(Le,Le.current),!0}function Xc(e,t,r){var n=e.stateNode;if(!n)throw Error(E(169));r?(e=wh(e,t,br),n.__reactInternalMemoizedMergedChildContext=e,Z(Le),Z(Ce),Q(Ce,e)):Z(Le),Q(Le,r)}var yt=null,ta=!1,Da=!1;function bh(e){yt===null?yt=[e]:yt.push(e)}function og(e){ta=!0,bh(e)}function nr(){if(!Da&&yt!==null){Da=!0;var e=0,t=K;try{var r=yt;for(K=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}yt=null,ta=!1}catch(s){throw yt!==null&&(yt=yt.slice(e+1)),Hd(Nl,nr),s}finally{K=t,Da=!1}}return null}var Gr=[],Jr=0,Ri=null,Oi=0,He=[],Ke=0,_r=null,xt=1,wt="";function ur(e,t){Gr[Jr++]=Oi,Gr[Jr++]=Ri,Ri=e,Oi=t}function _h(e,t,r){He[Ke++]=xt,He[Ke++]=wt,He[Ke++]=_r,_r=e;var n=xt;e=wt;var s=32-st(n)-1;n&=~(1<<s),r+=1;var i=32-st(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,xt=1<<32-st(t)+s|r<<s|n,wt=i+e}else xt=1<<i|r<<s|n,wt=e}function $l(e){e.return!==null&&(ur(e,1),_h(e,1,0))}function Ll(e){for(;e===Ri;)Ri=Gr[--Jr],Gr[Jr]=null,Oi=Gr[--Jr],Gr[Jr]=null;for(;e===_r;)_r=He[--Ke],He[Ke]=null,wt=He[--Ke],He[Ke]=null,xt=He[--Ke],He[Ke]=null}var Be=null,Fe=null,te=!1,nt=null;function kh(e,t){var r=Ge(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Zc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Be=e,Fe=Ht(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Be=e,Fe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=_r!==null?{id:xt,overflow:wt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ge(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Be=e,Fe=null,!0):!1;default:return!1}}function Ro(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Oo(e){if(te){var t=Fe;if(t){var r=t;if(!Zc(e,t)){if(Ro(e))throw Error(E(418));t=Ht(r.nextSibling);var n=Be;t&&Zc(e,t)?kh(n,r):(e.flags=e.flags&-4097|2,te=!1,Be=e)}}else{if(Ro(e))throw Error(E(418));e.flags=e.flags&-4097|2,te=!1,Be=e}}}function eu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Be=e}function Gs(e){if(e!==Be)return!1;if(!te)return eu(e),te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Eo(e.type,e.memoizedProps)),t&&(t=Fe)){if(Ro(e))throw jh(),Error(E(418));for(;t;)kh(e,t),t=Ht(t.nextSibling)}if(eu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Fe=Ht(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Fe=null}}else Fe=Be?Ht(e.stateNode.nextSibling):null;return!0}function jh(){for(var e=Fe;e;)e=Ht(e.nextSibling)}function dn(){Fe=Be=null,te=!1}function Ul(e){nt===null?nt=[e]:nt.push(e)}var lg=Et.ReactCurrentBatchConfig;function Cn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(E(309));var n=r.stateNode}if(!n)throw Error(E(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(E(284));if(!r._owner)throw Error(E(290,e))}return e}function Js(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tu(e){var t=e._init;return t(e._payload)}function Sh(e){function t(g,m){if(e){var f=g.deletions;f===null?(g.deletions=[m],g.flags|=16):f.push(m)}}function r(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function n(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=Qt(g,m),g.index=0,g.sibling=null,g}function i(g,m,f){return g.index=f,e?(f=g.alternate,f!==null?(f=f.index,f<m?(g.flags|=2,m):f):(g.flags|=2,m)):(g.flags|=1048576,m)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,m,f,b){return m===null||m.tag!==6?(m=Wa(f,g.mode,b),m.return=g,m):(m=s(m,f),m.return=g,m)}function c(g,m,f,b){var S=f.type;return S===Br?d(g,m,f.props.children,b,f.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===It&&tu(S)===m.type)?(b=s(m,f.props),b.ref=Cn(g,m,f),b.return=g,b):(b=xi(f.type,f.key,f.props,null,g.mode,b),b.ref=Cn(g,m,f),b.return=g,b)}function u(g,m,f,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==f.containerInfo||m.stateNode.implementation!==f.implementation?(m=Ha(f,g.mode,b),m.return=g,m):(m=s(m,f.children||[]),m.return=g,m)}function d(g,m,f,b,S){return m===null||m.tag!==7?(m=wr(f,g.mode,b,S),m.return=g,m):(m=s(m,f),m.return=g,m)}function h(g,m,f){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Wa(""+m,g.mode,f),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ds:return f=xi(m.type,m.key,m.props,null,g.mode,f),f.ref=Cn(g,null,m),f.return=g,f;case Fr:return m=Ha(m,g.mode,f),m.return=g,m;case It:var b=m._init;return h(g,b(m._payload),f)}if(Ln(m)||kn(m))return m=wr(m,g.mode,f,null),m.return=g,m;Js(g,m)}return null}function p(g,m,f,b){var S=m!==null?m.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return S!==null?null:l(g,m,""+f,b);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Ds:return f.key===S?c(g,m,f,b):null;case Fr:return f.key===S?u(g,m,f,b):null;case It:return S=f._init,p(g,m,S(f._payload),b)}if(Ln(f)||kn(f))return S!==null?null:d(g,m,f,b,null);Js(g,f)}return null}function v(g,m,f,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(f)||null,l(m,g,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ds:return g=g.get(b.key===null?f:b.key)||null,c(m,g,b,S);case Fr:return g=g.get(b.key===null?f:b.key)||null,u(m,g,b,S);case It:var N=b._init;return v(g,m,f,N(b._payload),S)}if(Ln(b)||kn(b))return g=g.get(f)||null,d(m,g,b,S,null);Js(m,b)}return null}function y(g,m,f,b){for(var S=null,N=null,j=m,k=m=0,T=null;j!==null&&k<f.length;k++){j.index>k?(T=j,j=null):T=j.sibling;var R=p(g,j,f[k],b);if(R===null){j===null&&(j=T);break}e&&j&&R.alternate===null&&t(g,j),m=i(R,m,k),N===null?S=R:N.sibling=R,N=R,j=T}if(k===f.length)return r(g,j),te&&ur(g,k),S;if(j===null){for(;k<f.length;k++)j=h(g,f[k],b),j!==null&&(m=i(j,m,k),N===null?S=j:N.sibling=j,N=j);return te&&ur(g,k),S}for(j=n(g,j);k<f.length;k++)T=v(j,g,k,f[k],b),T!==null&&(e&&T.alternate!==null&&j.delete(T.key===null?k:T.key),m=i(T,m,k),N===null?S=T:N.sibling=T,N=T);return e&&j.forEach(function(q){return t(g,q)}),te&&ur(g,k),S}function x(g,m,f,b){var S=kn(f);if(typeof S!="function")throw Error(E(150));if(f=S.call(f),f==null)throw Error(E(151));for(var N=S=null,j=m,k=m=0,T=null,R=f.next();j!==null&&!R.done;k++,R=f.next()){j.index>k?(T=j,j=null):T=j.sibling;var q=p(g,j,R.value,b);if(q===null){j===null&&(j=T);break}e&&j&&q.alternate===null&&t(g,j),m=i(q,m,k),N===null?S=q:N.sibling=q,N=q,j=T}if(R.done)return r(g,j),te&&ur(g,k),S;if(j===null){for(;!R.done;k++,R=f.next())R=h(g,R.value,b),R!==null&&(m=i(R,m,k),N===null?S=R:N.sibling=R,N=R);return te&&ur(g,k),S}for(j=n(g,j);!R.done;k++,R=f.next())R=v(j,g,k,R.value,b),R!==null&&(e&&R.alternate!==null&&j.delete(R.key===null?k:R.key),m=i(R,m,k),N===null?S=R:N.sibling=R,N=R);return e&&j.forEach(function(A){return t(g,A)}),te&&ur(g,k),S}function w(g,m,f,b){if(typeof f=="object"&&f!==null&&f.type===Br&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Ds:e:{for(var S=f.key,N=m;N!==null;){if(N.key===S){if(S=f.type,S===Br){if(N.tag===7){r(g,N.sibling),m=s(N,f.props.children),m.return=g,g=m;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===It&&tu(S)===N.type){r(g,N.sibling),m=s(N,f.props),m.ref=Cn(g,N,f),m.return=g,g=m;break e}r(g,N);break}else t(g,N);N=N.sibling}f.type===Br?(m=wr(f.props.children,g.mode,b,f.key),m.return=g,g=m):(b=xi(f.type,f.key,f.props,null,g.mode,b),b.ref=Cn(g,m,f),b.return=g,g=b)}return a(g);case Fr:e:{for(N=f.key;m!==null;){if(m.key===N)if(m.tag===4&&m.stateNode.containerInfo===f.containerInfo&&m.stateNode.implementation===f.implementation){r(g,m.sibling),m=s(m,f.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else t(g,m);m=m.sibling}m=Ha(f,g.mode,b),m.return=g,g=m}return a(g);case It:return N=f._init,w(g,m,N(f._payload),b)}if(Ln(f))return y(g,m,f,b);if(kn(f))return x(g,m,f,b);Js(g,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,m!==null&&m.tag===6?(r(g,m.sibling),m=s(m,f),m.return=g,g=m):(r(g,m),m=Wa(f,g.mode,b),m.return=g,g=m),a(g)):r(g,m)}return w}var hn=Sh(!0),Nh=Sh(!1),Ai=rr(null),Ii=null,Qr=null,Dl=null;function zl(){Dl=Qr=Ii=null}function Ml(e){var t=Ai.current;Z(Ai),e._currentValue=t}function Ao(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function sn(e,t){Ii=e,Dl=Qr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($e=!0),e.firstContext=null)}function Qe(e){var t=e._currentValue;if(Dl!==e)if(e={context:e,memoizedValue:t,next:null},Qr===null){if(Ii===null)throw Error(E(308));Qr=e,Ii.dependencies={lanes:0,firstContext:e}}else Qr=Qr.next=e;return t}var gr=null;function Fl(e){gr===null?gr=[e]:gr.push(e)}function Eh(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Fl(t)):(r.next=s.next,s.next=r),t.interleaved=r,St(e,n)}function St(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var $t=!1;function Bl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ch(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,W&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,St(e,r)}return s=n.interleaved,s===null?(t.next=t,Fl(n)):(t.next=s.next,s.next=t),n.interleaved=t,St(e,r)}function fi(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,El(e,r)}}function ru(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function $i(e,t,r,n){var s=e.updateQueue;$t=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,l=i;do{var p=l.lane,v=l.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,x=l;switch(p=t,v=r,x.tag){case 1:if(y=x.payload,typeof y=="function"){h=y.call(v,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,p=typeof y=="function"?y.call(v,h,p):y,p==null)break e;h=ie({},h,p);break e;case 2:$t=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else v={eventTime:v,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=v,c=h):d=d.next=v,a|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);jr|=a,e.lanes=a,e.memoizedState=h}}function nu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(E(191,s));s.call(n)}}}var Ps={},ft=rr(Ps),cs=rr(Ps),us=rr(Ps);function vr(e){if(e===Ps)throw Error(E(174));return e}function ql(e,t){switch(Q(us,t),Q(cs,e),Q(ft,Ps),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fo(t,e)}Z(ft),Q(ft,t)}function fn(){Z(ft),Z(cs),Z(us)}function Ph(e){vr(us.current);var t=vr(ft.current),r=fo(t,e.type);t!==r&&(Q(cs,e),Q(ft,r))}function Vl(e){cs.current===e&&(Z(ft),Z(cs))}var ne=rr(0);function Li(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var za=[];function Wl(){for(var e=0;e<za.length;e++)za[e]._workInProgressVersionPrimary=null;za.length=0}var pi=Et.ReactCurrentDispatcher,Ma=Et.ReactCurrentBatchConfig,kr=0,se=null,fe=null,ye=null,Ui=!1,Wn=!1,ds=0,cg=0;function Se(){throw Error(E(321))}function Hl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!at(e[r],t[r]))return!1;return!0}function Kl(e,t,r,n,s,i){if(kr=i,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pi.current=e===null||e.memoizedState===null?fg:pg,e=r(n,s),Wn){i=0;do{if(Wn=!1,ds=0,25<=i)throw Error(E(301));i+=1,ye=fe=null,t.updateQueue=null,pi.current=mg,e=r(n,s)}while(Wn)}if(pi.current=Di,t=fe!==null&&fe.next!==null,kr=0,ye=fe=se=null,Ui=!1,t)throw Error(E(300));return e}function Gl(){var e=ds!==0;return ds=0,e}function ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?se.memoizedState=ye=e:ye=ye.next=e,ye}function Ye(){if(fe===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=fe.next;var t=ye===null?se.memoizedState:ye.next;if(t!==null)ye=t,fe=e;else{if(e===null)throw Error(E(310));fe=e,e={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},ye===null?se.memoizedState=ye=e:ye=ye.next=e}return ye}function hs(e,t){return typeof t=="function"?t(e):t}function Fa(e){var t=Ye(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=fe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((kr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=n):c=c.next=h,se.lanes|=d,jr|=d}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=l,at(n,t.memoizedState)||($e=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,se.lanes|=i,jr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ba(e){var t=Ye(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);at(i,t.memoizedState)||($e=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Th(){}function Rh(e,t){var r=se,n=Ye(),s=t(),i=!at(n.memoizedState,s);if(i&&(n.memoizedState=s,$e=!0),n=n.queue,Jl(Ih.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ye!==null&&ye.memoizedState.tag&1){if(r.flags|=2048,fs(9,Ah.bind(null,r,n,s,t),void 0,null),xe===null)throw Error(E(349));kr&30||Oh(r,t,s)}return s}function Oh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ah(e,t,r,n){t.value=r,t.getSnapshot=n,$h(t)&&Lh(e)}function Ih(e,t,r){return r(function(){$h(t)&&Lh(e)})}function $h(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!at(e,r)}catch{return!0}}function Lh(e){var t=St(e,1);t!==null&&it(t,e,1,-1)}function su(e){var t=ct();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:e},t.queue=e,e=e.dispatch=hg.bind(null,se,e),[t.memoizedState,e]}function fs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Uh(){return Ye().memoizedState}function mi(e,t,r,n){var s=ct();se.flags|=e,s.memoizedState=fs(1|t,r,void 0,n===void 0?null:n)}function ra(e,t,r,n){var s=Ye();n=n===void 0?null:n;var i=void 0;if(fe!==null){var a=fe.memoizedState;if(i=a.destroy,n!==null&&Hl(n,a.deps)){s.memoizedState=fs(t,r,i,n);return}}se.flags|=e,s.memoizedState=fs(1|t,r,i,n)}function iu(e,t){return mi(8390656,8,e,t)}function Jl(e,t){return ra(2048,8,e,t)}function Dh(e,t){return ra(4,2,e,t)}function zh(e,t){return ra(4,4,e,t)}function Mh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Fh(e,t,r){return r=r!=null?r.concat([e]):null,ra(4,4,Mh.bind(null,t,e),r)}function Ql(){}function Bh(e,t){var r=Ye();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Hl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function qh(e,t){var r=Ye();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Hl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Vh(e,t,r){return kr&21?(at(r,t)||(r=Jd(),se.lanes|=r,jr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$e=!0),e.memoizedState=r)}function ug(e,t){var r=K;K=r!==0&&4>r?r:4,e(!0);var n=Ma.transition;Ma.transition={};try{e(!1),t()}finally{K=r,Ma.transition=n}}function Wh(){return Ye().memoizedState}function dg(e,t,r){var n=Jt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Hh(e))Kh(t,r);else if(r=Eh(e,t,r,n),r!==null){var s=Re();it(r,e,n,s),Gh(r,t,n)}}function hg(e,t,r){var n=Jt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Hh(e))Kh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,at(l,a)){var c=t.interleaved;c===null?(s.next=s,Fl(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Eh(e,t,s,n),r!==null&&(s=Re(),it(r,e,n,s),Gh(r,t,n))}}function Hh(e){var t=e.alternate;return e===se||t!==null&&t===se}function Kh(e,t){Wn=Ui=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Gh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,El(e,r)}}var Di={readContext:Qe,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useInsertionEffect:Se,useLayoutEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useMutableSource:Se,useSyncExternalStore:Se,useId:Se,unstable_isNewReconciler:!1},fg={readContext:Qe,useCallback:function(e,t){return ct().memoizedState=[e,t===void 0?null:t],e},useContext:Qe,useEffect:iu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,mi(4194308,4,Mh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return mi(4194308,4,e,t)},useInsertionEffect:function(e,t){return mi(4,2,e,t)},useMemo:function(e,t){var r=ct();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ct();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=dg.bind(null,se,e),[n.memoizedState,e]},useRef:function(e){var t=ct();return e={current:e},t.memoizedState=e},useState:su,useDebugValue:Ql,useDeferredValue:function(e){return ct().memoizedState=e},useTransition:function(){var e=su(!1),t=e[0];return e=ug.bind(null,e[1]),ct().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=se,s=ct();if(te){if(r===void 0)throw Error(E(407));r=r()}else{if(r=t(),xe===null)throw Error(E(349));kr&30||Oh(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,iu(Ih.bind(null,n,i,e),[e]),n.flags|=2048,fs(9,Ah.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=ct(),t=xe.identifierPrefix;if(te){var r=wt,n=xt;r=(n&~(1<<32-st(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ds++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=cg++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pg={readContext:Qe,useCallback:Bh,useContext:Qe,useEffect:Jl,useImperativeHandle:Fh,useInsertionEffect:Dh,useLayoutEffect:zh,useMemo:qh,useReducer:Fa,useRef:Uh,useState:function(){return Fa(hs)},useDebugValue:Ql,useDeferredValue:function(e){var t=Ye();return Vh(t,fe.memoizedState,e)},useTransition:function(){var e=Fa(hs)[0],t=Ye().memoizedState;return[e,t]},useMutableSource:Th,useSyncExternalStore:Rh,useId:Wh,unstable_isNewReconciler:!1},mg={readContext:Qe,useCallback:Bh,useContext:Qe,useEffect:Jl,useImperativeHandle:Fh,useInsertionEffect:Dh,useLayoutEffect:zh,useMemo:qh,useReducer:Ba,useRef:Uh,useState:function(){return Ba(hs)},useDebugValue:Ql,useDeferredValue:function(e){var t=Ye();return fe===null?t.memoizedState=e:Vh(t,fe.memoizedState,e)},useTransition:function(){var e=Ba(hs)[0],t=Ye().memoizedState;return[e,t]},useMutableSource:Th,useSyncExternalStore:Rh,useId:Wh,unstable_isNewReconciler:!1};function et(e,t){if(e&&e.defaultProps){t=ie({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Io(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ie({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var na={isMounted:function(e){return(e=e._reactInternals)?Er(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Re(),s=Jt(e),i=bt(n,s);i.payload=t,r!=null&&(i.callback=r),t=Kt(e,i,s),t!==null&&(it(t,e,s,n),fi(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Re(),s=Jt(e),i=bt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Kt(e,i,s),t!==null&&(it(t,e,s,n),fi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Re(),n=Jt(e),s=bt(r,n);s.tag=2,t!=null&&(s.callback=t),t=Kt(e,s,n),t!==null&&(it(t,e,n,r),fi(t,e,n))}};function au(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!is(r,n)||!is(s,i):!0}function Jh(e,t,r){var n=!1,s=Zt,i=t.contextType;return typeof i=="object"&&i!==null?i=Qe(i):(s=Ue(t)?br:Ce.current,n=t.contextTypes,i=(n=n!=null)?un(e,s):Zt),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=na,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ou(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&na.enqueueReplaceState(t,t.state,null)}function $o(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Bl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Qe(i):(i=Ue(t)?br:Ce.current,s.context=un(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Io(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&na.enqueueReplaceState(s,s.state,null),$i(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function pn(e,t){try{var r="",n=t;do r+=qp(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function qa(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Lo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var gg=typeof WeakMap=="function"?WeakMap:Map;function Qh(e,t,r){r=bt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Mi||(Mi=!0,Ho=n),Lo(e,t)},r}function Yh(e,t,r){r=bt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Lo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Lo(e,t),typeof n!="function"&&(Gt===null?Gt=new Set([this]):Gt.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function lu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new gg;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Tg.bind(null,e,t,r),t.then(e,e))}function cu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function uu(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=bt(-1,1),t.tag=2,Kt(r,t,1))),r.lanes|=1),e)}var vg=Et.ReactCurrentOwner,$e=!1;function Te(e,t,r,n){t.child=e===null?Nh(t,null,r,n):hn(t,e.child,r,n)}function du(e,t,r,n,s){r=r.render;var i=t.ref;return sn(t,s),n=Kl(e,t,r,n,i,s),r=Gl(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Nt(e,t,s)):(te&&r&&$l(t),t.flags|=1,Te(e,t,n,s),t.child)}function hu(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!sc(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Xh(e,t,i,n,s)):(e=xi(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:is,r(a,n)&&e.ref===t.ref)return Nt(e,t,s)}return t.flags|=1,e=Qt(i,n),e.ref=t.ref,e.return=t,t.child=e}function Xh(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(is(i,n)&&e.ref===t.ref)if($e=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&($e=!0);else return t.lanes=e.lanes,Nt(e,t,s)}return Uo(e,t,r,n,s)}function Zh(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Q(Xr,Me),Me|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Q(Xr,Me),Me|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Q(Xr,Me),Me|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Q(Xr,Me),Me|=n;return Te(e,t,s,r),t.child}function ef(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Uo(e,t,r,n,s){var i=Ue(r)?br:Ce.current;return i=un(t,i),sn(t,s),r=Kl(e,t,r,n,i,s),n=Gl(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Nt(e,t,s)):(te&&n&&$l(t),t.flags|=1,Te(e,t,r,s),t.child)}function fu(e,t,r,n,s){if(Ue(r)){var i=!0;Ti(t)}else i=!1;if(sn(t,s),t.stateNode===null)gi(e,t),Jh(t,r,n),$o(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Qe(u):(u=Ue(r)?br:Ce.current,u=un(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&ou(t,a,n,u),$t=!1;var p=t.memoizedState;a.state=p,$i(t,n,a,s),c=t.memoizedState,l!==n||p!==c||Le.current||$t?(typeof d=="function"&&(Io(t,r,d,n),c=t.memoizedState),(l=$t||au(t,r,l,n,p,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Ch(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:et(t.type,l),a.props=u,h=t.pendingProps,p=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Qe(c):(c=Ue(r)?br:Ce.current,c=un(t,c));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||p!==c)&&ou(t,a,n,c),$t=!1,p=t.memoizedState,a.state=p,$i(t,n,a,s);var y=t.memoizedState;l!==h||p!==y||Le.current||$t?(typeof v=="function"&&(Io(t,r,v,n),y=t.memoizedState),(u=$t||au(t,r,u,n,p,y,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,y,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,y,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),a.props=n,a.state=y,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Do(e,t,r,n,i,s)}function Do(e,t,r,n,s,i){ef(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&Xc(t,r,!1),Nt(e,t,i);n=t.stateNode,vg.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=hn(t,e.child,null,i),t.child=hn(t,null,l,i)):Te(e,t,l,i),t.memoizedState=n.state,s&&Xc(t,r,!0),t.child}function tf(e){var t=e.stateNode;t.pendingContext?Yc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yc(e,t.context,!1),ql(e,t.containerInfo)}function pu(e,t,r,n,s){return dn(),Ul(s),t.flags|=256,Te(e,t,r,n),t.child}var zo={dehydrated:null,treeContext:null,retryLane:0};function Mo(e){return{baseLanes:e,cachePool:null,transitions:null}}function rf(e,t,r){var n=t.pendingProps,s=ne.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Q(ne,s&1),e===null)return Oo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=aa(a,n,0,null),e=wr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Mo(r),t.memoizedState=zo,e):Yl(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return yg(e,t,a,n,l,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Qt(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Qt(l,i):(i=wr(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?Mo(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=zo,n}return i=e.child,e=i.sibling,n=Qt(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Yl(e,t){return t=aa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Qs(e,t,r,n){return n!==null&&Ul(n),hn(t,e.child,null,r),e=Yl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yg(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=qa(Error(E(422))),Qs(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=aa({mode:"visible",children:n.children},s,0,null),i=wr(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&hn(t,e.child,null,a),t.child.memoizedState=Mo(a),t.memoizedState=zo,i);if(!(t.mode&1))return Qs(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(E(419)),n=qa(i,n,void 0),Qs(e,t,a,n)}if(l=(a&e.childLanes)!==0,$e||l){if(n=xe,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,St(e,s),it(n,e,s,-1))}return nc(),n=qa(Error(E(421))),Qs(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Rg.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Fe=Ht(s.nextSibling),Be=t,te=!0,nt=null,e!==null&&(He[Ke++]=xt,He[Ke++]=wt,He[Ke++]=_r,xt=e.id,wt=e.overflow,_r=t),t=Yl(t,n.children),t.flags|=4096,t)}function mu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Ao(e.return,t,r)}function Va(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function nf(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Te(e,t,n.children,r),n=ne.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mu(e,r,t);else if(e.tag===19)mu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Q(ne,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Li(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Va(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Li(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Va(t,!0,r,null,i);break;case"together":Va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function gi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Nt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),jr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,r=Qt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Qt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function xg(e,t,r){switch(t.tag){case 3:tf(t),dn();break;case 5:Ph(t);break;case 1:Ue(t.type)&&Ti(t);break;case 4:ql(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Q(Ai,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Q(ne,ne.current&1),t.flags|=128,null):r&t.child.childLanes?rf(e,t,r):(Q(ne,ne.current&1),e=Nt(e,t,r),e!==null?e.sibling:null);Q(ne,ne.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return nf(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Q(ne,ne.current),n)break;return null;case 22:case 23:return t.lanes=0,Zh(e,t,r)}return Nt(e,t,r)}var sf,Fo,af,of;sf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Fo=function(){};af=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,vr(ft.current);var i=null;switch(r){case"input":s=lo(e,s),n=lo(e,n),i=[];break;case"select":s=ie({},s,{value:void 0}),n=ie({},n,{value:void 0}),i=[];break;case"textarea":s=ho(e,s),n=ho(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ci)}po(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xn.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xn.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&X("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};of=function(e,t,r,n){r!==n&&(t.flags|=4)};function Pn(e,t){if(!te)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ne(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function wg(e,t,r){var n=t.pendingProps;switch(Ll(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(t),null;case 1:return Ue(t.type)&&Pi(),Ne(t),null;case 3:return n=t.stateNode,fn(),Z(Le),Z(Ce),Wl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Gs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nt!==null&&(Jo(nt),nt=null))),Fo(e,t),Ne(t),null;case 5:Vl(t);var s=vr(us.current);if(r=t.type,e!==null&&t.stateNode!=null)af(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(E(166));return Ne(t),null}if(e=vr(ft.current),Gs(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ut]=t,n[ls]=i,e=(t.mode&1)!==0,r){case"dialog":X("cancel",n),X("close",n);break;case"iframe":case"object":case"embed":X("load",n);break;case"video":case"audio":for(s=0;s<Dn.length;s++)X(Dn[s],n);break;case"source":X("error",n);break;case"img":case"image":case"link":X("error",n),X("load",n);break;case"details":X("toggle",n);break;case"input":jc(n,i),X("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},X("invalid",n);break;case"textarea":Nc(n,i),X("invalid",n)}po(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ks(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ks(n.textContent,l,e),s=["children",""+l]):Xn.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&X("scroll",n)}switch(r){case"input":zs(n),Sc(n,i,!0);break;case"textarea":zs(n),Ec(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ci)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Id(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[ut]=t,e[ls]=n,sf(e,t,!1,!1),t.stateNode=e;e:{switch(a=mo(r,n),r){case"dialog":X("cancel",e),X("close",e),s=n;break;case"iframe":case"object":case"embed":X("load",e),s=n;break;case"video":case"audio":for(s=0;s<Dn.length;s++)X(Dn[s],e);s=n;break;case"source":X("error",e),s=n;break;case"img":case"image":case"link":X("error",e),X("load",e),s=n;break;case"details":X("toggle",e),s=n;break;case"input":jc(e,n),s=lo(e,n),X("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ie({},n,{value:void 0}),X("invalid",e);break;case"textarea":Nc(e,n),s=ho(e,n),X("invalid",e);break;default:s=n}po(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Ud(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&$d(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Zn(e,c):typeof c=="number"&&Zn(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Xn.hasOwnProperty(i)?c!=null&&i==="onScroll"&&X("scroll",e):c!=null&&bl(e,i,c,a))}switch(r){case"input":zs(e),Sc(e,n,!1);break;case"textarea":zs(e),Ec(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Xt(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?en(e,!!n.multiple,i,!1):n.defaultValue!=null&&en(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ci)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ne(t),null;case 6:if(e&&t.stateNode!=null)of(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(E(166));if(r=vr(us.current),vr(ft.current),Gs(t)){if(n=t.stateNode,r=t.memoizedProps,n[ut]=t,(i=n.nodeValue!==r)&&(e=Be,e!==null))switch(e.tag){case 3:Ks(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ks(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ut]=t,t.stateNode=n}return Ne(t),null;case 13:if(Z(ne),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(te&&Fe!==null&&t.mode&1&&!(t.flags&128))jh(),dn(),t.flags|=98560,i=!1;else if(i=Gs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(E(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[ut]=t}else dn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ne(t),i=!1}else nt!==null&&(Jo(nt),nt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ne.current&1?me===0&&(me=3):nc())),t.updateQueue!==null&&(t.flags|=4),Ne(t),null);case 4:return fn(),Fo(e,t),e===null&&as(t.stateNode.containerInfo),Ne(t),null;case 10:return Ml(t.type._context),Ne(t),null;case 17:return Ue(t.type)&&Pi(),Ne(t),null;case 19:if(Z(ne),i=t.memoizedState,i===null)return Ne(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)Pn(i,!1);else{if(me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Li(e),a!==null){for(t.flags|=128,Pn(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Q(ne,ne.current&1|2),t.child}e=e.sibling}i.tail!==null&&le()>mn&&(t.flags|=128,n=!0,Pn(i,!1),t.lanes=4194304)}else{if(!n)if(e=Li(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Pn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!te)return Ne(t),null}else 2*le()-i.renderingStartTime>mn&&r!==1073741824&&(t.flags|=128,n=!0,Pn(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=le(),t.sibling=null,r=ne.current,Q(ne,n?r&1|2:r&1),t):(Ne(t),null);case 22:case 23:return rc(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Me&1073741824&&(Ne(t),t.subtreeFlags&6&&(t.flags|=8192)):Ne(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function bg(e,t){switch(Ll(t),t.tag){case 1:return Ue(t.type)&&Pi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fn(),Z(Le),Z(Ce),Wl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Vl(t),null;case 13:if(Z(ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));dn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Z(ne),null;case 4:return fn(),null;case 10:return Ml(t.type._context),null;case 22:case 23:return rc(),null;case 24:return null;default:return null}}var Ys=!1,Ee=!1,_g=typeof WeakSet=="function"?WeakSet:Set,P=null;function Yr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){oe(e,t,n)}else r.current=null}function Bo(e,t,r){try{r()}catch(n){oe(e,t,n)}}var gu=!1;function kg(e,t){if(So=Si,e=dh(),Il(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var v;h!==r||s!==0&&h.nodeType!==3||(l=a+s),h!==i||n!==0&&h.nodeType!==3||(c=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(v=h.firstChild)!==null;)p=h,h=v;for(;;){if(h===e)break t;if(p===r&&++u===s&&(l=a),p===i&&++d===n&&(c=a),(v=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=v}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(No={focusedElem:e,selectionRange:r},Si=!1,P=t;P!==null;)if(t=P,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,P=e;else for(;P!==null;){t=P;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,w=y.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:et(t.type,x),w);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(b){oe(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,P=e;break}P=t.return}return y=gu,gu=!1,y}function Hn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Bo(t,r,i)}s=s.next}while(s!==n)}}function sa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function qo(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function lf(e){var t=e.alternate;t!==null&&(e.alternate=null,lf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ut],delete t[ls],delete t[Po],delete t[ig],delete t[ag])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cf(e){return e.tag===5||e.tag===3||e.tag===4}function vu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vo(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ci));else if(n!==4&&(e=e.child,e!==null))for(Vo(e,t,r),e=e.sibling;e!==null;)Vo(e,t,r),e=e.sibling}function Wo(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Wo(e,t,r),e=e.sibling;e!==null;)Wo(e,t,r),e=e.sibling}var _e=null,tt=!1;function Rt(e,t,r){for(r=r.child;r!==null;)uf(e,t,r),r=r.sibling}function uf(e,t,r){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(Qi,r)}catch{}switch(r.tag){case 5:Ee||Yr(r,t);case 6:var n=_e,s=tt;_e=null,Rt(e,t,r),_e=n,tt=s,_e!==null&&(tt?(e=_e,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):_e.removeChild(r.stateNode));break;case 18:_e!==null&&(tt?(e=_e,r=r.stateNode,e.nodeType===8?Ua(e.parentNode,r):e.nodeType===1&&Ua(e,r),ns(e)):Ua(_e,r.stateNode));break;case 4:n=_e,s=tt,_e=r.stateNode.containerInfo,tt=!0,Rt(e,t,r),_e=n,tt=s;break;case 0:case 11:case 14:case 15:if(!Ee&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Bo(r,t,a),s=s.next}while(s!==n)}Rt(e,t,r);break;case 1:if(!Ee&&(Yr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){oe(r,t,l)}Rt(e,t,r);break;case 21:Rt(e,t,r);break;case 22:r.mode&1?(Ee=(n=Ee)||r.memoizedState!==null,Rt(e,t,r),Ee=n):Rt(e,t,r);break;default:Rt(e,t,r)}}function yu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new _g),t.forEach(function(n){var s=Og.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Xe(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:_e=l.stateNode,tt=!1;break e;case 3:_e=l.stateNode.containerInfo,tt=!0;break e;case 4:_e=l.stateNode.containerInfo,tt=!0;break e}l=l.return}if(_e===null)throw Error(E(160));uf(i,a,s),_e=null,tt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){oe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)df(t,e),t=t.sibling}function df(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xe(t,e),lt(e),n&4){try{Hn(3,e,e.return),sa(3,e)}catch(x){oe(e,e.return,x)}try{Hn(5,e,e.return)}catch(x){oe(e,e.return,x)}}break;case 1:Xe(t,e),lt(e),n&512&&r!==null&&Yr(r,r.return);break;case 5:if(Xe(t,e),lt(e),n&512&&r!==null&&Yr(r,r.return),e.flags&32){var s=e.stateNode;try{Zn(s,"")}catch(x){oe(e,e.return,x)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Od(s,i),mo(l,a);var u=mo(l,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?Ud(s,h):d==="dangerouslySetInnerHTML"?$d(s,h):d==="children"?Zn(s,h):bl(s,d,h,u)}switch(l){case"input":co(s,i);break;case"textarea":Ad(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?en(s,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?en(s,!!i.multiple,i.defaultValue,!0):en(s,!!i.multiple,i.multiple?[]:"",!1))}s[ls]=i}catch(x){oe(e,e.return,x)}}break;case 6:if(Xe(t,e),lt(e),n&4){if(e.stateNode===null)throw Error(E(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){oe(e,e.return,x)}}break;case 3:if(Xe(t,e),lt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ns(t.containerInfo)}catch(x){oe(e,e.return,x)}break;case 4:Xe(t,e),lt(e);break;case 13:Xe(t,e),lt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ec=le())),n&4&&yu(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ee=(u=Ee)||d,Xe(t,e),Ee=u):Xe(t,e),lt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(P=e,d=e.child;d!==null;){for(h=P=d;P!==null;){switch(p=P,v=p.child,p.tag){case 0:case 11:case 14:case 15:Hn(4,p,p.return);break;case 1:Yr(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(x){oe(n,r,x)}}break;case 5:Yr(p,p.return);break;case 22:if(p.memoizedState!==null){wu(h);continue}}v!==null?(v.return=p,P=v):wu(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Ld("display",a))}catch(x){oe(e,e.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){oe(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Xe(t,e),lt(e),n&4&&yu(e);break;case 21:break;default:Xe(t,e),lt(e)}}function lt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(cf(r)){var n=r;break e}r=r.return}throw Error(E(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Zn(s,""),n.flags&=-33);var i=vu(e);Wo(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=vu(e);Vo(e,l,a);break;default:throw Error(E(161))}}catch(c){oe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jg(e,t,r){P=e,hf(e)}function hf(e,t,r){for(var n=(e.mode&1)!==0;P!==null;){var s=P,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Ys;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ee;l=Ys;var u=Ee;if(Ys=a,(Ee=c)&&!u)for(P=s;P!==null;)a=P,c=a.child,a.tag===22&&a.memoizedState!==null?bu(s):c!==null?(c.return=a,P=c):bu(s);for(;i!==null;)P=i,hf(i),i=i.sibling;P=s,Ys=l,Ee=u}xu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,P=i):xu(e)}}function xu(e){for(;P!==null;){var t=P;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ee||sa(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ee)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:et(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&nu(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}nu(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ns(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}Ee||t.flags&512&&qo(t)}catch(p){oe(t,t.return,p)}}if(t===e){P=null;break}if(r=t.sibling,r!==null){r.return=t.return,P=r;break}P=t.return}}function wu(e){for(;P!==null;){var t=P;if(t===e){P=null;break}var r=t.sibling;if(r!==null){r.return=t.return,P=r;break}P=t.return}}function bu(e){for(;P!==null;){var t=P;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{sa(4,t)}catch(c){oe(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){oe(t,s,c)}}var i=t.return;try{qo(t)}catch(c){oe(t,i,c)}break;case 5:var a=t.return;try{qo(t)}catch(c){oe(t,a,c)}}}catch(c){oe(t,t.return,c)}if(t===e){P=null;break}var l=t.sibling;if(l!==null){l.return=t.return,P=l;break}P=t.return}}var Sg=Math.ceil,zi=Et.ReactCurrentDispatcher,Xl=Et.ReactCurrentOwner,Je=Et.ReactCurrentBatchConfig,W=0,xe=null,de=null,ke=0,Me=0,Xr=rr(0),me=0,ps=null,jr=0,ia=0,Zl=0,Kn=null,Ie=null,ec=0,mn=1/0,gt=null,Mi=!1,Ho=null,Gt=null,Xs=!1,Ft=null,Fi=0,Gn=0,Ko=null,vi=-1,yi=0;function Re(){return W&6?le():vi!==-1?vi:vi=le()}function Jt(e){return e.mode&1?W&2&&ke!==0?ke&-ke:lg.transition!==null?(yi===0&&(yi=Jd()),yi):(e=K,e!==0||(e=window.event,e=e===void 0?16:rh(e.type)),e):1}function it(e,t,r,n){if(50<Gn)throw Gn=0,Ko=null,Error(E(185));Ns(e,r,n),(!(W&2)||e!==xe)&&(e===xe&&(!(W&2)&&(ia|=r),me===4&&Dt(e,ke)),De(e,n),r===1&&W===0&&!(t.mode&1)&&(mn=le()+500,ta&&nr()))}function De(e,t){var r=e.callbackNode;lm(e,t);var n=ji(e,e===xe?ke:0);if(n===0)r!==null&&Tc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Tc(r),t===1)e.tag===0?og(_u.bind(null,e)):bh(_u.bind(null,e)),ng(function(){!(W&6)&&nr()}),r=null;else{switch(Qd(n)){case 1:r=Nl;break;case 4:r=Kd;break;case 16:r=ki;break;case 536870912:r=Gd;break;default:r=ki}r=wf(r,ff.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ff(e,t){if(vi=-1,yi=0,W&6)throw Error(E(327));var r=e.callbackNode;if(an()&&e.callbackNode!==r)return null;var n=ji(e,e===xe?ke:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Bi(e,n);else{t=n;var s=W;W|=2;var i=mf();(xe!==e||ke!==t)&&(gt=null,mn=le()+500,xr(e,t));do try{Cg();break}catch(l){pf(e,l)}while(!0);zl(),zi.current=i,W=s,de!==null?t=0:(xe=null,ke=0,t=me)}if(t!==0){if(t===2&&(s=wo(e),s!==0&&(n=s,t=Go(e,s))),t===1)throw r=ps,xr(e,0),Dt(e,n),De(e,le()),r;if(t===6)Dt(e,n);else{if(s=e.current.alternate,!(n&30)&&!Ng(s)&&(t=Bi(e,n),t===2&&(i=wo(e),i!==0&&(n=i,t=Go(e,i))),t===1))throw r=ps,xr(e,0),Dt(e,n),De(e,le()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(E(345));case 2:dr(e,Ie,gt);break;case 3:if(Dt(e,n),(n&130023424)===n&&(t=ec+500-le(),10<t)){if(ji(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Re(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Co(dr.bind(null,e,Ie,gt),t);break}dr(e,Ie,gt);break;case 4:if(Dt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-st(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=le()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Sg(n/1960))-n,10<n){e.timeoutHandle=Co(dr.bind(null,e,Ie,gt),n);break}dr(e,Ie,gt);break;case 5:dr(e,Ie,gt);break;default:throw Error(E(329))}}}return De(e,le()),e.callbackNode===r?ff.bind(null,e):null}function Go(e,t){var r=Kn;return e.current.memoizedState.isDehydrated&&(xr(e,t).flags|=256),e=Bi(e,t),e!==2&&(t=Ie,Ie=r,t!==null&&Jo(t)),e}function Jo(e){Ie===null?Ie=e:Ie.push.apply(Ie,e)}function Ng(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!at(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Dt(e,t){for(t&=~Zl,t&=~ia,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-st(t),n=1<<r;e[r]=-1,t&=~n}}function _u(e){if(W&6)throw Error(E(327));an();var t=ji(e,0);if(!(t&1))return De(e,le()),null;var r=Bi(e,t);if(e.tag!==0&&r===2){var n=wo(e);n!==0&&(t=n,r=Go(e,n))}if(r===1)throw r=ps,xr(e,0),Dt(e,t),De(e,le()),r;if(r===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,dr(e,Ie,gt),De(e,le()),null}function tc(e,t){var r=W;W|=1;try{return e(t)}finally{W=r,W===0&&(mn=le()+500,ta&&nr())}}function Sr(e){Ft!==null&&Ft.tag===0&&!(W&6)&&an();var t=W;W|=1;var r=Je.transition,n=K;try{if(Je.transition=null,K=1,e)return e()}finally{K=n,Je.transition=r,W=t,!(W&6)&&nr()}}function rc(){Me=Xr.current,Z(Xr)}function xr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,rg(r)),de!==null)for(r=de.return;r!==null;){var n=r;switch(Ll(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Pi();break;case 3:fn(),Z(Le),Z(Ce),Wl();break;case 5:Vl(n);break;case 4:fn();break;case 13:Z(ne);break;case 19:Z(ne);break;case 10:Ml(n.type._context);break;case 22:case 23:rc()}r=r.return}if(xe=e,de=e=Qt(e.current,null),ke=Me=t,me=0,ps=null,Zl=ia=jr=0,Ie=Kn=null,gr!==null){for(t=0;t<gr.length;t++)if(r=gr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}gr=null}return e}function pf(e,t){do{var r=de;try{if(zl(),pi.current=Di,Ui){for(var n=se.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ui=!1}if(kr=0,ye=fe=se=null,Wn=!1,ds=0,Xl.current=null,r===null||r.return===null){me=1,ps=t,de=null;break}e:{var i=e,a=r.return,l=r,c=t;if(t=ke,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=cu(a);if(v!==null){v.flags&=-257,uu(v,a,l,i,t),v.mode&1&&lu(i,u,t),t=v,c=u;var y=t.updateQueue;if(y===null){var x=new Set;x.add(c),t.updateQueue=x}else y.add(c);break e}else{if(!(t&1)){lu(i,u,t),nc();break e}c=Error(E(426))}}else if(te&&l.mode&1){var w=cu(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),uu(w,a,l,i,t),Ul(pn(c,l));break e}}i=c=pn(c,l),me!==4&&(me=2),Kn===null?Kn=[i]:Kn.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Qh(i,c,t);ru(i,g);break e;case 1:l=c;var m=i.type,f=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Gt===null||!Gt.has(f)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=Yh(i,l,t);ru(i,b);break e}}i=i.return}while(i!==null)}vf(r)}catch(S){t=S,de===r&&r!==null&&(de=r=r.return);continue}break}while(!0)}function mf(){var e=zi.current;return zi.current=Di,e===null?Di:e}function nc(){(me===0||me===3||me===2)&&(me=4),xe===null||!(jr&268435455)&&!(ia&268435455)||Dt(xe,ke)}function Bi(e,t){var r=W;W|=2;var n=mf();(xe!==e||ke!==t)&&(gt=null,xr(e,t));do try{Eg();break}catch(s){pf(e,s)}while(!0);if(zl(),W=r,zi.current=n,de!==null)throw Error(E(261));return xe=null,ke=0,me}function Eg(){for(;de!==null;)gf(de)}function Cg(){for(;de!==null&&!Zp();)gf(de)}function gf(e){var t=xf(e.alternate,e,Me);e.memoizedProps=e.pendingProps,t===null?vf(e):de=t,Xl.current=null}function vf(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=bg(r,t),r!==null){r.flags&=32767,de=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{me=6,de=null;return}}else if(r=wg(r,t,Me),r!==null){de=r;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);me===0&&(me=5)}function dr(e,t,r){var n=K,s=Je.transition;try{Je.transition=null,K=1,Pg(e,t,r,n)}finally{Je.transition=s,K=n}return null}function Pg(e,t,r,n){do an();while(Ft!==null);if(W&6)throw Error(E(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(cm(e,i),e===xe&&(de=xe=null,ke=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Xs||(Xs=!0,wf(ki,function(){return an(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Je.transition,Je.transition=null;var a=K;K=1;var l=W;W|=4,Xl.current=null,kg(e,r),df(r,e),Jm(No),Si=!!So,No=So=null,e.current=r,jg(r),em(),W=l,K=a,Je.transition=i}else e.current=r;if(Xs&&(Xs=!1,Ft=e,Fi=s),i=e.pendingLanes,i===0&&(Gt=null),nm(r.stateNode),De(e,le()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Mi)throw Mi=!1,e=Ho,Ho=null,e;return Fi&1&&e.tag!==0&&an(),i=e.pendingLanes,i&1?e===Ko?Gn++:(Gn=0,Ko=e):Gn=0,nr(),null}function an(){if(Ft!==null){var e=Qd(Fi),t=Je.transition,r=K;try{if(Je.transition=null,K=16>e?16:e,Ft===null)var n=!1;else{if(e=Ft,Ft=null,Fi=0,W&6)throw Error(E(331));var s=W;for(W|=4,P=e.current;P!==null;){var i=P,a=i.child;if(P.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(P=u;P!==null;){var d=P;switch(d.tag){case 0:case 11:case 15:Hn(8,d,i)}var h=d.child;if(h!==null)h.return=d,P=h;else for(;P!==null;){d=P;var p=d.sibling,v=d.return;if(lf(d),d===u){P=null;break}if(p!==null){p.return=v,P=p;break}P=v}}}var y=i.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}P=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,P=a;else e:for(;P!==null;){if(i=P,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Hn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,P=g;break e}P=i.return}}var m=e.current;for(P=m;P!==null;){a=P;var f=a.child;if(a.subtreeFlags&2064&&f!==null)f.return=a,P=f;else e:for(a=m;P!==null;){if(l=P,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:sa(9,l)}}catch(S){oe(l,l.return,S)}if(l===a){P=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,P=b;break e}P=l.return}}if(W=s,nr(),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(Qi,e)}catch{}n=!0}return n}finally{K=r,Je.transition=t}}return!1}function ku(e,t,r){t=pn(r,t),t=Qh(e,t,1),e=Kt(e,t,1),t=Re(),e!==null&&(Ns(e,1,t),De(e,t))}function oe(e,t,r){if(e.tag===3)ku(e,e,r);else for(;t!==null;){if(t.tag===3){ku(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Gt===null||!Gt.has(n))){e=pn(r,e),e=Yh(t,e,1),t=Kt(t,e,1),e=Re(),t!==null&&(Ns(t,1,e),De(t,e));break}}t=t.return}}function Tg(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Re(),e.pingedLanes|=e.suspendedLanes&r,xe===e&&(ke&r)===r&&(me===4||me===3&&(ke&130023424)===ke&&500>le()-ec?xr(e,0):Zl|=r),De(e,t)}function yf(e,t){t===0&&(e.mode&1?(t=Bs,Bs<<=1,!(Bs&130023424)&&(Bs=4194304)):t=1);var r=Re();e=St(e,t),e!==null&&(Ns(e,t,r),De(e,r))}function Rg(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),yf(e,r)}function Og(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(E(314))}n!==null&&n.delete(t),yf(e,r)}var xf;xf=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Le.current)$e=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return $e=!1,xg(e,t,r);$e=!!(e.flags&131072)}else $e=!1,te&&t.flags&1048576&&_h(t,Oi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;gi(e,t),e=t.pendingProps;var s=un(t,Ce.current);sn(t,r),s=Kl(null,t,n,e,s,r);var i=Gl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ue(n)?(i=!0,Ti(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Bl(t),s.updater=na,t.stateNode=s,s._reactInternals=t,$o(t,n,e,r),t=Do(null,t,n,!0,i,r)):(t.tag=0,te&&i&&$l(t),Te(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(gi(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Ig(n),e=et(n,e),s){case 0:t=Uo(null,t,n,e,r);break e;case 1:t=fu(null,t,n,e,r);break e;case 11:t=du(null,t,n,e,r);break e;case 14:t=hu(null,t,n,et(n.type,e),r);break e}throw Error(E(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:et(n,s),Uo(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:et(n,s),fu(e,t,n,s,r);case 3:e:{if(tf(t),e===null)throw Error(E(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Ch(e,t),$i(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=pn(Error(E(423)),t),t=pu(e,t,n,r,s);break e}else if(n!==s){s=pn(Error(E(424)),t),t=pu(e,t,n,r,s);break e}else for(Fe=Ht(t.stateNode.containerInfo.firstChild),Be=t,te=!0,nt=null,r=Nh(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(dn(),n===s){t=Nt(e,t,r);break e}Te(e,t,n,r)}t=t.child}return t;case 5:return Ph(t),e===null&&Oo(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Eo(n,s)?a=null:i!==null&&Eo(n,i)&&(t.flags|=32),ef(e,t),Te(e,t,a,r),t.child;case 6:return e===null&&Oo(t),null;case 13:return rf(e,t,r);case 4:return ql(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=hn(t,null,n,r):Te(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:et(n,s),du(e,t,n,s,r);case 7:return Te(e,t,t.pendingProps,r),t.child;case 8:return Te(e,t,t.pendingProps.children,r),t.child;case 12:return Te(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,Q(Ai,n._currentValue),n._currentValue=a,i!==null)if(at(i.value,a)){if(i.children===s.children&&!Le.current){t=Nt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=bt(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Ao(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(E(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Ao(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Te(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,sn(t,r),s=Qe(s),n=n(s),t.flags|=1,Te(e,t,n,r),t.child;case 14:return n=t.type,s=et(n,t.pendingProps),s=et(n.type,s),hu(e,t,n,s,r);case 15:return Xh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:et(n,s),gi(e,t),t.tag=1,Ue(n)?(e=!0,Ti(t)):e=!1,sn(t,r),Jh(t,n,s),$o(t,n,s,r),Do(null,t,n,!0,e,r);case 19:return nf(e,t,r);case 22:return Zh(e,t,r)}throw Error(E(156,t.tag))};function wf(e,t){return Hd(e,t)}function Ag(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ge(e,t,r,n){return new Ag(e,t,r,n)}function sc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ig(e){if(typeof e=="function")return sc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===kl)return 11;if(e===jl)return 14}return 2}function Qt(e,t){var r=e.alternate;return r===null?(r=Ge(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function xi(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")sc(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Br:return wr(r.children,s,i,t);case _l:a=8,s|=8;break;case so:return e=Ge(12,r,t,s|2),e.elementType=so,e.lanes=i,e;case io:return e=Ge(13,r,t,s),e.elementType=io,e.lanes=i,e;case ao:return e=Ge(19,r,t,s),e.elementType=ao,e.lanes=i,e;case Pd:return aa(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ed:a=10;break e;case Cd:a=9;break e;case kl:a=11;break e;case jl:a=14;break e;case It:a=16,n=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=Ge(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function wr(e,t,r,n){return e=Ge(7,e,n,t),e.lanes=r,e}function aa(e,t,r,n){return e=Ge(22,e,n,t),e.elementType=Pd,e.lanes=r,e.stateNode={isHidden:!1},e}function Wa(e,t,r){return e=Ge(6,e,null,t),e.lanes=r,e}function Ha(e,t,r){return t=Ge(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $g(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Na(0),this.expirationTimes=Na(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Na(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ic(e,t,r,n,s,i,a,l,c){return e=new $g(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ge(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bl(i),e}function Lg(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function bf(e){if(!e)return Zt;e=e._reactInternals;e:{if(Er(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ue(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var r=e.type;if(Ue(r))return wh(e,r,t)}return t}function _f(e,t,r,n,s,i,a,l,c){return e=ic(r,n,!0,e,s,i,a,l,c),e.context=bf(null),r=e.current,n=Re(),s=Jt(r),i=bt(n,s),i.callback=t??null,Kt(r,i,s),e.current.lanes=s,Ns(e,s,n),De(e,n),e}function oa(e,t,r,n){var s=t.current,i=Re(),a=Jt(s);return r=bf(r),t.context===null?t.context=r:t.pendingContext=r,t=bt(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Kt(s,t,a),e!==null&&(it(e,s,a,i),fi(e,s,a)),a}function qi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ju(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ac(e,t){ju(e,t),(e=e.alternate)&&ju(e,t)}function Ug(){return null}var kf=typeof reportError=="function"?reportError:function(e){console.error(e)};function oc(e){this._internalRoot=e}la.prototype.render=oc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));oa(e,t,null,null)};la.prototype.unmount=oc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sr(function(){oa(null,e,null,null)}),t[jt]=null}};function la(e){this._internalRoot=e}la.prototype.unstable_scheduleHydration=function(e){if(e){var t=Zd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ut.length&&t!==0&&t<Ut[r].priority;r++);Ut.splice(r,0,e),r===0&&th(e)}};function lc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ca(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Su(){}function Dg(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=qi(a);i.call(u)}}var a=_f(t,n,e,0,null,!1,!1,"",Su);return e._reactRootContainer=a,e[jt]=a.current,as(e.nodeType===8?e.parentNode:e),Sr(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=qi(c);l.call(u)}}var c=ic(e,0,!1,null,null,!1,!1,"",Su);return e._reactRootContainer=c,e[jt]=c.current,as(e.nodeType===8?e.parentNode:e),Sr(function(){oa(t,c,r,n)}),c}function ua(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=qi(a);l.call(c)}}oa(t,a,e,s)}else a=Dg(r,t,e,s,n);return qi(a)}Yd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Un(t.pendingLanes);r!==0&&(El(t,r|1),De(t,le()),!(W&6)&&(mn=le()+500,nr()))}break;case 13:Sr(function(){var n=St(e,1);if(n!==null){var s=Re();it(n,e,1,s)}}),ac(e,1)}};Cl=function(e){if(e.tag===13){var t=St(e,134217728);if(t!==null){var r=Re();it(t,e,134217728,r)}ac(e,134217728)}};Xd=function(e){if(e.tag===13){var t=Jt(e),r=St(e,t);if(r!==null){var n=Re();it(r,e,t,n)}ac(e,t)}};Zd=function(){return K};eh=function(e,t){var r=K;try{return K=e,t()}finally{K=r}};vo=function(e,t,r){switch(t){case"input":if(co(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=ea(n);if(!s)throw Error(E(90));Rd(n),co(n,s)}}}break;case"textarea":Ad(e,r);break;case"select":t=r.value,t!=null&&en(e,!!r.multiple,t,!1)}};Md=tc;Fd=Sr;var zg={usingClientEntryPoint:!1,Events:[Cs,Hr,ea,Dd,zd,tc]},Tn={findFiberByHostInstance:mr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mg={bundleType:Tn.bundleType,version:Tn.version,rendererPackageName:Tn.rendererPackageName,rendererConfig:Tn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Et.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Vd(e),e===null?null:e.stateNode},findFiberByHostInstance:Tn.findFiberByHostInstance||Ug,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zs.isDisabled&&Zs.supportsFiber)try{Qi=Zs.inject(Mg),ht=Zs}catch{}}Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zg;Ve.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lc(t))throw Error(E(200));return Lg(e,t,null,r)};Ve.createRoot=function(e,t){if(!lc(e))throw Error(E(299));var r=!1,n="",s=kf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ic(e,1,!1,null,null,r,!1,n,s),e[jt]=t.current,as(e.nodeType===8?e.parentNode:e),new oc(t)};Ve.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=Vd(t),e=e===null?null:e.stateNode,e};Ve.flushSync=function(e){return Sr(e)};Ve.hydrate=function(e,t,r){if(!ca(t))throw Error(E(200));return ua(null,e,t,!0,r)};Ve.hydrateRoot=function(e,t,r){if(!lc(e))throw Error(E(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=kf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=_f(t,null,e,1,r??null,s,!1,i,a),e[jt]=t.current,as(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new la(t)};Ve.render=function(e,t,r){if(!ca(t))throw Error(E(200));return ua(null,e,t,!1,r)};Ve.unmountComponentAtNode=function(e){if(!ca(e))throw Error(E(40));return e._reactRootContainer?(Sr(function(){ua(null,null,e,!1,function(){e._reactRootContainer=null,e[jt]=null})}),!0):!1};Ve.unstable_batchedUpdates=tc;Ve.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ca(r))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return ua(e,t,r,!1,n)};Ve.version="18.3.1-next-f1338f8080-20240426";function jf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jf)}catch(e){console.error(e)}}jf(),kd.exports=Ve;var Fg=kd.exports,Nu=Fg;ro.createRoot=Nu.createRoot,ro.hydrateRoot=Nu.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ms(){return ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ms.apply(this,arguments)}var Bt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Bt||(Bt={}));const Eu="popstate";function Bg(e){e===void 0&&(e={});function t(s,i){let{pathname:a="/",search:l="",hash:c=""}=Cr(s.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Qo("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let a=s.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof i=="string"?i:Vi(i))}function n(s,i){da(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return Vg(t,r,n,e)}function ce(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function da(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function qg(){return Math.random().toString(36).substr(2,8)}function Cu(e,t){return{usr:e.state,key:e.key,idx:t}}function Qo(e,t,r,n){return r===void 0&&(r=null),ms({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Cr(t):t,{state:r,key:t&&t.key||n||qg()})}function Vi(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Cr(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Vg(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,l=Bt.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(ms({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){l=Bt.Pop;let w=d(),g=w==null?null:w-u;u=w,c&&c({action:l,location:x.location,delta:g})}function p(w,g){l=Bt.Push;let m=Qo(x.location,w,g);r&&r(m,w),u=d()+1;let f=Cu(m,u),b=x.createHref(m);try{a.pushState(f,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(b)}i&&c&&c({action:l,location:x.location,delta:1})}function v(w,g){l=Bt.Replace;let m=Qo(x.location,w,g);r&&r(m,w),u=d();let f=Cu(m,u),b=x.createHref(m);a.replaceState(f,"",b),i&&c&&c({action:l,location:x.location,delta:0})}function y(w){let g=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof w=="string"?w:Vi(w);return m=m.replace(/ $/,"%20"),ce(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let x={get action(){return l},get location(){return e(s,a)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Eu,h),c=w,()=>{s.removeEventListener(Eu,h),c=null}},createHref(w){return t(s,w)},createURL:y,encodeLocation(w){let g=y(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:v,go(w){return a.go(w)}};return x}var Pu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Pu||(Pu={}));function Wg(e,t,r){return r===void 0&&(r="/"),Hg(e,t,r)}function Hg(e,t,r,n){let s=typeof t=="string"?Cr(t):t,i=cc(s.pathname||"/",r);if(i==null)return null;let a=Sf(e);Kg(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=i0(i);l=r0(a[c],u)}return l}function Sf(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(ce(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Yt([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(ce(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Sf(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:e0(u,i.index),routesMeta:d})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of Nf(i.path))s(i,a,c)}),t}function Nf(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=Nf(n.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Kg(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:t0(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Gg=/^:[\w-]+$/,Jg=3,Qg=2,Yg=1,Xg=10,Zg=-2,Tu=e=>e==="*";function e0(e,t){let r=e.split("/"),n=r.length;return r.some(Tu)&&(n+=Zg),t&&(n+=Qg),r.filter(s=>!Tu(s)).reduce((s,i)=>s+(Gg.test(i)?Jg:i===""?Yg:Xg),n)}function t0(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function r0(e,t,r){let{routesMeta:n}=e,s={},i="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=n0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:Yt([i,h.pathname]),pathnameBase:u0(Yt([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Yt([i,h.pathnameBase]))}return a}function n0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=s0(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:p,isOptional:v}=d;if(p==="*"){let x=l[h]||"";a=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const y=l[h];return v&&!y?u[p]=void 0:u[p]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function s0(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),da(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function i0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return da(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function cc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const a0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,o0=e=>a0.test(e);function l0(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Cr(e):e,i;if(r)if(o0(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),da(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?i=Ru(r.substring(1),"/"):i=Ru(r,t)}else i=t;return{pathname:i,search:d0(n),hash:h0(s)}}function Ru(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ka(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function c0(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function uc(e,t){let r=c0(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function dc(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Cr(e):(s=ms({},e),ce(!s.pathname||!s.pathname.includes("?"),Ka("?","pathname","search",s)),ce(!s.pathname||!s.pathname.includes("#"),Ka("#","pathname","hash",s)),ce(!s.search||!s.search.includes("#"),Ka("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=r;else{let h=t.length-1;if(!n&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}l=h>=0?t[h]:"/"}let c=l0(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Yt=e=>e.join("/").replace(/\/\/+/g,"/"),u0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),d0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,h0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function f0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ef=["post","put","patch","delete"];new Set(Ef);const p0=["get",...Ef];new Set(p0);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gs(){return gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gs.apply(this,arguments)}const hc=_.createContext(null),m0=_.createContext(null),sr=_.createContext(null),ha=_.createContext(null),Ct=_.createContext({outlet:null,matches:[],isDataRoute:!1}),Cf=_.createContext(null);function g0(e,t){let{relative:r}=t===void 0?{}:t;xn()||ce(!1);let{basename:n,navigator:s}=_.useContext(sr),{hash:i,pathname:a,search:l}=Rf(e,{relative:r}),c=a;return n!=="/"&&(c=a==="/"?n:Yt([n,a])),s.createHref({pathname:c,search:l,hash:i})}function xn(){return _.useContext(ha)!=null}function ir(){return xn()||ce(!1),_.useContext(ha).location}function Pf(e){_.useContext(sr).static||_.useLayoutEffect(e)}function pt(){let{isDataRoute:e}=_.useContext(Ct);return e?P0():v0()}function v0(){xn()||ce(!1);let e=_.useContext(hc),{basename:t,future:r,navigator:n}=_.useContext(sr),{matches:s}=_.useContext(Ct),{pathname:i}=ir(),a=JSON.stringify(uc(s,r.v7_relativeSplatPath)),l=_.useRef(!1);return Pf(()=>{l.current=!0}),_.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=dc(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Yt([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,a,i,e])}function Tf(){let{matches:e}=_.useContext(Ct),t=e[e.length-1];return t?t.params:{}}function Rf(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=_.useContext(sr),{matches:s}=_.useContext(Ct),{pathname:i}=ir(),a=JSON.stringify(uc(s,n.v7_relativeSplatPath));return _.useMemo(()=>dc(e,JSON.parse(a),i,r==="path"),[e,a,i,r])}function y0(e,t){return x0(e,t)}function x0(e,t,r,n){xn()||ce(!1);let{navigator:s}=_.useContext(sr),{matches:i}=_.useContext(Ct),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=ir(),d;if(t){var h;let w=typeof t=="string"?Cr(t):t;c==="/"||(h=w.pathname)!=null&&h.startsWith(c)||ce(!1),d=w}else d=u;let p=d.pathname||"/",v=p;if(c!=="/"){let w=c.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=Wg(e,{pathname:v}),x=j0(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Yt([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Yt([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r,n);return t&&x?_.createElement(ha.Provider,{value:{location:gs({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Bt.Pop}},x):x}function w0(){let e=C0(),t=f0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),r?_.createElement("pre",{style:s},r):null,null)}const b0=_.createElement(w0,null);class _0 extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?_.createElement(Ct.Provider,{value:this.props.routeContext},_.createElement(Cf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function k0(e){let{routeContext:t,match:r,children:n}=e,s=_.useContext(hc);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(Ct.Provider,{value:t},n)}function j0(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||ce(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:v}=r,y=h.route.loader&&p[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||y){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,p)=>{let v,y=!1,x=null,w=null;r&&(v=l&&h.route.id?l[h.route.id]:void 0,x=h.route.errorElement||b0,c&&(u<0&&p===0?(T0("route-fallback"),y=!0,w=null):u===p&&(y=!0,w=h.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,p+1)),m=()=>{let f;return v?f=x:y?f=w:h.route.Component?f=_.createElement(h.route.Component,null):h.route.element?f=h.route.element:f=d,_.createElement(k0,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:f})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?_.createElement(_0,{location:r.location,revalidation:r.revalidation,component:x,error:v,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var Of=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Of||{}),Af=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Af||{});function S0(e){let t=_.useContext(hc);return t||ce(!1),t}function N0(e){let t=_.useContext(m0);return t||ce(!1),t}function E0(e){let t=_.useContext(Ct);return t||ce(!1),t}function If(e){let t=E0(),r=t.matches[t.matches.length-1];return r.route.id||ce(!1),r.route.id}function C0(){var e;let t=_.useContext(Cf),r=N0(),n=If();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function P0(){let{router:e}=S0(Of.UseNavigateStable),t=If(Af.UseNavigateStable),r=_.useRef(!1);return Pf(()=>{r.current=!0}),_.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,gs({fromRouteId:t},i)))},[e,t])}const Ou={};function T0(e,t,r){Ou[e]||(Ou[e]=!0)}function R0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Au(e){let{to:t,replace:r,state:n,relative:s}=e;xn()||ce(!1);let{future:i,static:a}=_.useContext(sr),{matches:l}=_.useContext(Ct),{pathname:c}=ir(),u=pt(),d=dc(t,uc(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return _.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function Pe(e){ce(!1)}function O0(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Bt.Pop,navigator:i,static:a=!1,future:l}=e;xn()&&ce(!1);let c=t.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:c,navigator:i,static:a,future:gs({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof n=="string"&&(n=Cr(n));let{pathname:d="/",search:h="",hash:p="",state:v=null,key:y="default"}=n,x=_.useMemo(()=>{let w=cc(d,c);return w==null?null:{location:{pathname:w,search:h,hash:p,state:v,key:y},navigationType:s}},[c,d,h,p,v,y,s]);return x==null?null:_.createElement(sr.Provider,{value:u},_.createElement(ha.Provider,{children:r,value:x}))}function Iu(e){let{children:t,location:r}=e;return y0(Yo(t),r)}new Promise(()=>{});function Yo(e,t){t===void 0&&(t=[]);let r=[];return _.Children.forEach(e,(n,s)=>{if(!_.isValidElement(n))return;let i=[...t,s];if(n.type===_.Fragment){r.push.apply(r,Yo(n.props.children,i));return}n.type!==Pe&&ce(!1),!n.props.index||!n.props.children||ce(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Yo(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xo(){return Xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xo.apply(this,arguments)}function A0(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function I0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $0(e,t){return e.button===0&&(!t||t==="_self")&&!I0(e)}function Zo(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function L0(e,t){let r=Zo(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const U0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],D0="6";try{window.__reactRouterVersion=D0}catch{}const z0="startTransition",$u=Tp[z0];function M0(e){let{basename:t,children:r,future:n,window:s}=e,i=_.useRef();i.current==null&&(i.current=Bg({window:s,v5Compat:!0}));let a=i.current,[l,c]=_.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},d=_.useCallback(h=>{u&&$u?$u(()=>c(h)):c(h)},[c,u]);return _.useLayoutEffect(()=>a.listen(d),[a,d]),_.useEffect(()=>R0(n),[n]),_.createElement(O0,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:a,future:n})}const F0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",B0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,M=_.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,p=A0(t,U0),{basename:v}=_.useContext(sr),y,x=!1;if(typeof u=="string"&&B0.test(u)&&(y=u,F0))try{let f=new URL(window.location.href),b=u.startsWith("//")?new URL(f.protocol+u):new URL(u),S=cc(b.pathname,v);b.origin===f.origin&&S!=null?u=S+b.search+b.hash:x=!0}catch{}let w=g0(u,{relative:s}),g=q0(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function m(f){n&&n(f),f.defaultPrevented||g(f)}return _.createElement("a",Xo({},p,{href:y||w,onClick:x||i?n:m,ref:r,target:c}))});var Lu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Lu||(Lu={}));var Uu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Uu||(Uu={}));function q0(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:l}=t===void 0?{}:t,c=pt(),u=ir(),d=Rf(e,{relative:a});return _.useCallback(h=>{if($0(h,r)){h.preventDefault();let p=n!==void 0?n:Vi(u)===Vi(d);c(e,{replace:p,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,d,n,s,r,e,i,a,l])}function Ts(e){let t=_.useRef(Zo(e)),r=_.useRef(!1),n=ir(),s=_.useMemo(()=>L0(n.search,r.current?null:t.current),[n.search]),i=pt(),a=_.useCallback((l,c)=>{const u=Zo(typeof l=="function"?l(s):l);r.current=!0,i("?"+u,c)},[i,s]);return[s,a]}function fa(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function V0(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}const W0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class fc extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class H0 extends fc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Du extends fc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class zu extends fc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var el;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(el||(el={}));class K0{constructor(t,{headers:r={},customFetch:n,region:s=el.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=W0(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return V0(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=n;let p={},{region:v}=n;v||(v=this.region);const y=new URL(`${this.url}/${r}`);v&&v!=="any"&&(p["x-region"]=v,y.searchParams.set("forceFunctionRegion",v));let x;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",x=u):typeof u=="string"?(p["Content-Type"]="text/plain",x=u):typeof FormData<"u"&&u instanceof FormData?x=u:(p["Content-Type"]="application/json",x=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?x=JSON.stringify(u):x=u;let w=d;h&&(a=new AbortController,i=setTimeout(()=>a.abort(),h),d?(w=a.signal,d.addEventListener("abort",()=>a.abort())):w=a.signal);const g=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),l),body:x,signal:w}).catch(S=>{throw new H0(S)}),m=g.headers.get("x-relay-error");if(m&&m==="true")throw new Du(g);if(!g.ok)throw new zu(g);let f=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return f==="application/json"?b=yield g.json():f==="application/octet-stream"||f==="application/pdf"?b=yield g.blob():f==="text/event-stream"?b=g:f==="multipart/form-data"?b=yield g.formData():b=yield g.text(),{data:b,error:null,response:g}}catch(l){return{data:null,error:l,response:l instanceof zu||l instanceof Du?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var G0=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},J0=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var h,p;if(r.method!=="HEAD"){var v;const g=await i.text();g===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((v=r.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?l=g:l=JSON.parse(g))}const x=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),w=(p=i.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");x&&w&&w.length>1&&(c=parseInt(w[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(a={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var y;const x=await i.text();try{a=JSON.parse(x),Array.isArray(a)&&i.status===404&&(l=[],a=null,u=200,d="OK")}catch{i.status===404&&x===""?(u=204,d="No Content"):a={message:x}}if(a&&r.isMaybeSingle&&(!(a==null||(y=a.details)===null||y===void 0)&&y.includes("0 rows"))&&(a=null,u=200,d="OK"),a&&r.shouldThrowOnError)throw new G0(a)}return{error:a,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,h,p;const y=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",x=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(p=c==null?void 0:c.name)!==null&&p!==void 0?p:"Error"}: ${y}`,x&&(l+=` (${x})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var v;l=(v=i==null?void 0:i.stack)!==null&&v!==void 0?v:""}return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},Q0=class extends J0{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var a;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Mu=new RegExp("[,()]");var Dr=class extends Q0{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Mu.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Mu.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},Y0=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",a),n&&c.append("Prefer",`count=${n}`),new Dr({method:s,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),r||a.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new Dr({method:s,url:i,headers:a,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const a="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);l.searchParams.set("columns",d.join(","))}}return new Dr({method:a,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Dr({method:n,url:s,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Dr({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},X0=class $f{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Y0(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new $f(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=v=>v!==null&&typeof v=="object"&&(!Array.isArray(v)||v.some(d)),h=n&&Object.values(r).some(d);h?(l="POST",u=r):n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([v,y])=>y!==void 0).map(([v,y])=>[v,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([v,y])=>{c.searchParams.append(v,y)})):(l="POST",u=r);const p=new Headers(this.headers);return h?p.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&p.set("Prefer",`count=${i}`),new Dr({method:l,url:c,headers:p,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class Z0{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const ev="2.93.2",tv=`realtime-js/${ev}`,rv="1.0.0",Lf="2.0.0",Fu=Lf,tl=1e4,nv=1e3,sv=100;var Lt;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Lt||(Lt={}));var he;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(he||(he={}));var rt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(rt||(rt={}));var rl;(function(e){e.websocket="websocket"})(rl||(rl={}));var fr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(fr||(fr={}));class iv{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,r,n){var s,i;const a=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+a.length+u.length+h.length,v=new ArrayBuffer(this.HEADER_LENGTH+p);let y=new DataView(v),x=0;y.setUint8(x++,this.KINDS.userBroadcastPush),y.setUint8(x++,c.length),y.setUint8(x++,l.length),y.setUint8(x++,a.length),y.setUint8(x++,u.length),y.setUint8(x++,h.length),y.setUint8(x++,r),Array.from(c,g=>y.setUint8(x++,g.charCodeAt(0))),Array.from(l,g=>y.setUint8(x++,g.charCodeAt(0))),Array.from(a,g=>y.setUint8(x++,g.charCodeAt(0))),Array.from(u,g=>y.setUint8(x++,g.charCodeAt(0))),Array.from(h,g=>y.setUint8(x++,g.charCodeAt(0)));var w=new Uint8Array(v.byteLength+n.byteLength);return w.set(new Uint8Array(v),0),w.set(new Uint8Array(n),v.byteLength),w.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,a,l,c]=n;return r({join_ref:s,ref:i,topic:a,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+i));c=c+i;const h=n.decode(t.slice(c,c+a));c=c+a;const p=t.slice(c,t.byteLength),v=l===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,y={type:this.BROADCAST_EVENT,event:d,payload:v};return a>0&&(y.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class Uf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var J;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(J||(J={}));const Bu=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=av(a,e,t,s),i),{}):{}},av=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?Df(i,a):nl(a)},Df=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return uv(t,r)}switch(e){case J.bool:return ov(t);case J.float4:case J.float8:case J.int2:case J.int4:case J.int8:case J.numeric:case J.oid:return lv(t);case J.json:case J.jsonb:return cv(t);case J.timestamp:return dv(t);case J.abstime:case J.date:case J.daterange:case J.int4range:case J.int8range:case J.money:case J.reltime:case J.text:case J.time:case J.timestamptz:case J.timetz:case J.tsrange:case J.tstzrange:return nl(t);default:return nl(t)}},nl=e=>e,ov=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},lv=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},cv=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},uv=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>Df(t,l))}return e},dv=e=>typeof e=="string"?e.replace(" ","T"):e,zf=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ga{constructor(t,r,n={},s=tl){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var qu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(qu||(qu={}));class Jn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Jn.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=Jn.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Jn.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const p=d.map(w=>w.presence_ref),v=h.map(w=>w.presence_ref),y=d.filter(w=>v.indexOf(w.presence_ref)<0),x=h.filter(w=>p.indexOf(w.presence_ref)<0);y.length>0&&(l[u]=y),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(v=>v.presence_ref),p=d.filter(v=>h.indexOf(v.presence_ref)<0);t[l].unshift(...p)}n(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Vu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Vu||(Vu={}));var Qn;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Qn||(Qn={}));var vt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(vt||(vt={}));class Zr{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=he.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ga(this,rt.join,this.params,this.timeout),this.rejoinTimer=new Uf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=he.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=he.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rt.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new Jn(this),this.broadcastEndpointURL=zf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==he.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Qn.PRESENCE]&&this.bindings[Qn.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},p={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t(vt.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(vt.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){t==null||t(vt.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,w=(y=x==null?void 0:x.length)!==null&&y!==void 0?y:0,g=[];for(let m=0;m<w;m++){const f=x[m],{filter:{event:b,schema:S,table:N,filter:j}}=f,k=v&&v[m];if(k&&k.event===b&&Zr.isFilterValueEqual(k.schema,S)&&Zr.isFilterValueEqual(k.table,N)&&Zr.isFilterValueEqual(k.filter,j))g.push(Object.assign(Object.assign({},f),{id:k.id}));else{this.unsubscribe(),this.state=he.errored,t==null||t(vt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(vt.SUBSCRIBED);return}}).receive("error",v=>{this.state=he.errored,t==null||t(vt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(vt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===he.joined&&t===Qn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=he.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ga(this,rt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=he.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ga(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>sv){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=rt;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let p=this._onMessage(a,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,x,w;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((w=(x=v.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(v=>v.callback(p,n)):(i=this.bindings[a])===null||i===void 0||i.filter(v=>{var y,x,w,g,m,f;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const b=v.id,S=(y=v.filter)===null||y===void 0?void 0:y.event;return b&&((x=r.ids)===null||x===void 0?void 0:x.includes(b))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const b=(m=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return b==="*"||b===((f=r==null?void 0:r.event)===null||f===void 0?void 0:f.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:x,table:w,commit_timestamp:g,type:m,errors:f}=y;p=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:g,eventType:m,new:{},old:{},errors:f}),this._getPayloadRecords(y))}v.callback(p,n)})}_isClosed(){return this.state===he.closed}_isJoined(){return this.state===he.joined}_isJoining(){return this.state===he.joining}_isLeaving(){return this.state===he.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Zr.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(rt.close,{},t)}_onError(t){this._on(rt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=he.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Bu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Bu(t.columns,t.old_record)),r}}const Ja=()=>{},ei={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},hv=[1e3,2e3,5e3,1e4],fv=1e4,pv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class mv{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=tl,this.transport=null,this.heartbeatIntervalMs=ei.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ja,this.ref=0,this.reconnectTimer=null,this.vsn=Fu,this.logger=Ja,this.conn=null,this.sendBuffer=[],this.serializer=new iv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${rl.websocket}`,this.httpEndpoint=zf(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Z0.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Lt.connecting:return fr.Connecting;case Lt.open:return fr.Open;case Lt.closing:return fr.Closing;default:return fr.Closed}}isConnected(){return this.connectionState()===fr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Zr(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(nv,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ei.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:a}=r,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Lt.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Lt.open||this.conn.readyState===Lt.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(rt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([pv],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:tv};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(rt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Uf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ei.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,l,c,u,d,h,p,v;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:tl,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:ei.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Ja,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:Fu,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:y=>hv[y-1]||fv,this.vsn){case rv:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(y,x)=>x(JSON.stringify(y)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(y,x)=>x(JSON.parse(y));break;case Lf:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(v=t==null?void 0:t.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var vs=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function gv(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function vv(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function yv(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:a}){const l=gv(e.baseUrl,n,s),c=await vv(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...a},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),p=h&&d?JSON.parse(d):d;if(!u.ok){const v=h?p:void 0,y=v==null?void 0:v.error;throw new vs((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:v})}return{status:u.status,headers:u.headers,data:p}}}}function ti(e){return e.join("")}var xv=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:ti(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ti(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ti(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ti(e.namespace)}`}),!0}catch(t){if(t instanceof vs&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof vs&&r.status===409)return;throw r}}};function Or(e){return e.join("")}var wv=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Or(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Or(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Or(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Or(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Or(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Or(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof vs&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof vs&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},bv=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=yv({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new xv(this.client,t),this.tableOps=new wv(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},pa=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function ma(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var ri=class extends pa{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Mf=class extends pa{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const _v=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),kv=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},sl=e=>{if(Array.isArray(e))return e.map(r=>sl(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=sl(n)}),t},jv=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function ys(e){"@babel/helpers - typeof";return ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ys(e)}function Sv(e,t){if(ys(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nv(e){var t=Sv(e,"string");return ys(t)=="symbol"?t:t+""}function Ev(e,t,r){return(t=Nv(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wu(Object(r),!0).forEach(function(n){Ev(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Hu=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Cv=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e,i=s.status||500;if(typeof s.json=="function")s.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";t(new ri(Hu(a),i,l,n))}).catch(()=>{if(n==="vectors"){const a=i+"";t(new ri(s.statusText||`HTTP ${i} error`,i,a,n))}else{const a=i+"";t(new ri(s.statusText||`HTTP ${i} error`,i,a,n))}});else{const a=i+"";t(new ri(s.statusText||`HTTP ${i} error`,i,a,n))}}else t(new Mf(Hu(e),e,n))},Pv=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?$($({},s),r):(kv(n)?(s.headers=$({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),$($({},s),r))};async function Rn(e,t,r,n,s,i,a){return new Promise((l,c)=>{e(r,Pv(t,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(a==="vectors"){const d=u.headers.get("content-type");if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>Cv(u,c,n,a))})}function Tv(e="storage"){return{get:async(t,r,n,s)=>Rn(t,"GET",r,n,s,void 0,e),post:async(t,r,n,s,i)=>Rn(t,"POST",r,s,i,n,e),put:async(t,r,n,s,i)=>Rn(t,"PUT",r,s,i,n,e),head:async(t,r,n,s)=>Rn(t,"HEAD",r,$($({},n),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,r,n,s,i)=>Rn(t,"DELETE",r,s,i,n,e)}}const Rv=Tv("storage"),{get:xs,post:ee,put:il,head:Ov,remove:pc}=Rv;var wn=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=_v(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ma(r))return{data:null,error:r};throw r}}},Av=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ma(t))return{data:null,error:t};throw t}}};let Ff;Ff=Symbol.toStringTag;var Iv=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Ff]="BlobDownloadBuilder",this.promise=null}asStream(){return new Av(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ma(t))return{data:null,error:t};throw t}}};const $v={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ku={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Lv=class extends wn{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var s=this;return s.handleOperation(async()=>{let i;const a=$($({},Ku),n);let l=$($({},s.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(l=$($({},l),n.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),h=await(e=="PUT"?il:ee)(s.fetch,`${s.url}/object/${d}`,i,$({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:u,id:h.Id,fullPath:h.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),a=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${a}`);return l.searchParams.set("token",t),s.handleOperation(async()=>{let c;const u=$({upsert:Ku.upsert},n),d=$($({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:i,fullPath:(await il(s.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const s=$({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await ee(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(r.url+i.url),l=a.searchParams.get("token");if(!l)throw new pa("No token returned by API");return{signedUrl:a.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await ee(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await ee(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(e),i=await ee(n.fetch,`${n.url}/object/sign/${s}`,$({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${a}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const s=await ee(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(a=>$($({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${i}`):null}))})}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(e),a=()=>xs(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new Iv(a,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>sl(await xs(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await Ov(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ma(n)&&n instanceof Mf){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&n.push(a);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await pc(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const s=$($($({},$v),t),{},{prefix:e||""});return await ee(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=$({},e);return await ee(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Uv="2.93.2",Rs={"X-Client-Info":`storage-js/${Uv}`};var Dv=class extends wn{constructor(e,t={},r,n){const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),a=$($({},Rs),t);super(i,a,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await xs(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await xs(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await ee(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await il(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await ee(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await pc(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},zv=class extends wn{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=$($({},Rs),t);super(n,s,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ee(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await xs(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await pc(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!jv(e))throw new pa("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new bv({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...l)=>{try{return{data:await a.apply(s,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},Mv=class extends wn{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=$($({},Rs),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await ee(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await ee(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await ee(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await ee(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},Fv=class extends wn{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=$($({},Rs),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ee(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await ee(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await ee(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await ee(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ee(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},Bv=class extends wn{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=$($({},Rs),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ee(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ee(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await ee(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ee(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},qv=class extends Bv{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Vv(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},Vv=class extends Mv{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new Wv(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Wv=class extends Fv{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Hv=class extends Dv{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new Lv(this.url,this.headers,e,this.fetch)}get vectors(){return new qv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new zv(this.url+"/iceberg",this.headers,this.fetch)}};const Bf="2.93.2",zr=30*1e3,al=3,Qa=al*zr,Kv="http://localhost:9999",Gv="supabase.auth.token",Jv={"X-Client-Info":`gotrue-js/${Bf}`},ol="X-Supabase-Api-Version",qf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Qv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Yv=10*60*1e3;class ws extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function O(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Xv extends ws{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Zv(e){return O(e)&&e.name==="AuthApiError"}class pr extends ws{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Pt extends ws{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class ze extends Pt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ya(e){return O(e)&&e.name==="AuthSessionMissingError"}class Ar extends Pt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ni extends Pt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class si extends Pt{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ey(e){return O(e)&&e.name==="AuthImplicitGrantRedirectError"}class Gu extends Pt{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ty extends Pt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ll extends Pt{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Xa(e){return O(e)&&e.name==="AuthRetryableFetchError"}class Ju extends Pt{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class cl extends Pt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Qu=` 	
\r=`.split(""),ry=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Qu.length;t+=1)e[Qu[t].charCodeAt(0)]=-2;for(let t=0;t<Wi.length;t+=1)e[Wi[t].charCodeAt(0)]=t;return e})();function Yu(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Wi[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Wi[n]),t.queuedBits-=6}}function Vf(e,t,r){const n=ry[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Xu(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{iy(a,n,r)};for(let a=0;a<e.length;a+=1)Vf(e.charCodeAt(a),s,i);return t.join("")}function ny(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function sy(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}ny(n,t)}}function iy(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function on(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Vf(e.charCodeAt(s),r,n);return new Uint8Array(t)}function ay(e){const t=[];return sy(e,r=>t.push(r)),new Uint8Array(t)}function yr(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Yu(s,r,n)),Yu(null,r,n),t.join("")}function oy(e){return Math.round(Date.now()/1e3)+e}function ly(){return Symbol("auth-callback")}const be=()=>typeof window<"u"&&typeof document<"u",lr={tested:!1,writable:!1},Wf=()=>{if(!be())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(lr.tested)return lr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),lr.tested=!0,lr.writable=!0}catch{lr.tested=!0,lr.writable=!1}return lr.writable};function cy(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Hf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),uy=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Mr=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},cr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},we=async(e,t)=>{await e.removeItem(t)};class ga{constructor(){this.promise=new ga.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ga.promiseConstructor=Promise;function ii(e){const t=e.split(".");if(t.length!==3)throw new cl("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Qv.test(t[n]))throw new cl("JWT not in base64url format");return{header:JSON.parse(Xu(t[0])),payload:JSON.parse(Xu(t[1])),signature:on(t[2]),raw:{header:t[0],payload:t[1]}}}async function dy(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function hy(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function fy(e){return("0"+e.toString(16)).substr(-2)}function py(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,fy).join("")}async function my(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function gy(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await my(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ir(e,t,r=!1){const n=py();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Mr(e,`${t}-code-verifier`,s);const i=await gy(n);return[i,n===i?"plain":"s256"]}const vy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function yy(e){const t=e.headers.get(ol);if(!t||!t.match(vy))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function xy(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function wy(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const by=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $r(e){if(!by.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Za(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function _y(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function Zu(e){return JSON.parse(JSON.stringify(e))}const hr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ky=[502,503,504];async function ed(e){var t;if(!uy(e))throw new ll(hr(e),0);if(ky.includes(e.status))throw new ll(hr(e),e.status);let r;try{r=await e.json()}catch(i){throw new pr(hr(i),i)}let n;const s=yy(e);if(s&&s.getTime()>=qf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ju(hr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ze}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Ju(hr(r),e.status,r.weak_password.reasons);throw new Xv(hr(r),e.status||500,n)}const jy=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function I(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[ol]||(i[ol]=qf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await Sy(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Sy(e,t,r,n,s,i){const a=jy(t,n,s,i);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new ll(hr(c),0)}if(l.ok||await ed(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await ed(c)}}function Ze(e){var t;let r=null;Cy(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=oy(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function td(e){const t=Ze(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function zt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Ny(e){return{data:e,error:null}}function Ey(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=fa(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function rd(e){return e}function Cy(e){return e.access_token&&e.refresh_token&&e.expires_in}const eo=["global","local","others"];class Py{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Hf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=eo[0]){if(eo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${eo.join(", ")}`);try{return await I(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(O(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await I(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:zt})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=fa(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await I(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Ey,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(O(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await I(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:zt})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await I(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:rd});if(d.error)throw d.error;const h=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);u[`${w}Page`]=x}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(O(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){$r(t);try{return await I(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:zt})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){$r(t);try{return await I(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:zt})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){$r(t);try{return await I(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:zt})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){$r(t.userId);try{const{data:r,error:n}=await I(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(O(r))return{data:null,error:r};throw r}}async _deleteFactor(t){$r(t.userId),$r(t.id);try{return{data:await I(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(O(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await I(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:rd});if(d.error)throw d.error;const h=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);u[`${w}Page`]=x}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(O(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await I(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(O(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await I(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(O(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await I(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(O(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await I(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(O(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await I(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(O(r))return{data:null,error:r};throw r}}}function nd(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Lr={debug:!!(globalThis&&Wf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Kf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Ty extends Kf{}async function Ry(e,t,r){Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Ty(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Lr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Oy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Gf(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Ay(e){return parseInt(e,16)}function Iy(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function $y(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=Gf(e.address),y=d?`${d}://${n}`:n,x=e.statement?`${e.statement}
`:"",w=`${y} wants you to sign in with your Ethereum account:
${v}

${x}`;let g=`URI: ${h}
Version: ${p}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),l&&(g+=`
Not Before: ${l.toISOString()}`),c&&(g+=`
Request ID: ${c}`),u){let m=`
Resources:`;for(const f of u){if(!f||typeof f!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${f}`);m+=`
- ${f}`}g+=m}return`${w}
${g}`}class ue extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Hi extends ue{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Ly({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ue({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ue({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ue({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ue({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ue({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ue({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new ue({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ue({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(Jf(a)){if(i.rp.id!==a)return new ue({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ue({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ue({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ue({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ue({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Uy({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ue({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ue({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Jf(n)){if(r.rpId!==n)return new ue({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ue({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ue({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ue({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Dy{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const zy=new Dy;function My(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=fa(e,["challenge","user","excludeCredentials"]),i=on(t).buffer,a=Object.assign(Object.assign({},r),{id:on(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:on(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function Fy(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=fa(e,["challenge","allowCredentials"]),s=on(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const l=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:on(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function By(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:yr(new Uint8Array(e.response.attestationObject)),clientDataJSON:yr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function qy(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:yr(new Uint8Array(s.authenticatorData)),clientDataJSON:yr(new Uint8Array(s.clientDataJSON)),signature:yr(new Uint8Array(s.signature)),userHandle:s.userHandle?yr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Jf(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function sd(){var e,t;return!!(be()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Vy(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Hi("Browser returned unexpected credential type",t)}:{data:null,error:new Hi("Empty credential response",t)}}catch(t){return{data:null,error:Ly({error:t,options:e})}}}async function Wy(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Hi("Browser returned unexpected credential type",t)}:{data:null,error:new Hi("Empty credential response",t)}}catch(t){return{data:null,error:Uy({error:t,options:e})}}}const Hy={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Ky={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ki(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(t(a)){const l=n[i];t(l)?n[i]=Ki(l,a):n[i]=Ki(a)}else n[i]=a}return n}function Gy(e,t){return Ki(Hy,e,t||{})}function Jy(e,t){return Ki(Ky,e,t||{})}class Qy{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:l};const c=s??zy.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=Gy(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await Vy({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=Jy(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await Wy(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return O(a)?{data:null,error:a}:{data:null,error:new pr("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new ws("rpId is required for WebAuthn authentication")};try{if(!sd())return{data:null,error:new pr("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:l};const{webauthn:c}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(a){return O(a)?{data:null,error:a}:{data:null,error:new pr("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new ws("rpId is required for WebAuthn registration")};try{if(!sd())return{data:null,error:new pr("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return O(a)?{data:null,error:a}:{data:null,error:new pr("Unexpected error in register",a)}}}}Oy();const Yy={url:Kv,storageKey:Gv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Jv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function id(e,t,r){return await r()}const Ur={};class bs{get jwks(){var t,r;return(r=(t=Ur[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ur[this.storageKey]=Object.assign(Object.assign({},Ur[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ur[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ur[this.storageKey]=Object.assign(Object.assign({},Ur[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Yy),t);if(this.storageKey=i.storageKey,this.instanceID=(r=bs.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,bs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&be()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Py({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Hf(i.fetch),this.lock=i.lock||id,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&be()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Ry:this.lock=id,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Qy(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Wf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=nd(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=nd(this.memoryStorage)),be()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Bf}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(be()&&(r=cy(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),be()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),ey(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return O(r)?this._returnResult({error:r}):this._returnResult({error:new pr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ze}),{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(O(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:p}=t;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await Ir(this.storage,this.storageKey)),i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:v,code_challenge_method:y},xform:Ze})}else if("phone"in t){const{phone:d,password:h,options:p}=t;i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Ze})}else throw new ni("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return await we(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await we(this.storage,`${this.storageKey}-code-verifier`),O(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:l}=t;r=await I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:td})}else if("phone"in t){const{phone:i,password:a,options:l}=t;r=await I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:td})}else throw new ni("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Ar;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(O(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,a,l,c,u,d,h,p;let v,y;if("message"in t)v=t.message,y=t.signature;else{const{chain:x,wallet:w,statement:g,options:m}=t;let f;if(be())if(typeof w=="object")f=w;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")f=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");f=w}const b=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),S=await f.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=Gf(S[0]);let j=(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const T=await f.request({method:"eth_chainId"});j=Ay(T)}const k={domain:b.host,address:N,statement:g,uri:b.href,version:"1",chainId:j,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=m==null?void 0:m.signInWithEthereum)===null||d===void 0?void 0:d.resources};v=$y(k),y=await f.request({method:"personal_sign",params:[Iy(v),N]})}try{const{data:x,error:w}=await I(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:y},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ze});if(w)throw w;if(!x||!x.session||!x.user){const g=new Ar;return this._returnResult({data:{user:null,session:null},error:g})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:w})}catch(x){if(O(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(t){var r,n,s,i,a,l,c,u,d,h,p,v;let y,x;if("message"in t)y=t.message,x=t.signature;else{const{chain:w,wallet:g,statement:m,options:f}=t;let b;if(be())if(typeof g=="object")b=g;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))b=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=g}const S=new URL((r=f==null?void 0:f.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const N=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},f==null?void 0:f.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),m?{statement:m}:null));let j;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")j=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)j=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)y=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),x=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${S.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=f==null?void 0:f.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=f==null?void 0:f.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${f.signInWithSolana.notBefore}`]:[],...!((a=f==null?void 0:f.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${f.signInWithSolana.expirationTime}`]:[],...!((l=f==null?void 0:f.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${f.signInWithSolana.chainId}`]:[],...!((c=f==null?void 0:f.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${f.signInWithSolana.nonce}`]:[],...!((u=f==null?void 0:f.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${f.signInWithSolana.requestId}`]:[],...!((h=(d=f==null?void 0:f.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...f.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const N=await b.signMessage(new TextEncoder().encode(y),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=N}}try{const{data:w,error:g}=await I(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:yr(x)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Ze});if(g)throw g;if(!w||!w.session||!w.user){const m=new Ar;return this._returnResult({data:{user:null,session:null},error:m})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:g})}catch(w){if(O(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const r=await cr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new ty;const{data:i,error:a}=await I(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ze});if(await we(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const l=new Ar;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await we(this.storage,`${this.storageKey}-code-verifier`),O(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,l=await I(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ze}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Ar;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(O(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ir(this.storage,this.storageKey));const{error:h}=await I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new ni("You must provide either an email or phone number.")}catch(l){if(await we(this.storage,`${this.storageKey}-code-verifier`),O(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await I(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ze});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(O(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Ir(this.storage,this.storageKey));const u=await I(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:Ny});return!((i=u.data)===null||i===void 0)&&i.url&&be()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await we(this.storage,`${this.storageKey}-code-verifier`),O(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ze;const{error:s}=await I(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(O(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await I(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:l}=await I(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new ni("You must provide either an email or phone number and a type")}catch(r){if(O(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await cr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Qa:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await cr(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Za()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=_y(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:zt}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ze}:await I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:zt})})}catch(r){if(O(r))return Ya(r)&&(await this._removeSession(),await we(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new ze;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ir(this.storage,this.storageKey));const{data:u,error:d}=await I(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:zt});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await we(this.storage,`${this.storageKey}-code-verifier`),O(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ze;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=ii(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(O(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ze;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(O(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!be())throw new si("No browser detected.");if(t.error||t.error_description||t.error_code)throw new si(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Gu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new si("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Gu("No code detected.");const{data:m,error:f}=await this._exchangeCodeForSession(t.code);if(f)throw f;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!a||!u)throw new si("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let p=d+h;c&&(p=parseInt(c));const v=p-d;v*1e3<=zr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const y=p-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,d);const{data:x,error:w}=await this._getUser(i);if(w)throw w;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:a,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if(O(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await cr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i&&!Ya(i))return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(Zv(l)&&(l.status===404||l.status===401||l.status===403)||Ya(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await we(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=ly(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ir(this.storage,this.storageKey,!0));try{return await I(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await we(this.storage,`${this.storageKey}-code-verifier`),O(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,c,u,d;const{data:h,error:p}=i;if(p)throw p;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await I(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return be()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(O(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:l,token:c,access_token:u,nonce:d}=t,h=await I(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ze}),{data:p,error:v}=h;return v?this._returnResult({data:{user:null,session:null},error:v}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new Ar}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:v}))}catch(s){if(await we(this.storage,`${this.storageKey}-code-verifier`),O(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await I(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await hy(async s=>(s>0&&await dy(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await I(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ze})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Xa(i)&&Date.now()+a-n<zr})}catch(n){if(this._debug(r,"error",n),O(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),be()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await cr(this.storage,this.storageKey);if(s&&this.userStorage){let a=await cr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Mr(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Za()}else if(s&&!s.user&&!s.user){const a=await cr(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await we(this.storage,this.storageKey+"-user"),await Mr(this.storage,this.storageKey,s)):s.user=Za()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Qa;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Qa}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Xa(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ze;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ga;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new ze;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),O(i)){const a={data:null,error:i};return Xa(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await we(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Mr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Zu(s);await Mr(this.storage,this.storageKey,i)}else{const s=Zu(r);await Mr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await we(this.storage,this.storageKey),await we(this.storage,this.storageKey+"-code-verifier"),await we(this.storage,this.storageKey+"-user"),this.userStorage&&await we(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&be()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),zr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/zr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${zr}ms, refresh threshold is ${al} ticks`),s<=al&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Kf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!be()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Ir(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await I(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await I(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?By(t.webauthn.credential_response):qy(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await I(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await I(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:My(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Fy(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,s,i;if(t)try{const{payload:v}=ii(t);let y=null;v.aal&&(y=v.aal);let x=y;const{data:{user:w},error:g}=await this.getUser(t);if(g)return this._returnResult({data:null,error:g});((n=(r=w==null?void 0:w.factors)===null||r===void 0?void 0:r.filter(b=>b.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(x="aal2");const f=v.amr||[];return{data:{currentLevel:y,nextLevel:x,currentAuthenticationMethods:f},error:null}}catch(v){if(O(v))return this._returnResult({data:null,error:v});throw v}const{data:{session:a},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=ii(a.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((i=(s=a.user.factors)===null||s===void 0?void 0:s.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const p=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await I(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ze})})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ze});const a=await I(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&be()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ze});const a=await I(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&be()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await I(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ze})})}catch(t){if(O(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await I(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ze})})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+Yv>s)return n;const{data:i,error:a}=await I(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:v,error:y}=await this.getSession();if(y||!v.session)return this._returnResult({data:null,error:y});n=v.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=ii(n);r!=null&&r.allowExpired||xy(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:a},error:null}}const d=wy(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,ay(`${l}.${c}`)))throw new cl("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(O(n))return this._returnResult({data:null,error:n});throw n}}}bs.nextInstanceID={};const Xy=bs,Zy="2.93.2";let zn="";typeof Deno<"u"?zn="deno":typeof document<"u"?zn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zn="react-native":zn="node";const ex={"X-Client-Info":`supabase-js-${zn}/${Zy}`},tx={headers:ex},rx={schema:"public"},nx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},sx={};function _s(e){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_s(e)}function ix(e,t){if(_s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ax(e){var t=ix(e,"string");return _s(t)=="symbol"?t:t+""}function ox(e,t,r){return(t=ax(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ad(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ad(Object(r),!0).forEach(function(n){ox(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ad(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const lx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),cx=()=>Headers,ux=(e,t,r)=>{const n=lx(r),s=cx();return async(i,a)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,ae(ae({},a),{},{headers:u}))}};function dx(e){return e.endsWith("/")?e:e+"/"}function hx(e,t){var r,n;const{db:s,auth:i,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,p={db:ae(ae({},c),s),auth:ae(ae({},u),i),realtime:ae(ae({},d),a),storage:{},global:ae(ae(ae({},h),l),{},{headers:ae(ae({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function fx(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(dx(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var px=class extends Xy{constructor(e){super(e)}},mx=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=fx(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:rx,realtime:sx,auth:ae(ae({},nx),{},{storageKey:a}),global:tx},c=hx(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=ux(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(ae({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new X0(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new Hv(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new K0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:a,lock:l,debug:c,throwOnError:u},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new px({url:this.authUrl.href,headers:ae(ae({},p),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:a,lock:l,debug:c,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new mv(this.realtimeUrl.href,ae(ae({},e),{},{params:ae(ae({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const gx=(e,t,r)=>new mx(e,t,r);function vx(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}vx()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const yx="https://krbbibcoxvmcwgsugvvx.supabase.co",xx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtyYmJpYmNveHZtY3dnc3VndnZ4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk2MjM4MjcsImV4cCI6MjA4NTE5OTgyN30.XQF6_kbaHEUlLIJShmjWVsuqVzDL25EiMQAV_Xz1bDo",z=gx(yx,xx,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),Qf=_.createContext(void 0),wx=({children:e})=>{const[t,r]=_.useState(null),[n,s]=_.useState(null),[i,a]=_.useState(!0),l=_.useRef(null);_.useEffect(()=>{const{data:{subscription:d}}=z.auth.onAuthStateChange(async(h,p)=>{var v;if(console.log(`[AuthContext] Event: ${h}`,(v=p==null?void 0:p.user)==null?void 0:v.id),p!=null&&p.user)if(r(p.user),!n||n.id!==p.user.id){if(l.current===p.user.id){console.log(`[AuthContext] Already fetching profile for ${p.user.id}, skipping redundant call`);return}h==="SIGNED_IN"&&(console.log("[AuthContext] SIGNED_IN detected, waiting 1s for trigger..."),await new Promise(y=>setTimeout(y,1e3))),await c(p.user.id)}else a(!1);else r(null),s(null),a(!1),l.current=null;h==="SIGNED_OUT"&&(r(null),s(null),a(!1),l.current=null)});return()=>{d.unsubscribe()}},[]);const c=async d=>{var h;if(l.current===d){console.log("[AuthContext] Already fetching profile, skipping");return}try{l.current=d,a(!0),console.log("[AuthContext] fetchProfile START for:",d);const p=new Promise((w,g)=>setTimeout(()=>g(new Error("Profile fetch timeout")),1e4)),v=z.from("profiles").select("*").eq("id",d).maybeSingle(),{data:y,error:x}=await Promise.race([v,p]);if(x){if(console.error("[AuthContext] fetchProfile DB ERROR:",x),x.code==="PGRST303"||(h=x.message)!=null&&h.includes("JWT expired")){console.error("[AuthContext] JWT expired, signing out..."),await u();return}console.error("[AuthContext] Continuing despite error:",x.message)}if(y)console.log("[AuthContext] Profile loaded successfully, role:",y.role),s(y);else{console.log("[AuthContext] Profile missing in DB, attempting safety net creation...");try{const{data:{user:w}}=await z.auth.getUser();if(w){const{data:g,error:m}=await z.from("profiles").upsert({id:w.id,full_name:w.user_metadata.full_name||"",role:w.user_metadata.role||"buyer"}).select().maybeSingle();!m&&g?(console.log("[AuthContext] Profile created/synced via safety net"),s(g)):(console.error("[AuthContext] Safety net failed:",m),s({id:w.id,full_name:w.user_metadata.full_name||"",role:w.user_metadata.role||"buyer",phone:null,created_at:new Date().toISOString()}))}}catch(w){console.error("[AuthContext] Safety net exception:",w);const{data:{user:g}}=await z.auth.getUser();g&&s({id:g.id,full_name:g.user_metadata.full_name||"",role:g.user_metadata.role||"buyer",phone:null,created_at:new Date().toISOString()})}}}catch(p){console.error("[AuthContext] Critical error in fetchProfile:",p),a(!1)}finally{console.log("[AuthContext] fetchProfile FINISHED for:",d),l.current=null,a(!1)}},u=async()=>{console.log("[AuthContext] Signing out..."),await z.auth.signOut(),r(null),s(null),a(!1)};return o.jsx(Qf.Provider,{value:{user:t,profile:n,loading:i,signOut:u},children:e})},Pr=()=>{const e=_.useContext(Qf);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Yf=_.createContext(void 0),bx=({children:e})=>{const[t,r]=_.useState([]);_.useEffect(()=>{const u=localStorage.getItem("cart");u&&r(JSON.parse(u))},[]),_.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(t))},[t]);const n=u=>{r(d=>d.find(p=>p.product.id===u.id)?d.map(p=>p.product.id===u.id?{...p,quantity:p.quantity+1}:p):[...d,{product:u,quantity:1}])},s=u=>{r(d=>d.filter(h=>h.product.id!==u))},i=(u,d)=>{d<1||r(h=>h.map(p=>p.product.id===u?{...p,quantity:d}:p))},a=()=>r([]),l=t.reduce((u,d)=>u+d.product.price*d.quantity,0),c=t.reduce((u,d)=>u+d.quantity,0);return o.jsx(Yf.Provider,{value:{items:t,addToCart:n,removeFromCart:s,updateQuantity:i,clearCart:a,totalAmount:l,itemCount:c},children:e})},va=()=>{const e=_.useContext(Yf);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e};/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _x={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),D=(e,t)=>{const r=_.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,...u},d)=>_.createElement("svg",{ref:d,..._x,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${kx(e)}`,l].join(" "),...u},[...t.map(([h,p])=>_.createElement(h,p)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=D("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=D("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=D("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=D("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=D("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=D("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=D("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=D("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=D("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=D("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=D("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=D("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=D("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=D("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=D("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=D("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=D("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=D("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=D("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=D("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=D("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=D("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=D("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=D("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=D("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=D("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=D("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=D("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=D("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=D("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=D("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=D("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=D("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=D("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=D("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=D("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=D("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=D("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=D("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=D("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=D("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=D("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=D("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=D("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=D("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=D("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function op(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=op(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Os(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=op(e))&&(n&&(n+=" "),n+=t);return n}const vc="-",Hx=e=>{const t=Gx(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const l=a.split(vc);return l[0]===""&&l.length!==1&&l.shift(),lp(l,t)||Kx(a)},getConflictingClassGroupIds:(a,l)=>{const c=r[a]||[];return l&&n[a]?[...c,...n[a]]:c}}},lp=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?lp(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(vc);return(a=t.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},cd=/^\[(.+)\]$/,Kx=e=>{if(cd.test(e)){const t=cd.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Gx=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Qx(Object.entries(e.classGroups),r).forEach(([i,a])=>{pl(a,n,i,t)}),n},pl=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:ud(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(Jx(s)){pl(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,a])=>{pl(a,ud(t,i),r,n)})})},ud=(e,t)=>{let r=e;return t.split(vc).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Jx=e=>e.isThemeGetter,Qx=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[t+a,l])):i);return[r,s]}):e,Yx=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,a)=>{r.set(i,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return s(i,a),a},set(i,a){r.has(i)?r.set(i,a):s(i,a)}}},cp="!",Xx=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,a=l=>{const c=[];let u=0,d=0,h;for(let w=0;w<l.length;w++){let g=l[w];if(u===0){if(g===s&&(n||l.slice(w,w+i)===t)){c.push(l.slice(d,w)),d=w+i;continue}if(g==="/"){h=w;continue}}g==="["?u++:g==="]"&&u--}const p=c.length===0?l:l.substring(d),v=p.startsWith(cp),y=v?p.substring(1):p,x=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:y,maybePostfixModifierPosition:x}};return r?l=>r({className:l,parseClassName:a}):a},Zx=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},ew=e=>({cache:Yx(e.cacheSize),parseClassName:Xx(e),...Hx(e)}),tw=/\s+/,rw=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(tw);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:v}=r(u);let y=!!v,x=n(y?p.substring(0,v):p);if(!x){if(!y){l=u+(l.length>0?" "+l:l);continue}if(x=n(p),!x){l=u+(l.length>0?" "+l:l);continue}y=!1}const w=Zx(d).join(":"),g=h?w+cp:w,m=g+x;if(i.includes(m))continue;i.push(m);const f=s(x,y);for(let b=0;b<f.length;++b){const S=f[b];i.push(g+S)}l=u+(l.length>0?" "+l:l)}return l};function nw(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=up(t))&&(n&&(n+=" "),n+=r);return n}const up=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=up(e[n]))&&(r&&(r+=" "),r+=t);return r};function sw(e,...t){let r,n,s,i=a;function a(c){const u=t.reduce((d,h)=>h(d),e());return r=ew(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=rw(c,r);return s(c,d),d}return function(){return i(nw.apply(null,arguments))}}const Y=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},dp=/^\[(?:([a-z-]+):)?(.+)\]$/i,iw=/^\d+\/\d+$/,aw=new Set(["px","full","screen"]),ow=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lw=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cw=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,uw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dw=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mt=e=>ln(e)||aw.has(e)||iw.test(e),Ot=e=>bn(e,"length",xw),ln=e=>!!e&&!Number.isNaN(Number(e)),to=e=>bn(e,"number",ln),On=e=>!!e&&Number.isInteger(Number(e)),hw=e=>e.endsWith("%")&&ln(e.slice(0,-1)),B=e=>dp.test(e),At=e=>ow.test(e),fw=new Set(["length","size","percentage"]),pw=e=>bn(e,fw,hp),mw=e=>bn(e,"position",hp),gw=new Set(["image","url"]),vw=e=>bn(e,gw,bw),yw=e=>bn(e,"",ww),An=()=>!0,bn=(e,t,r)=>{const n=dp.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},xw=e=>lw.test(e)&&!cw.test(e),hp=()=>!1,ww=e=>uw.test(e),bw=e=>dw.test(e),_w=()=>{const e=Y("colors"),t=Y("spacing"),r=Y("blur"),n=Y("brightness"),s=Y("borderColor"),i=Y("borderRadius"),a=Y("borderSpacing"),l=Y("borderWidth"),c=Y("contrast"),u=Y("grayscale"),d=Y("hueRotate"),h=Y("invert"),p=Y("gap"),v=Y("gradientColorStops"),y=Y("gradientColorStopPositions"),x=Y("inset"),w=Y("margin"),g=Y("opacity"),m=Y("padding"),f=Y("saturate"),b=Y("scale"),S=Y("sepia"),N=Y("skew"),j=Y("space"),k=Y("translate"),T=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],q=()=>["auto",B,t],A=()=>[B,t],ge=()=>["",mt,Ot],ot=()=>["auto",ln,B],Is=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Tt=()=>["solid","dashed","dotted","double","none"],Tr=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",B],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[ln,B];return{cacheSize:500,separator:":",theme:{colors:[An],spacing:[mt,Ot],blur:["none","",At,B],brightness:H(),borderColor:[e],borderRadius:["none","","full",At,B],borderSpacing:A(),borderWidth:ge(),contrast:H(),grayscale:U(),hueRotate:H(),invert:U(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[hw,Ot],inset:q(),margin:q(),opacity:H(),padding:A(),saturate:H(),scale:H(),sepia:U(),skew:H(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",B]}],container:["container"],columns:[{columns:[At]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Is(),B]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",On,B]}],basis:[{basis:q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",B]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",On,B]}],"grid-cols":[{"grid-cols":[An]}],"col-start-end":[{col:["auto",{span:["full",On,B]},B]}],"col-start":[{"col-start":ot()}],"col-end":[{"col-end":ot()}],"grid-rows":[{"grid-rows":[An]}],"row-start-end":[{row:["auto",{span:[On,B]},B]}],"row-start":[{"row-start":ot()}],"row-end":[{"row-end":ot()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",B]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",B]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",B,t]}],"min-w":[{"min-w":[B,t,"min","max","fit"]}],"max-w":[{"max-w":[B,t,"none","full","min","max","fit","prose",{screen:[At]},At]}],h:[{h:[B,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[B,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[B,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[B,t,"auto","min","max","fit"]}],"font-size":[{text:["base",At,Ot]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",to]}],"font-family":[{font:[An]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",B]}],"line-clamp":[{"line-clamp":["none",ln,to]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mt,B]}],"list-image":[{"list-image":["none",B]}],"list-style-type":[{list:["none","disc","decimal",B]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Tt(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",mt,Ot]}],"underline-offset":[{"underline-offset":["auto",mt,B]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",B]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",B]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Is(),mw]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",pw]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},vw]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...Tt(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:Tt()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Tt()]}],"outline-offset":[{"outline-offset":[mt,B]}],"outline-w":[{outline:[mt,Ot]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ge()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[mt,Ot]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",At,yw]}],"shadow-color":[{shadow:[An]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...Tr(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Tr()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",At,B]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[f]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[f]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",B]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",B]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",B]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[On,B]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",B]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",B]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",B]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[mt,Ot,to]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},As=sw(_w);function kw(...e){return As(Os(e))}const L=Ss.forwardRef(({className:e,variant:t="primary",size:r="md",loading:n,children:s,...i},a)=>{const l={primary:"bg-slate-900 text-white hover:bg-slate-800 shadow-sm shadow-slate-200",secondary:"bg-stone-200 text-slate-900 hover:bg-stone-300",outline:"border border-slate-200 bg-transparent hover:bg-slate-50 text-slate-700",ghost:"bg-transparent hover:bg-slate-100 text-slate-600",danger:"bg-red-50 text-red-600 hover:bg-red-100"},c={sm:"h-9 px-3 text-xs",md:"h-11 px-6 text-sm",lg:"h-13 px-8 text-base",icon:"h-10 w-10 p-0"};return o.jsxs("button",{ref:a,className:kw("inline-flex items-center justify-center rounded-xl font-semibold transition-all active:scale-[0.98] disabled:opacity-50 disabled:pointer-events-none",l[t],c[r],e),disabled:n,...i,children:[n?o.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}):null,s]})});function jw({children:e}){const{user:t,profile:r,signOut:n}=Pr(),{itemCount:s}=va(),i=ir(),[a,l]=Ss.useState(!1),c=u=>i.pathname===u;return o.jsxs("div",{className:"min-h-screen flex flex-col font-sans selection:bg-slate-900 selection:text-white",children:[o.jsx("div",{className:"bg-slate-900 text-white py-2.5 text-center text-[10px] font-black uppercase tracking-[0.3em]",children:"Complimentary Delivery on Orders Over R1000"}),o.jsx("header",{className:"bg-white/80 backdrop-blur-xl sticky top-0 z-50 border-b border-stone-100",children:o.jsx("nav",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex h-24 justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-12",children:[o.jsxs(M,{to:"/",className:"flex items-center space-x-3 group",children:[o.jsx("div",{className:"w-10 h-10 bg-slate-900 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-500",children:o.jsx("span",{className:"text-white font-black text-xl italic leading-none",children:"e"})}),o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("span",{className:"text-xl font-black tracking-tighter text-slate-900 leading-none",children:["eMall",o.jsx("span",{className:"text-stone-400",children:"Place"})]}),o.jsx("span",{className:"text-[8px] font-bold uppercase tracking-[0.4em] text-stone-400 mt-1",children:"Collective"})]})]}),o.jsx("div",{className:"hidden md:flex items-center space-x-2",children:o.jsx(M,{to:"/shop",className:`px-6 py-2 rounded-full text-xs font-black uppercase tracking-widest transition-all ${c("/shop")?"text-slate-900 bg-stone-100":"text-stone-400 hover:text-slate-900 hover:bg-stone-50"}`,children:"Marketplace"})})]}),o.jsxs("div",{className:"flex items-center space-x-1 md:space-x-2",children:[o.jsxs(M,{to:"/cart",className:"relative p-3 text-slate-400 hover:text-slate-900 transition-all group",children:[o.jsx(np,{className:"h-6 w-6 group-hover:-translate-y-0.5 transition-transform"}),s>0&&o.jsx("span",{className:"absolute top-2 right-2 bg-slate-900 text-white text-[9px] font-black h-5 w-5 rounded-full flex items-center justify-center border-2 border-white",children:s})]}),o.jsx("div",{className:"hidden md:flex items-center space-x-2 border-l border-stone-100 ml-4 pl-6",children:t?o.jsxs("div",{className:"flex items-center space-x-3",children:[(r==null?void 0:r.role)==="seller"&&o.jsx(M,{to:"/seller",children:o.jsxs(L,{variant:"outline",size:"sm",className:"rounded-full border-stone-200 gap-2",children:[o.jsx(xa,{className:"h-4 w-4"}),"Seller Hub"]})}),(r==null?void 0:r.role)==="admin"&&o.jsx(M,{to:"/admin",children:o.jsx(L,{variant:"primary",size:"sm",className:"rounded-full bg-slate-900",children:"Admin"})}),o.jsx(M,{to:"/account/orders",className:"p-3 text-slate-400 hover:text-slate-900 transition-all",children:o.jsx(ip,{className:"h-6 w-6"})}),o.jsx("button",{onClick:()=>n(),className:"p-3 text-stone-300 hover:text-rose-600 transition-all",title:"Sign Out",children:o.jsx($x,{className:"h-6 w-6"})})]}):o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(M,{to:"/auth",children:o.jsx(L,{variant:"ghost",size:"sm",className:"text-stone-500 font-bold uppercase tracking-widest text-[10px]",children:"Sign In"})}),o.jsx(M,{to:"/auth?signup=true",children:o.jsx(L,{size:"sm",className:"rounded-full px-6 font-black uppercase tracking-widest text-[10px]",children:"Register"})})]})}),o.jsx("button",{className:"md:hidden p-3 text-slate-900",onClick:()=>l(!a),children:a?o.jsx(ks,{size:24}):o.jsx(Lx,{size:24})})]})]})})}),a&&o.jsx("div",{className:"md:hidden bg-white border-b border-stone-100 animate-in slide-in-from-top duration-300",children:o.jsxs("div",{className:"px-4 py-8 space-y-6",children:[o.jsx(M,{to:"/shop",className:"block text-2xl font-black text-slate-900 tracking-tight",onClick:()=>l(!1),children:"Marketplace"}),o.jsx("hr",{className:"border-stone-100"}),t?o.jsxs("div",{className:"space-y-4",children:[o.jsx(M,{to:"/account/orders",className:"block text-lg font-bold text-stone-500",onClick:()=>l(!1),children:"My Orders"}),(r==null?void 0:r.role)==="seller"&&o.jsx(M,{to:"/seller",className:"block text-lg font-bold text-stone-500",onClick:()=>l(!1),children:"Seller Hub"}),o.jsx("button",{onClick:()=>{n(),l(!1)},className:"block w-full text-left text-lg font-bold text-rose-600 pt-4",children:"Sign Out"})]}):o.jsx("div",{className:"space-y-4 pt-4",children:o.jsx(M,{to:"/auth",className:"block text-center py-4 bg-slate-900 text-white font-black rounded-2xl",onClick:()=>l(!1),children:"Get Started"})})]})}),o.jsx("main",{className:"flex-grow",children:e}),o.jsx("footer",{className:"bg-slate-900 text-stone-500 py-24 mt-32",children:o.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-16 mb-20",children:[o.jsxs("div",{className:"col-span-1 md:col-span-1",children:[o.jsxs(M,{to:"/",className:"flex items-center space-x-3 mb-8",children:[o.jsx("div",{className:"w-8 h-8 bg-white text-slate-900 rounded-xl flex items-center justify-center",children:o.jsx("span",{className:"font-black italic",children:"e"})}),o.jsxs("span",{className:"text-xl font-black tracking-tighter text-white",children:["eMall",o.jsx("span",{className:"text-stone-500",children:"Place"})]})]}),o.jsx("p",{className:"text-xs leading-relaxed font-medium max-w-xs",children:"South Africa's premier multi-vendor collective. We bridge the gap between independent artisans and discerning customers."})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white text-[10px] font-black uppercase tracking-[0.3em] mb-8",children:"Experience"}),o.jsxs("ul",{className:"space-y-4 text-xs font-bold",children:[o.jsx("li",{children:o.jsx(M,{to:"/shop",className:"hover:text-white transition-colors",children:"The Marketplace"})}),o.jsx("li",{children:o.jsx(M,{to:"/shop?sort=newest",className:"hover:text-white transition-colors",children:"New Arrivals"})}),o.jsx("li",{children:o.jsx(M,{to:"/shop",className:"hover:text-white transition-colors",children:"Curation List"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white text-[10px] font-black uppercase tracking-[0.3em] mb-8",children:"Service"}),o.jsxs("ul",{className:"space-y-4 text-xs font-bold",children:[o.jsx("li",{children:o.jsx(M,{to:"/",className:"hover:text-white transition-colors",children:"Concierge"})}),o.jsx("li",{children:o.jsx(M,{to:"/",className:"hover:text-white transition-colors",children:"Shipping Etiquette"})}),o.jsx("li",{children:o.jsx(M,{to:"/",className:"hover:text-white transition-colors",children:"Returns & Refinement"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white text-[10px] font-black uppercase tracking-[0.3em] mb-8",children:"The Guild"}),o.jsxs("ul",{className:"space-y-4 text-xs font-bold",children:[o.jsx("li",{children:o.jsx(M,{to:"/auth",className:"hover:text-white transition-colors",children:"Become a Partner"})}),o.jsx("li",{children:o.jsx(M,{to:"/",className:"hover:text-white transition-colors",children:"Merchant Guidelines"})}),o.jsx("li",{children:o.jsx(M,{to:"/",className:"hover:text-white transition-colors",children:"The Hub"})})]})]})]}),o.jsxs("div",{className:"border-t border-white/5 pt-12 flex flex-col md:flex-row justify-between items-center gap-8 text-[10px] font-black uppercase tracking-widest",children:[o.jsxs("p",{className:"text-white/20",children:[" ",new Date().getFullYear()," eMall Place Collective."]}),o.jsxs("div",{className:"flex gap-10",children:[o.jsx(M,{to:"/",className:"text-white/40 hover:text-white transition-colors",children:"Privacy"}),o.jsx(M,{to:"/",className:"text-white/40 hover:text-white transition-colors",children:"Terms"}),o.jsx(M,{to:"/",className:"text-white/40 hover:text-white transition-colors",children:"Legal"})]})]})]})})]})}function Gi({src:e,alt:t,className:r=""}){const[n,s]=_.useState(!1),[i,a]=_.useState(!0);return!e||n?o.jsxs("div",{className:`flex flex-col items-center justify-center bg-stone-100 text-stone-400 ${r}`,children:[o.jsx(Rx,{className:"h-10 w-10 mb-2 opacity-20"}),o.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest opacity-40",children:"Image Unavailable"})]}):o.jsxs("div",{className:`relative overflow-hidden bg-stone-100 ${r}`,children:[i&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-stone-100 z-10",children:o.jsx(er,{className:"h-6 w-6 animate-spin text-slate-900"})}),o.jsx("img",{src:e,alt:t,className:`w-full h-full object-cover transition-opacity duration-300 ${i?"opacity-0":"opacity-100"}`,onLoad:()=>a(!1),onError:()=>{s(!0),a(!1)}})]})}function Sw(...e){return As(Os(e))}const G=({className:e,children:t,...r})=>o.jsx("div",{className:Sw("rounded-2xl border border-slate-200 bg-white p-6 shadow-sm transition-shadow hover:shadow-md",e),...r,children:t});function Nw(...e){return As(Os(e))}const pe=({className:e,variant:t="default",...r})=>{const n={default:"bg-slate-100 text-slate-700",success:"bg-emerald-50 text-emerald-700",warning:"bg-amber-50 text-amber-700",error:"bg-red-50 text-red-700",outline:"border border-slate-200 text-slate-600"};return o.jsx("div",{className:Nw("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-bold uppercase tracking-wider",n[t],e),...r})};function Ew(...e){return As(Os(e))}const re=({className:e,...t})=>o.jsx("div",{className:Ew("animate-pulse rounded-md bg-slate-200",e),...t});function Cw(){const[e,t]=_.useState([]),[r,n]=_.useState([]),[s,i]=_.useState(!0);_.useEffect(()=>{a()},[]);const a=async()=>{try{const[l,c]=await Promise.all([z.from("products").select("*, product_images(*), seller_store:seller_store_id(store_name)").eq("status","approved").limit(8).order("created_at",{ascending:!1}),z.from("categories").select("*").limit(6)]);l.data&&t(l.data),c.data&&n(c.data)}catch(l){console.error("Error fetching home data:",l)}finally{i(!1)}};return o.jsxs("div",{className:"space-y-32 pb-32",children:[o.jsxs("section",{className:"relative h-[90vh] min-h-[700px] flex items-center overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 bg-slate-950",children:[o.jsx("img",{src:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?auto=format&fit=crop&q=80&w=2070",alt:"Marketplace",className:"w-full h-full object-cover opacity-40 scale-105"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-950 via-transparent to-transparent"})]}),o.jsx("div",{className:"container mx-auto px-4 relative z-10 text-white",children:o.jsxs("div",{className:"max-w-4xl",children:[o.jsx(pe,{variant:"outline",className:"text-white border-white/20 bg-white/10 backdrop-blur-md mb-8 py-2 px-6 rounded-full text-[10px] font-black tracking-[0.2em]",children:" The Curated Collective"}),o.jsxs("h1",{className:"text-7xl md:text-[9rem] font-black leading-[0.85] tracking-tighter mb-10",children:["CRAFTED ",o.jsx("br",{}),o.jsx("span",{className:"text-stone-400 italic",children:"EXCELLENCE."})]}),o.jsx("p",{className:"text-xl text-stone-300 mb-12 leading-relaxed max-w-xl font-medium",children:"A refined marketplace connecting discerning customers with South Africa's most exceptional independent creators."}),o.jsxs("div",{className:"flex flex-wrap gap-6",children:[o.jsx(M,{to:"/shop",children:o.jsxs(L,{size:"lg",className:"rounded-full px-12 py-8 text-lg font-black bg-white text-slate-950 hover:bg-stone-200",children:["Explore Marketplace ",o.jsx(Yn,{className:"ml-3 h-6 w-6"})]})}),o.jsx(M,{to:"/auth",children:o.jsx(L,{variant:"outline",size:"lg",className:"rounded-full px-12 py-8 text-lg font-black border-white/20 text-white hover:bg-white hover:text-slate-950 backdrop-blur-sm",children:"Become a Partner"})})]})]})})]}),o.jsx("section",{className:"container mx-auto px-4 -mt-48 relative z-20",children:o.jsx(G,{className:"p-0 overflow-hidden border-none shadow-[0_32px_64px_-12px_rgba(0,0,0,0.2)] rounded-[2.5rem] bg-white",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 divide-y md:divide-y-0 md:divide-x divide-stone-100",children:[o.jsxs("div",{className:"p-12 flex flex-col items-center text-center gap-6 group",children:[o.jsx("div",{className:"bg-stone-50 p-5 rounded-3xl text-slate-900 group-hover:scale-110 transition-transform duration-500",children:o.jsx(ya,{className:"h-10 w-10"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-black text-xl mb-2 text-slate-900 uppercase tracking-tight",children:"Secure Commerce"}),o.jsx("p",{className:"text-stone-400 text-sm font-medium leading-relaxed",children:"Encrypted transactions via elite South African payment gateways."})]})]}),o.jsxs("div",{className:"p-12 flex flex-col items-center text-center gap-6 group",children:[o.jsx("div",{className:"bg-stone-50 p-5 rounded-3xl text-slate-900 group-hover:scale-110 transition-transform duration-500",children:o.jsx(sp,{className:"h-10 w-10"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-black text-xl mb-2 text-slate-900 uppercase tracking-tight",children:"Rapid Logistics"}),o.jsx("p",{className:"text-stone-400 text-sm font-medium leading-relaxed",children:"Direct, tracked delivery from artisan studios to your doorstep."})]})]}),o.jsxs("div",{className:"p-12 flex flex-col items-center text-center gap-6 group",children:[o.jsx("div",{className:"bg-stone-50 p-5 rounded-3xl text-slate-900 group-hover:scale-110 transition-transform duration-500",children:o.jsx(qx,{className:"h-10 w-10"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-black text-xl mb-2 text-slate-900 uppercase tracking-tight",children:"Verified Guilds"}),o.jsx("p",{className:"text-stone-400 text-sm font-medium leading-relaxed",children:"Stringent vetting ensures only the highest quality merchant standards."})]})]})]})})}),o.jsxs("section",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between mb-16 gap-8 border-b border-stone-100 pb-12",children:[o.jsxs("div",{className:"max-w-2xl",children:[o.jsx(pe,{variant:"outline",className:"mb-4 border-stone-200 text-stone-400 rounded-full px-4 py-1 text-[10px] font-black uppercase tracking-widest",children:"Departments"}),o.jsxs("h2",{className:"text-5xl font-black tracking-tight text-slate-900 uppercase leading-none",children:["Curated ",o.jsx("br",{}),o.jsx("span",{className:"text-stone-300",children:"Collections"})]})]}),o.jsx(M,{to:"/shop",children:o.jsxs(L,{variant:"outline",className:"rounded-full px-8 py-6 font-black uppercase tracking-widest text-[10px] group",children:["Browse All ",o.jsx(Xf,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1 group-hover:-translate-y-1"})]})})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-8",children:r.map(l=>o.jsxs(M,{to:`/shop?category=${l.id}`,className:"group flex flex-col items-center",children:[o.jsxs("div",{className:"w-full aspect-[4/5] rounded-[2rem] bg-stone-100 mb-6 overflow-hidden relative",children:[o.jsx("div",{className:"absolute inset-0 bg-stone-200/50 group-hover:scale-110 transition-transform duration-700"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-8 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:o.jsx("div",{className:"w-12 h-12 rounded-full bg-white flex items-center justify-center shadow-xl",children:o.jsx(Yn,{size:20,className:"text-slate-900"})})})]}),o.jsx("span",{className:"font-black text-slate-900 uppercase tracking-widest text-xs group-hover:text-stone-500 transition-colors",children:l.name})]},l.id))})]}),o.jsxs("section",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between mb-16 gap-8 border-b border-stone-100 pb-12",children:[o.jsxs("div",{className:"max-w-2xl",children:[o.jsx(pe,{variant:"outline",className:"mb-4 border-stone-200 text-stone-400 rounded-full px-4 py-1 text-[10px] font-black uppercase tracking-widest",children:"Selection"}),o.jsxs("h2",{className:"text-5xl font-black tracking-tight text-slate-900 uppercase leading-none",children:["Editor's ",o.jsx("br",{}),o.jsx("span",{className:"text-stone-300",children:"Choice"})]})]}),o.jsx(M,{to:"/shop",children:o.jsxs(L,{variant:"outline",className:"rounded-full px-8 py-6 font-black uppercase tracking-widest text-[10px] group",children:["Full Archive ",o.jsx(Yn,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]})})]}),s?o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-12",children:[1,2,3,4].map(l=>o.jsxs("div",{className:"space-y-6",children:[o.jsx(re,{className:"aspect-square rounded-[2rem]"}),o.jsx(re,{className:"h-4 w-2/3"}),o.jsx(re,{className:"h-6 w-1/3"})]},l))}):o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-x-12 gap-y-16",children:e.map(l=>{var c,u,d;return o.jsxs(M,{to:`/product/${l.id}`,className:"group flex flex-col",children:[o.jsxs("div",{className:"aspect-square bg-white rounded-[2rem] overflow-hidden mb-8 relative shadow-sm border border-stone-100 group-hover:shadow-[0_24px_48px_-12px_rgba(0,0,0,0.1)] transition-all duration-700",children:[o.jsx(Gi,{src:(u=(c=l.product_images)==null?void 0:c[0])==null?void 0:u.url,alt:l.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"}),o.jsx("div",{className:"absolute top-6 right-6",children:o.jsx("button",{className:"bg-white/90 backdrop-blur-md p-3 rounded-2xl text-stone-300 hover:text-rose-500 transition-all shadow-sm active:scale-90",children:o.jsx(Tx,{className:"h-5 w-5",fill:"currentColor",fillOpacity:"0"})})}),l.stock<=5&&l.stock>0&&o.jsx("div",{className:"absolute bottom-6 left-6",children:o.jsx(pe,{variant:"warning",className:"rounded-full px-4 py-1.5 font-black uppercase tracking-widest text-[8px] shadow-xl",children:"Limited Reserve"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-stone-400",children:(d=l.seller_store)==null?void 0:d.store_name})}),o.jsx("h3",{className:"text-xl font-bold text-slate-900 tracking-tight leading-snug group-hover:text-stone-600 transition-colors",children:l.title}),o.jsxs("div",{className:"flex items-center justify-between pt-2",children:[o.jsxs("p",{className:"text-2xl font-black text-slate-900",children:["R ",l.price.toLocaleString()]}),o.jsx("div",{className:"w-12 h-12 rounded-2xl bg-stone-50 flex items-center justify-center group-hover:bg-slate-900 group-hover:text-white transition-all duration-500",children:o.jsx(_t,{size:20})})]})]})]},l.id)})})]}),o.jsx("section",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"relative rounded-[3rem] bg-slate-900 overflow-hidden px-8 py-24 md:p-32 text-center text-white border-8 border-stone-100 shadow-2xl",children:[o.jsxs("div",{className:"absolute inset-0 opacity-20",children:[o.jsx("div",{className:"absolute top-0 left-0 w-[500px] h-[500px] bg-stone-400 rounded-full blur-[120px] -translate-x-1/2 -translate-y-1/2"}),o.jsx("div",{className:"absolute bottom-0 right-0 w-[500px] h-[500px] bg-slate-400 rounded-full blur-[120px] translate-x-1/3 translate-y-1/3"})]}),o.jsxs("div",{className:"relative z-10 max-w-3xl mx-auto",children:[o.jsx(pe,{variant:"outline",className:"mb-8 border-white/10 text-stone-400 rounded-full px-6 py-2 text-[10px] font-black uppercase tracking-[0.3em] bg-white/5",children:"The Guild"}),o.jsxs("h2",{className:"text-5xl md:text-7xl font-black mb-10 leading-[0.9] uppercase tracking-tighter",children:["Your Legacy, ",o.jsx("br",{}),o.jsx("span",{className:"text-stone-500 italic",children:"Our Platform."})]}),o.jsx("p",{className:"text-xl text-stone-400 mb-16 font-medium leading-relaxed max-w-2xl mx-auto",children:"Elevate your artisan business with our premium merchant tools. We provide the infrastructure; you provide the craft."}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-6",children:[o.jsx(M,{to:"/auth",children:o.jsx(L,{size:"lg",className:"rounded-full px-16 py-8 text-lg font-black bg-white text-slate-900 hover:bg-stone-200 border-none shadow-2xl",children:"Initiate Partnership"})}),o.jsx(M,{to:"/",children:o.jsx(L,{variant:"outline",size:"lg",className:"rounded-full px-16 py-8 text-lg font-black border-white/10 text-white hover:bg-white/5 backdrop-blur-sm",children:"View Case Studies"})})]})]})]})})]})}function Pw(...e){return As(Os(e))}const dt=Ss.forwardRef(({className:e,label:t,error:r,...n},s)=>o.jsxs("div",{className:"w-full space-y-1.5",children:[t&&o.jsx("label",{className:"text-sm font-medium text-slate-700 ml-0.5",children:t}),o.jsx("input",{ref:s,className:Pw("flex h-11 w-full rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm transition-all placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-900/10 focus:border-slate-900 disabled:cursor-not-allowed disabled:opacity-50",r&&"border-red-500 focus:ring-red-500/20 focus:border-red-500",e),...n}),r&&o.jsx("p",{className:"text-xs font-medium text-red-500 ml-0.5",children:r})]}));function _n({message:e,onClose:t,className:r=""}){return e?o.jsxs("div",{className:`bg-rose-50/50 border border-rose-100 p-6 my-6 rounded-[2rem] flex justify-between items-start gap-4 animate-in fade-in slide-in-from-top-4 duration-300 ${r}`,children:[o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-rose-100 rounded-full flex items-center justify-center",children:o.jsx(jx,{className:"h-5 w-5 text-rose-600","aria-hidden":"true"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-black uppercase tracking-widest text-rose-900 mb-1",children:"Attention Required"}),o.jsx("p",{className:"text-sm text-rose-700/80 font-medium leading-relaxed",children:e})]})]}),t&&o.jsx("button",{onClick:t,className:"p-2 text-rose-300 hover:text-rose-600 hover:bg-rose-100/50 rounded-xl transition-all",children:o.jsx(ks,{className:"h-5 w-5"})})]}):null}function Tw(){const e=pt(),[t]=Ts(),{user:r,loading:n}=Pr(),[s,i]=_.useState(t.get("signup")==="true"?"signup":"signin"),[a,l]=_.useState("buyer"),[c,u]=_.useState(!1),[d,h]=_.useState(null),[p,v]=_.useState(null),y=_.useRef(!1);_.useEffect(()=>{r&&!n&&(console.log("[Auth] User already logged in, redirecting to home"),e("/"))},[r,n,e]),_.useEffect(()=>{if(p){const m=p-Date.now();if(m>0){const f=setTimeout(()=>v(null),m);return()=>clearTimeout(f)}else v(null)}},[p]);const[x,w]=_.useState({email:"",password:"",fullName:"",storeName:""}),g=async m=>{if(m.preventDefault(),!y.current){if(p&&Date.now()<p){const f=Math.ceil((p-Date.now())/1e3);h(`Too many attempts. Please wait ${f} seconds before trying again.`);return}y.current=!0,u(!0),h(null);try{if(console.log("Starting auth submission:",s,a),s==="signup"){const{data:f,error:b}=await z.auth.signUp({email:x.email,password:x.password,options:{data:{full_name:x.fullName,role:a,store_name:a==="seller"?x.storeName:null}}});if(console.log("SignUp response:",{hasData:!!f,hasUser:!!(f!=null&&f.user),hasSession:!!(f!=null&&f.session),error:b}),b)throw b.status===429?(v(Date.now()+6e4),new Error("Rate limit exceeded. Please wait 1 minute.")):b;f.session?(console.log("Registration successful, redirecting..."),e("/")):(console.log("Registration successful, verification required."),h("Verification email sent! Please check your inbox."))}else{console.log("Starting sign in...");const{error:f}=await z.auth.signInWithPassword({email:x.email,password:x.password});if(f)throw f.status===429?(v(Date.now()+3e4),new Error("Too many sign in attempts. Please wait a few minutes and try again.")):f;e("/")}}catch(f){console.error("Auth error:",f),h(f.message||"An error occurred during authentication.")}finally{u(!1),y.current=!1}}};return o.jsx("div",{className:"min-h-[80vh] flex items-center justify-center px-4 py-20 bg-[#F9F8F6]",children:o.jsxs("div",{className:"w-full max-w-xl",children:[o.jsxs("div",{className:"text-center mb-10",children:[o.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-slate-900 text-white rounded-2xl mb-6",children:o.jsx(ya,{size:32})}),o.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tight mb-2",children:s==="signin"?"Welcome Back":"Join the Collective"}),o.jsx("p",{className:"text-stone-500 font-medium",children:s==="signin"?"Access your premium marketplace experience.":"Start your journey as a buyer or independent seller."})]}),o.jsxs(G,{className:"p-8 border-none shadow-2xl shadow-slate-900/5 bg-white rounded-3xl",children:[o.jsxs("div",{className:"flex p-1 bg-stone-100 rounded-2xl mb-8",children:[o.jsx("button",{onClick:()=>i("signin"),className:`flex-1 py-3 text-sm font-black uppercase tracking-widest rounded-xl transition-all ${s==="signin"?"bg-white text-slate-900 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:"Sign In"}),o.jsx("button",{onClick:()=>i("signup"),className:`flex-1 py-3 text-sm font-black uppercase tracking-widest rounded-xl transition-all ${s==="signup"?"bg-white text-slate-900 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:"Register"})]}),d&&o.jsx(_n,{message:d,onClose:()=>h(null),className:"mb-6"}),o.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s==="signup"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[o.jsxs("button",{type:"button",onClick:()=>l("buyer"),className:`p-4 rounded-2xl border-2 transition-all text-left ${a==="buyer"?"border-slate-900 bg-slate-50":"border-stone-100 bg-white hover:border-stone-200"}`,children:[o.jsx(ip,{size:20,className:a==="buyer"?"text-slate-900":"text-stone-400"}),o.jsx("p",{className:`text-xs font-black uppercase tracking-widest mt-3 ${a==="buyer"?"text-slate-900":"text-stone-400"}`,children:"Buyer"})]}),o.jsxs("button",{type:"button",onClick:()=>l("seller"),className:`p-4 rounded-2xl border-2 transition-all text-left ${a==="seller"?"border-slate-900 bg-slate-50":"border-stone-100 bg-white hover:border-stone-200"}`,children:[o.jsx(xa,{size:20,className:a==="seller"?"text-slate-900":"text-stone-400"}),o.jsx("p",{className:`text-xs font-black uppercase tracking-widest mt-3 ${a==="seller"?"text-slate-900":"text-stone-400"}`,children:"Seller"})]})]}),o.jsx(dt,{label:"Full Name",placeholder:"John Doe",required:!0,value:x.fullName,onChange:m=>w({...x,fullName:m.target.value})}),a==="seller"&&o.jsx(dt,{label:"Store Name",placeholder:"My Artisan Shop",required:!0,value:x.storeName,onChange:m=>w({...x,storeName:m.target.value})})]}),o.jsx(dt,{label:"Email Address",type:"email",placeholder:"name@example.com",required:!0,value:x.email,onChange:m=>w({...x,email:m.target.value})}),o.jsx(dt,{label:"Password",type:"password",placeholder:"",required:!0,value:x.password,onChange:m=>w({...x,password:m.target.value})}),o.jsx(L,{type:"submit",disabled:c||y.current||p!==null&&Date.now()<p,className:"w-full rounded-full py-8 text-lg font-black group shadow-xl shadow-slate-900/10 mt-4",children:c||y.current?o.jsx(er,{className:"animate-spin h-6 w-6"}):p&&Date.now()<p?o.jsxs("span",{children:["Wait ",Math.ceil((p-Date.now())/1e3),"s"]}):o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{children:s==="signin"?"Enter Marketplace":"Create Account"}),o.jsx(Yn,{className:"h-5 w-5 group-hover:translate-x-1 transition-transform"})]})})]}),o.jsx("p",{className:"text-center text-xs text-stone-400 mt-8 font-medium",children:s==="signin"?"Don't have an account? Use the register tab above.":"Already part of the collective? Use the sign in tab above."})]})]})})}function Rw(){const[e,t]=Ts(),[r,n]=_.useState([]),[s,i]=_.useState([]),[a,l]=_.useState(!0),[c,u]=_.useState(null),d=e.get("q")||"",h=e.get("category")||"all",p=e.get("sort")||"newest";_.useEffect(()=>{v()},[]),_.useEffect(()=>{y()},[h,p]);const v=async()=>{const{data:f,error:b}=await z.from("categories").select("*").order("name");b?console.error("Error fetching categories:",b):i(f||[])},y=async()=>{l(!0),u(null);try{let f=z.from("products").select("*, product_images(*), seller_store:seller_store_id(store_name)").eq("status","approved");h!=="all"&&(f=f.eq("category_id",h)),p==="price_asc"?f=f.order("price",{ascending:!0}):p==="price_desc"?f=f.order("price",{ascending:!1}):f=f.order("created_at",{ascending:!1});const{data:b,error:S}=await f;if(S)throw S;n(b||[])}catch(f){console.error("Error fetching products:",f),u("Failed to load products. Please check your connection.")}finally{l(!1)}},x=f=>{const b=f.target.value;t(S=>(b?S.set("q",b):S.delete("q"),S))},w=f=>{t(b=>(f!=="all"?b.set("category",f):b.delete("category"),b))},g=f=>{const b=f.target.value;t(S=>(b!=="newest"?S.set("sort",b):S.delete("sort"),S))},m=r.filter(f=>{var b;return f.title.toLowerCase().includes(d.toLowerCase())||((b=f.description)==null?void 0:b.toLowerCase().includes(d.toLowerCase()))});return o.jsx("div",{className:"bg-[#F9F8F6] min-h-screen",children:o.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-12",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-8 mb-12",children:[o.jsxs("div",{className:"max-w-xl",children:[o.jsxs("nav",{className:"flex items-center gap-2 text-xs font-bold uppercase tracking-widest text-slate-400 mb-4",children:[o.jsx(M,{to:"/",className:"hover:text-slate-900 transition-colors",children:"Home"}),o.jsx(ep,{className:"h-3 w-3"}),o.jsx("span",{className:"text-slate-900",children:"Marketplace"})]}),o.jsx("h1",{className:"text-5xl font-black tracking-tighter text-slate-900 uppercase",children:"The Collection"}),o.jsx("p",{className:"text-slate-500 mt-2",children:"Discover unique items from South Africa's finest creators."})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[o.jsxs("div",{className:"relative group min-w-[300px]",children:[o.jsx(fl,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 h-5 w-5 group-focus-within:text-slate-900 transition-colors"}),o.jsx("input",{type:"text",placeholder:"Search the marketplace...",className:"pl-12 pr-4 py-3 w-full bg-white border border-slate-200 rounded-2xl focus:ring-4 focus:ring-slate-900/10 focus:border-slate-900 outline-none transition-all shadow-sm",value:d,onChange:x})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("select",{className:"pl-12 pr-10 py-3 bg-white border border-slate-200 rounded-2xl focus:ring-4 focus:ring-slate-900/10 focus:border-slate-900 outline-none transition-all appearance-none font-semibold text-slate-700 shadow-sm cursor-pointer",value:p,onChange:g,children:[o.jsx("option",{value:"newest",children:"Latest Arrivals"}),o.jsx("option",{value:"price_asc",children:"Price: Low to High"}),o.jsx("option",{value:"price_desc",children:"Price: High to Low"})]}),o.jsx(Bx,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 h-5 w-5 pointer-events-none"})]})]})]}),c&&o.jsx(_n,{message:c,onClose:()=>u(null)}),o.jsxs("div",{className:"flex flex-col lg:flex-row gap-12",children:[o.jsxs("aside",{className:"lg:w-64 space-y-10 flex-shrink-0",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsx(tp,{className:"h-5 w-5 text-slate-900"}),o.jsx("h3",{className:"font-black uppercase tracking-tight text-slate-900",children:"Categories"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("button",{onClick:()=>w("all"),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-bold transition-all ${h==="all"?"bg-slate-900 text-white shadow-lg shadow-slate-200":"text-slate-500 hover:bg-white hover:text-slate-900"}`,children:"All Categories"}),s.map(f=>o.jsx("button",{onClick:()=>w(f.id),className:`w-full text-left px-4 py-3 rounded-xl text-sm font-bold transition-all ${h===f.id?"bg-slate-900 text-white shadow-lg shadow-slate-200":"text-slate-500 hover:bg-white hover:text-slate-900"}`,children:f.name},f.id))]})]}),o.jsxs(G,{className:"bg-slate-900 border-none p-8 text-white",children:[o.jsx("h4",{className:"font-black text-xl mb-4 leading-tight uppercase",children:"Support Local Heart"}),o.jsx("p",{className:"text-slate-400 text-xs leading-relaxed mb-6 italic",children:'"By shopping here, you directly support South African artisans and small business owners."'}),o.jsx("div",{className:"h-1 w-12 bg-stone-400"})]})]}),o.jsx("div",{className:"flex-grow",children:a?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:[1,2,3,4,5,6].map(f=>o.jsxs("div",{className:"space-y-4",children:[o.jsx(re,{className:"aspect-square rounded-2xl"}),o.jsx(re,{className:"h-4 w-2/3"}),o.jsx(re,{className:"h-6 w-1/3"})]},f))}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs(pe,{variant:"outline",className:"py-1 px-3 border-slate-200 text-slate-500 font-bold",children:[m.length," Products Found"]}),o.jsx("div",{className:"flex gap-2",children:o.jsx("button",{className:"p-2 bg-white rounded-lg border border-slate-200 text-slate-900 shadow-sm",children:o.jsx(Ax,{size:18})})})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-12",children:m.map(f=>{var b,S,N;return o.jsxs(M,{to:`/product/${f.id}`,className:"group",children:[o.jsxs("div",{className:"aspect-square bg-white rounded-2xl overflow-hidden mb-6 relative border border-slate-100 shadow-sm group-hover:shadow-xl transition-all duration-500",children:[o.jsx(Gi,{src:(S=(b=f.product_images)==null?void 0:b[0])==null?void 0:S.url,alt:f.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),o.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/5 transition-colors"}),o.jsx("div",{className:"absolute bottom-4 left-4 right-4 translate-y-4 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300",children:o.jsx(L,{className:"w-full shadow-2xl",children:"Quick View"})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-stone-400",children:(N=f.seller_store)==null?void 0:N.store_name})}),o.jsx("h3",{className:"font-bold text-slate-900 group-hover:text-stone-600 transition-colors truncate text-lg",children:f.title}),o.jsxs("p",{className:"text-xl font-black text-slate-900",children:["R ",f.price.toFixed(2)]})]})]},f.id)})}),m.length===0&&o.jsxs("div",{className:"text-center py-32 bg-white rounded-[2rem] border-2 border-dashed border-slate-100",children:[o.jsx("div",{className:"bg-slate-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(fl,{className:"h-8 w-8 text-slate-300"})}),o.jsx("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-tight",children:"No results matched"}),o.jsx("p",{className:"text-slate-500 mt-2",children:"Try adjusting your filters or search term."}),o.jsx(L,{variant:"outline",className:"mt-8 rounded-xl",onClick:()=>w("all"),children:"Clear All Filters"})]})]})})]})]})})}function Ow(){var w,g;const{id:e}=Tf(),t=pt(),{addToCart:r}=va(),[n,s]=_.useState(null),[i,a]=_.useState(!0),[l,c]=_.useState(null),[u,d]=_.useState(!1),[h,p]=_.useState(0);_.useEffect(()=>{e&&v()},[e]);const v=async()=>{a(!0),c(null);try{const{data:m,error:f}=await z.from("products").select("*, product_images(*), seller_store:seller_store_id(*)").eq("id",e).single();if(f)throw f;s(m)}catch(m){console.error("Error fetching product:",m),c("Product not found or failed to load.")}finally{a(!1)}},y=async()=>{n&&(d(!0),r(n),setTimeout(()=>d(!1),800))};if(i)return o.jsx("div",{className:"container mx-auto px-4 py-16",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-16",children:[o.jsx(re,{className:"aspect-square rounded-3xl"}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(re,{className:"h-4 w-32"}),o.jsx(re,{className:"h-12 w-full"}),o.jsx(re,{className:"h-8 w-40"}),o.jsx(re,{className:"h-32 w-full"}),o.jsx(re,{className:"h-16 w-full rounded-full"})]})]})});if(l||!n)return o.jsx("div",{className:"container mx-auto px-4 py-20 text-center",children:o.jsxs("div",{className:"max-w-md mx-auto",children:[o.jsx(_n,{message:l||"Product not found"}),o.jsx(L,{variant:"outline",onClick:()=>t("/shop"),className:"mt-8 rounded-full",children:"Return to Marketplace"})]})});const x=n.product_images||[];return o.jsxs("div",{className:"container mx-auto px-4 py-12",children:[o.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>t(-1),className:"mb-10 -ml-2 text-stone-500 hover:text-slate-900",children:[o.jsx(mc,{className:"h-4 w-4 mr-2"}),"Back to Results"]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-16",children:[o.jsxs("div",{className:"lg:col-span-7 space-y-6",children:[o.jsxs(G,{className:"p-0 border-none bg-stone-100 overflow-hidden rounded-3xl aspect-square relative group",children:[o.jsx(Gi,{src:(w=x[h])==null?void 0:w.url,alt:n.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"}),n.stock<=5&&n.stock>0&&o.jsxs(pe,{variant:"warning",className:"absolute top-6 left-6 shadow-xl py-1.5 px-4 rounded-full",children:["Only ",n.stock," Left"]})]}),x.length>1&&o.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2 scrollbar-hide",children:x.map((m,f)=>o.jsx("button",{onClick:()=>p(f),className:`flex-shrink-0 w-24 h-24 rounded-2xl overflow-hidden border-2 transition-all ${h===f?"border-slate-900 ring-4 ring-slate-900/5":"border-transparent opacity-60 hover:opacity-100"}`,children:o.jsx(Gi,{src:m.url,alt:"",className:"w-full h-full object-cover"})},m.id))})]}),o.jsxs("div",{className:"lg:col-span-5 flex flex-col",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center gap-2 text-stone-400 mb-4",children:[o.jsx(xa,{className:"h-4 w-4"}),o.jsx("span",{className:"text-xs font-black uppercase tracking-[0.2em]",children:(g=n.seller_store)==null?void 0:g.store_name})]}),o.jsx("h1",{className:"text-5xl font-black text-slate-900 tracking-tight mb-4 leading-[1.1]",children:n.title}),o.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[o.jsxs("span",{className:"text-4xl font-black text-slate-900 tracking-tight",children:["R ",n.price.toLocaleString()]}),n.stock>0?o.jsx(pe,{variant:"success",className:"rounded-full px-3 py-1",children:"In Stock"}):o.jsx(pe,{variant:"error",className:"rounded-full px-3 py-1",children:"Sold Out"})]})]}),o.jsxs("div",{className:"prose prose-stone mb-10",children:[o.jsx("h3",{className:"text-sm font-black uppercase tracking-widest text-stone-400 mb-4",children:"The Detail"}),o.jsx("p",{className:"text-stone-600 text-lg leading-relaxed whitespace-pre-line",children:n.description})]}),o.jsxs("div",{className:"space-y-8 mt-auto pt-10 border-t border-stone-100",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"flex flex-col items-center text-center gap-2",children:[o.jsx(sp,{className:"h-5 w-5 text-stone-400"}),o.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-stone-500",children:"Fast Delivery"})]}),o.jsxs("div",{className:"flex flex-col items-center text-center gap-2",children:[o.jsx(ya,{className:"h-5 w-5 text-stone-400"}),o.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-stone-500",children:"Secure Store"})]}),o.jsxs("div",{className:"flex flex-col items-center text-center gap-2",children:[o.jsx(hl,{className:"h-5 w-5 text-stone-400"}),o.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-stone-500",children:"Easy Returns"})]})]}),o.jsx(L,{size:"lg",onClick:y,disabled:n.stock===0||u,className:"w-full rounded-full py-8 text-xl group shadow-2xl shadow-slate-900/10",children:u?o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-5 w-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),o.jsx("span",{children:"Adding..."})]}):o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(np,{className:"h-6 w-6 group-hover:-translate-y-1 transition-transform"}),o.jsx("span",{children:"Secure for Bag"})]})})]})]})]})]})}function Aw(){const{profile:e}=Pr(),[t,r]=_.useState(null),[n,s]=_.useState([]),[i,a]=_.useState([]),[l,c]=_.useState(!0),[u,d]=_.useState("products"),[h,p]=_.useState(!1),[v,y]=_.useState(""),[x,w]=_.useState(!1),[g,m]=_.useState(null);_.useEffect(()=>{e!=null&&e.id&&f()},[e]);const f=async()=>{c(!0);const{data:k}=await z.from("seller_stores").select("*").eq("owner_id",e.id).single();if(k){r(k);const[T,R]=await Promise.all([z.from("products").select("*, product_images(*)").eq("seller_store_id",k.id).order("created_at",{ascending:!1}),z.from("order_items").select("*, orders(*, profiles(full_name)), products(title)").eq("seller_store_id",k.id).order("id",{ascending:!1})]);T.data&&s(T.data),R.error?(console.error("Error fetching order items:",R.error),a([])):a(R.data??[])}c(!1)},b=async(k,T)=>{const{error:R}=await z.from("order_items").update({item_status:T}).eq("id",k);R||f()},S=async k=>{if(!confirm("Are you sure you want to delete this product? This action cannot be undone."))return;const{error:T}=await z.from("products").delete().eq("id",k);T?(console.error("Error deleting product:",T),alert("Failed to delete product.")):f()},N=async k=>{if(k.preventDefault(),!v.trim()){m("Please enter a store name");return}w(!0),m(null);try{const{error:T}=await z.from("seller_stores").insert({owner_id:e.id,store_name:v.trim(),status:"pending"});if(T)throw new Error(`Failed to create store: ${T.message}`);await f(),p(!1),y("")}catch(T){console.error("Error creating store:",T),m(T.message||"Failed to create store")}finally{w(!1)}};if(l)return o.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-12",children:[o.jsxs("div",{className:"flex justify-between items-end mb-12",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx(re,{className:"h-4 w-32"}),o.jsx(re,{className:"h-12 w-64"})]}),o.jsx(re,{className:"h-12 w-40 rounded-full"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[1,2,3].map(k=>o.jsx(re,{className:"h-32 rounded-3xl"},k))}),o.jsx(re,{className:"h-96 w-full rounded-3xl"})]});if(!t)return o.jsx("div",{className:"min-h-[80vh] flex items-center justify-center px-4",children:h?o.jsxs(G,{className:"max-w-md w-full p-12 rounded-[2.5rem] border-stone-100 shadow-2xl bg-white",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-slate-900 rounded-2xl flex items-center justify-center mx-auto mb-6",children:o.jsx(xa,{className:"h-8 w-8 text-white"})}),o.jsx("h2",{className:"text-3xl font-black text-slate-900 uppercase tracking-tight mb-2",children:"Create Your Store"}),o.jsx("p",{className:"text-stone-500 font-medium",children:"Enter your store name to get started"})]}),g&&o.jsx("div",{className:"mb-6 p-4 bg-rose-50 border border-rose-200 rounded-xl",children:o.jsx("p",{className:"text-sm text-rose-600 font-medium",children:g})}),o.jsxs("form",{onSubmit:N,className:"space-y-6",children:[o.jsx(dt,{label:"Store Name",placeholder:"My Artisan Shop",required:!0,value:v,onChange:k=>y(k.target.value),disabled:x}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx(L,{type:"button",variant:"outline",onClick:()=>{p(!1),y(""),m(null)},disabled:x,className:"flex-1 rounded-full py-6 font-black",children:"Cancel"}),o.jsx(L,{type:"submit",disabled:x,className:"flex-1 rounded-full py-6 font-black shadow-xl shadow-slate-200",children:x?o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),o.jsx("span",{children:"Creating..."})]}):"Create Store"})]})]})]}):o.jsxs(G,{className:"max-w-md w-full text-center p-12 rounded-[2.5rem] border-stone-100 shadow-2xl bg-white",children:[o.jsx("div",{className:"w-20 h-20 bg-stone-50 rounded-full flex items-center justify-center mx-auto mb-8",children:o.jsx(_t,{className:"h-8 w-8 text-stone-300"})}),o.jsx("h2",{className:"text-3xl font-black text-slate-900 uppercase tracking-tight mb-4",children:"Initialize Workshop"}),o.jsx("p",{className:"text-stone-500 mb-10 font-medium",children:"You haven't established your merchant profile yet. Set up your store to start showcasing your craft."}),o.jsx(L,{size:"lg",onClick:()=>p(!0),className:"w-full rounded-2xl shadow-xl shadow-slate-200 uppercase tracking-widest font-black text-xs py-8",children:"Complete Setup"})]})});const j=i.reduce((k,T)=>k+T.item_total,0);return o.jsx("div",{className:"min-h-screen bg-[#F9F8F6] pb-24",children:o.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-12",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-8 mb-12",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-[0.3em] text-stone-400 mb-4",children:[o.jsx(od,{className:"h-3 w-3"}),o.jsx("span",{children:"Merchant Console"})]}),o.jsx("h1",{className:"text-5xl font-black tracking-tighter text-slate-900 uppercase",children:t.store_name}),o.jsx("p",{className:"text-stone-500 mt-2 font-medium",children:"Managing your professional inventory and fulfillment."})]}),o.jsx("div",{className:"flex gap-4",children:o.jsx(M,{to:"/seller/products/new",children:o.jsxs(L,{className:"rounded-full px-8 py-6 gap-2 shadow-xl shadow-slate-200",children:[o.jsx(rp,{className:"h-5 w-5"}),"Add New Craft"]})})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12",children:[o.jsxs(G,{className:"p-8 rounded-3xl border-stone-100 shadow-sm bg-white hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("div",{className:"p-3 bg-stone-50 rounded-2xl text-slate-900",children:o.jsx(dl,{className:"h-6 w-6"})}),o.jsx(pe,{variant:"outline",className:"text-[9px] font-black border-stone-100 rounded-full",children:"Inventory"})]}),o.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-stone-400 mb-1",children:"Total Products"}),o.jsx("p",{className:"text-3xl font-black text-slate-900 italic",children:n.length})]}),o.jsxs(G,{className:"p-8 rounded-3xl border-stone-100 shadow-sm bg-white hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("div",{className:"p-3 bg-stone-50 rounded-2xl text-slate-900",children:o.jsx(_t,{className:"h-6 w-6"})}),o.jsx(pe,{variant:"warning",className:"text-[9px] font-black rounded-full",children:"Active"})]}),o.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-stone-400 mb-1",children:"Pending Orders"}),o.jsx("p",{className:"text-3xl font-black text-slate-900 italic",children:i.filter(k=>k.item_status==="pending").length})]}),o.jsxs(G,{className:"p-8 rounded-3xl border-stone-100 shadow-sm bg-white hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("div",{className:"p-3 bg-stone-50 rounded-2xl text-slate-900",children:o.jsx(ap,{className:"h-6 w-6"})}),o.jsx(pe,{variant:"outline",className:"text-[9px] font-black border-stone-100 rounded-full",children:"Engagement"})]}),o.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-stone-400 mb-1",children:"Total Sales"}),o.jsx("p",{className:"text-3xl font-black text-slate-900 italic",children:i.length})]}),o.jsxs(G,{className:"p-8 rounded-3xl bg-slate-900 text-white shadow-xl shadow-slate-200 hover:scale-[1.02] transition-transform",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("div",{className:"p-3 bg-white/10 rounded-2xl text-white",children:o.jsx(od,{className:"h-6 w-6"})}),o.jsx(Xf,{className:"h-5 w-5 text-stone-400"})]}),o.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-1",children:"Total Revenue"}),o.jsxs("p",{className:"text-3xl font-black italic",children:["R ",j.toFixed(0).toLocaleString()]})]})]}),o.jsxs(G,{className:"rounded-[2.5rem] border-stone-100 overflow-hidden shadow-sm bg-white",children:[o.jsxs("div",{className:"border-b border-stone-50 px-8 py-6 flex flex-wrap items-center justify-between gap-6 bg-white",children:[o.jsxs("div",{className:"flex gap-8",children:[o.jsxs("button",{onClick:()=>d("products"),className:`text-[10px] font-black uppercase tracking-[0.3em] transition-all relative pb-2 ${u==="products"?"text-slate-900":"text-stone-300 hover:text-stone-500"}`,children:["Inventory List",u==="products"&&o.jsx("span",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-slate-900 rounded-full"})]}),o.jsxs("button",{onClick:()=>d("orders"),className:`text-[10px] font-black uppercase tracking-[0.3em] transition-all relative pb-2 ${u==="orders"?"text-slate-900":"text-stone-300 hover:text-stone-500"}`,children:["Order Fulfillment",u==="orders"&&o.jsx("span",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-slate-900 rounded-full"})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(fl,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-4 w-4 text-stone-300"}),o.jsx("input",{type:"text",placeholder:"Filter items...",className:"pl-11 pr-4 py-2.5 bg-stone-50 border-none rounded-full text-xs font-bold focus:ring-2 focus:ring-slate-900/10 focus:bg-white transition-all outline-none w-64"})]}),o.jsx(L,{variant:"outline",size:"sm",className:"rounded-full border-stone-100 h-10 w-10 p-0",children:o.jsx(tp,{className:"h-4 w-4"})})]})]}),o.jsx("div",{className:"overflow-x-auto",children:u==="products"?o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-stone-50/50",children:[o.jsx("th",{className:"px-8 py-4 text-[10px] font-black uppercase tracking-widest text-stone-400",children:"Item Details"}),o.jsx("th",{className:"px-8 py-4 text-[10px] font-black uppercase tracking-widest text-stone-400",children:"Valuation"}),o.jsx("th",{className:"px-8 py-4 text-[10px] font-black uppercase tracking-widest text-stone-400",children:"Stock"}),o.jsx("th",{className:"px-8 py-4 text-[10px] font-black uppercase tracking-widest text-stone-400",children:"Status"}),o.jsx("th",{className:"px-8 py-4 text-right text-[10px] font-black uppercase tracking-widest text-stone-400",children:"Actions"})]})}),o.jsxs("tbody",{className:"divide-y divide-stone-50 bg-white",children:[n.map(k=>{var T;return o.jsxs("tr",{className:"group hover:bg-stone-50/30 transition-colors",children:[o.jsx("td",{className:"px-8 py-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"h-16 w-16 flex-shrink-0 bg-stone-100 rounded-2xl overflow-hidden border border-stone-200",children:((T=k.product_images)==null?void 0:T[0])&&o.jsx("img",{src:k.product_images[0].url,className:"h-full w-full object-cover",alt:""})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-bold text-slate-900 group-hover:text-stone-600 transition-colors",children:k.title}),o.jsxs("div",{className:"text-[10px] text-stone-400 font-mono mt-1 uppercase tracking-tighter",children:["ID: ",k.id.slice(0,8)]})]})]})}),o.jsxs("td",{className:"px-8 py-6 text-sm font-black text-slate-900",children:["R ",k.price.toLocaleString()]}),o.jsx("td",{className:"px-8 py-6",children:o.jsxs("span",{className:`text-sm font-bold ${k.stock<5?"text-rose-600":"text-slate-600"}`,children:[k.stock," units"]})}),o.jsx("td",{className:"px-8 py-6",children:o.jsx(pe,{variant:k.status==="approved"?"success":k.status==="pending"?"warning":"error",className:"text-[9px] font-black uppercase rounded-full",children:k.status})}),o.jsx("td",{className:"px-8 py-6 text-right",children:o.jsxs("div",{className:"flex justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx(M,{to:`/seller/products/${k.id}/edit`,children:o.jsx(L,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0 rounded-xl text-stone-400 hover:text-slate-900",children:o.jsx(Dx,{className:"h-4 w-4"})})}),o.jsx("button",{onClick:()=>S(k.id),children:o.jsx(L,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0 rounded-xl text-stone-400 hover:text-rose-600",children:o.jsx(gc,{className:"h-4 w-4"})})})]})})]},k.id)}),n.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-8 py-24 text-center",children:o.jsxs("div",{className:"max-w-xs mx-auto text-center",children:[o.jsx(dl,{className:"h-12 w-12 text-stone-200 mx-auto mb-4"}),o.jsx("p",{className:"text-stone-400 text-sm font-medium italic",children:"Your inventory is currently empty. Start adding your unique products to showcase them in the marketplace."})]})})})]})]}):o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-stone-50/50",children:[o.jsx("th",{className:"px-8 py-4 text-[10px] font-black uppercase tracking-widest text-stone-400",children:"Order Ref"}),o.jsx("th",{className:"px-8 py-4 text-[10px] font-black uppercase tracking-widest text-stone-400",children:"Acquirer"}),o.jsx("th",{className:"px-8 py-4 text-[10px] font-black uppercase tracking-widest text-stone-400",children:"Item"}),o.jsx("th",{className:"px-8 py-4 text-[10px] font-black uppercase tracking-widest text-stone-400",children:"Investment"}),o.jsx("th",{className:"px-8 py-4 text-[10px] font-black uppercase tracking-widest text-stone-400",children:"Status"}),o.jsx("th",{className:"px-8 py-4 text-right text-[10px] font-black uppercase tracking-widest text-stone-400",children:"Manage"})]})}),o.jsxs("tbody",{className:"divide-y divide-stone-50 bg-white",children:[i.map(k=>{var T,R,q,A;return o.jsxs("tr",{className:"group hover:bg-stone-50/30 transition-colors",children:[o.jsxs("td",{className:"px-8 py-6",children:[o.jsxs("div",{className:"text-sm font-bold text-slate-900",children:["#",k.orders.id.slice(0,8).toUpperCase()]}),o.jsx("div",{className:"text-[10px] text-stone-400 font-mono mt-1 uppercase tracking-tighter",children:new Date(k.orders.created_at).toLocaleDateString()})]}),o.jsx("td",{className:"px-8 py-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-8 w-8 bg-stone-100 rounded-full flex items-center justify-center text-[10px] font-black text-slate-500 border border-stone-200",children:((R=(T=k.orders.profiles)==null?void 0:T.full_name)==null?void 0:R.charAt(0))||"G"}),o.jsx("span",{className:"text-sm font-medium text-slate-600 truncate max-w-[120px]",children:((q=k.orders.profiles)==null?void 0:q.full_name)||"Guest"})]})}),o.jsxs("td",{className:"px-8 py-6",children:[o.jsx("div",{className:"text-sm font-bold text-slate-900 group-hover:text-stone-600 transition-colors",children:(A=k.products)==null?void 0:A.title}),o.jsxs("div",{className:"text-[10px] text-stone-400 font-medium mt-0.5",children:["Quantity: ",k.qty]})]}),o.jsxs("td",{className:"px-8 py-6 text-sm font-black text-slate-900",children:["R ",k.item_total.toLocaleString()]}),o.jsx("td",{className:"px-8 py-6",children:o.jsx(pe,{variant:k.item_status==="delivered"?"success":k.item_status==="cancelled"?"error":"warning",className:"text-[9px] font-black uppercase rounded-full",children:k.item_status})}),o.jsx("td",{className:"px-8 py-6 text-right",children:o.jsxs("select",{className:"bg-stone-50 border border-stone-100 rounded-xl px-4 py-2.5 text-[10px] font-black uppercase tracking-widest outline-none focus:ring-2 focus:ring-slate-900/10 focus:bg-white transition-all cursor-pointer appearance-none text-slate-900 shadow-sm",value:k.item_status,onChange:ge=>b(k.id,ge.target.value),children:[o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"packed",children:"Packed"}),o.jsx("option",{value:"shipped",children:"Shipped"}),o.jsx("option",{value:"delivered",children:"Delivered"}),o.jsx("option",{value:"cancelled",children:"Cancelled"})]})})]},k.id)}),i.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-8 py-24 text-center",children:o.jsxs("div",{className:"max-w-xs mx-auto text-center",children:[o.jsx(_t,{className:"h-12 w-12 text-stone-200 mx-auto mb-4"}),o.jsx("p",{className:"text-stone-400 text-sm font-medium italic",children:"No orders have been placed for your items yet. They will appear here once acquired."})]})})})]})]})})]})]})})}async function Iw(e){const t=e.name.split(".").pop(),n=`products/${`${Math.random()}.${t}`}`,{error:s}=await z.storage.from("marketplace").upload(n,e);if(s)return console.error("Error uploading image:",s),null;const{data:i}=z.storage.from("marketplace").getPublicUrl(n);return i.publicUrl}function $w({message:e,onClose:t,className:r=""}){return e?o.jsxs("div",{className:`bg-emerald-50/50 border border-emerald-100 p-6 my-6 rounded-[2rem] flex justify-between items-start gap-4 animate-in fade-in slide-in-from-top-4 duration-300 ${r}`,children:[o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-emerald-100 rounded-full flex items-center justify-center",children:o.jsx(Zf,{className:"h-5 w-5 text-emerald-600","aria-hidden":"true"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-black uppercase tracking-widest text-emerald-900 mb-1",children:"Success"}),o.jsx("p",{className:"text-sm text-emerald-700/80 font-medium leading-relaxed",children:e})]})]}),t&&o.jsx("button",{onClick:t,className:"p-2 text-emerald-300 hover:text-emerald-600 hover:bg-emerald-100/50 rounded-xl transition-all",children:o.jsx(ks,{className:"h-5 w-5"})})]}):null}function dd(){const{id:e}=Tf(),t=pt(),{profile:r}=Pr(),[n,s]=_.useState(!1),[i,a]=_.useState(!!e),[l,c]=_.useState(null),[u,d]=_.useState(null),[h,p]=_.useState([]),[v,y]=_.useState([]),[x,w]=_.useState([]),[g,m]=_.useState({title:"",description:"",price:"",stock:"",category_id:""});_.useEffect(()=>{f(),e&&b()},[e]);const f=async()=>{const{data:j,error:k}=await z.from("categories").select("*").order("name");!k&&j&&p(j)},b=async()=>{try{const{data:j,error:k}=await z.from("products").select("*, product_images(*)").eq("id",e).single();if(k)throw k;m({title:j.title,description:j.description||"",price:j.price.toString(),stock:j.stock.toString(),category_id:j.category_id||""}),j.product_images&&w(j.product_images.map(T=>T.url))}catch(j){console.error("Error fetching product:",j),c("Failed to load product details.")}finally{a(!1)}},S=j=>{if(j.target.files){const k=Array.from(j.target.files);y(R=>[...R,...k]);const T=k.map(R=>URL.createObjectURL(R));w(R=>[...R,...T])}},N=async j=>{j.preventDefault(),s(!0),c(null),d(null);try{const{data:k,error:T}=await z.from("seller_stores").select("id").eq("owner_id",r.id).single();if(T||!k)throw new Error("Could not find your store. Please contact support.");const R={seller_store_id:k.id,title:g.title,description:g.description,price:parseFloat(g.price),stock:parseInt(g.stock),category_id:g.category_id||null,status:"pending"};let q=e;if(e){const{error:A}=await z.from("products").update(R).eq("id",e);if(A)throw A}else{const{data:A,error:ge}=await z.from("products").insert(R).select().single();if(ge)throw ge;q=A.id}for(const A of v){const ge=await Iw(A);if(ge){const{error:ot}=await z.from("product_images").insert({product_id:q,url:ge});ot&&console.error("Error saving image metadata:",ot)}}d(e?"Product updated successfully!":"Product published successfully!"),setTimeout(()=>{t("/seller")},1500)}catch(k){console.error("Error saving product:",k),c(k.message||"Failed to save product. Please check all fields.")}finally{s(!1)}};return i?o.jsxs("div",{className:"container mx-auto px-4 py-20 text-center",children:[o.jsx(er,{className:"animate-spin h-10 w-10 text-stone-300 mx-auto mb-4"}),o.jsx("p",{className:"text-stone-400 font-medium",children:"Retrieving product details..."})]}):o.jsxs("div",{className:"container mx-auto px-4 py-16 max-w-4xl",children:[o.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>t(-1),className:"mb-8 -ml-2 text-stone-500 hover:text-slate-900",children:[o.jsx(mc,{className:"h-4 w-4 mr-2"}),"Discard & Exit"]}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tight",children:e?"Refine Product":"Create Masterpiece"}),o.jsx("p",{className:"text-stone-500 mt-2",children:"Provide the details that will make your product stand out."})]}),l&&o.jsx(_n,{message:l,onClose:()=>c(null)}),u&&o.jsx($w,{message:u,onClose:()=>d(null)}),o.jsxs("form",{onSubmit:N,className:"grid grid-cols-1 lg:grid-cols-12 gap-12",children:[o.jsx("div",{className:"lg:col-span-7 space-y-8",children:o.jsxs(G,{className:"p-8 space-y-6",children:[o.jsx("h2",{className:"text-xl font-bold border-b border-stone-100 pb-4",children:"General Information"}),o.jsx(dt,{label:"Product Title",placeholder:"e.g. Handcrafted Leather Satchel",required:!0,value:g.title,onChange:j=>m({...g,title:j.target.value})}),o.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[o.jsx(dt,{label:"Price (ZAR)",type:"number",step:"0.01",required:!0,value:g.price,onChange:j=>m({...g,price:j.target.value})}),o.jsx(dt,{label:"Stock Level",type:"number",required:!0,value:g.stock,onChange:j=>m({...g,stock:j.target.value})})]}),o.jsxs("div",{className:"w-full space-y-1.5",children:[o.jsx("label",{className:"text-sm font-medium text-slate-700 ml-0.5",children:"Category"}),o.jsxs("select",{className:"flex h-11 w-full rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm transition-all focus:outline-none focus:ring-2 focus:ring-slate-900/10 focus:border-slate-900 appearance-none bg-[url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20stroke%3D%22currentColor%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%3Cpath%20d%3D%22m6%209%206%206%206-6%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.25rem_1.25rem] bg-[right_1rem_center] bg-no-repeat",value:g.category_id,onChange:j=>m({...g,category_id:j.target.value}),children:[o.jsx("option",{value:"",children:"Choose a category"}),h.map(j=>o.jsx("option",{value:j.id,children:j.name},j.id))]})]}),o.jsxs("div",{className:"w-full space-y-1.5",children:[o.jsx("label",{className:"text-sm font-medium text-slate-700 ml-0.5",children:"Full Description"}),o.jsx("textarea",{rows:6,required:!0,placeholder:"Describe the soul of your product...",className:"flex w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm transition-all placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-900/10 focus:border-slate-900",value:g.description,onChange:j=>m({...g,description:j.target.value})})]})]})}),o.jsxs("div",{className:"lg:col-span-5 space-y-8",children:[o.jsxs(G,{className:"p-8",children:[o.jsx("h2",{className:"text-xl font-bold border-b border-stone-100 pb-4 mb-6",children:"Visuals"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.map((j,k)=>o.jsxs("div",{className:"aspect-square bg-stone-50 rounded-2xl overflow-hidden relative group border border-stone-100",children:[o.jsx("img",{src:j,className:"h-full w-full object-cover group-hover:scale-110 transition-transform duration-500",alt:""}),o.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx(L,{variant:"ghost",size:"icon",className:"text-white hover:bg-rose-500/20",children:o.jsx(gc,{size:20})})})]},k)),o.jsxs("label",{className:"aspect-square border-2 border-dashed border-stone-200 rounded-2xl flex flex-col items-center justify-center cursor-pointer hover:border-slate-900 hover:bg-stone-50 transition-all text-stone-400 hover:text-slate-900",children:[o.jsx(Vx,{size:24}),o.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest mt-2",children:"Add Photo"}),o.jsx("input",{type:"file",className:"hidden",multiple:!0,onChange:S,accept:"image/*"})]})]}),o.jsxs("div",{className:"mt-8 p-4 bg-stone-50 rounded-xl border border-stone-100 flex items-start gap-3",children:[o.jsx(Ox,{className:"text-stone-400 mt-0.5",size:18}),o.jsx("p",{className:"text-[11px] text-stone-500 leading-relaxed font-medium",children:"High-quality images increase sales by up to 40%. Use natural lighting and multiple angles."})]})]}),o.jsx(L,{type:"submit",disabled:n,className:"w-full rounded-full py-8 text-xl group shadow-2xl shadow-slate-900/10",children:n?o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(er,{className:"animate-spin",size:20}),o.jsx("span",{children:"Synchronizing"})]}):o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Mx,{size:20}),o.jsx("span",{children:e?"Apply Refinements":"Publish Product"})]})})]})]})]})}function Lw(){const{items:e,removeFromCart:t,updateQuantity:r,totalAmount:n}=va(),s=pt();return e.length===0?o.jsxs("div",{className:"container mx-auto px-4 py-32 text-center",children:[o.jsx("div",{className:"flex justify-center mb-8",children:o.jsx("div",{className:"p-8 bg-stone-100 rounded-full",children:o.jsx(_t,{className:"h-16 w-16 text-stone-300"})})}),o.jsx("h2",{className:"text-4xl font-black text-slate-900 mb-4 tracking-tight",children:"Your cart is empty"}),o.jsx("p",{className:"text-stone-500 mb-10 text-lg max-w-md mx-auto",children:"Discover unique products from independent sellers across the country."}),o.jsx(L,{size:"lg",onClick:()=>s("/shop"),className:"rounded-full px-10",children:"Start Shopping"})]}):o.jsxs("div",{className:"container mx-auto px-4 py-16",children:[o.jsxs("div",{className:"flex items-baseline gap-4 mb-12",children:[o.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tight",children:"Shopping Bag"}),o.jsxs("span",{className:"text-stone-400 text-lg font-medium",children:[e.length," items"]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12",children:[o.jsx("div",{className:"lg:col-span-8 space-y-6",children:e.map(i=>{var a,l;return o.jsx(G,{className:"p-0 overflow-hidden group",children:o.jsxs("div",{className:"flex flex-col sm:flex-row",children:[o.jsx("div",{className:"w-full sm:w-48 h-48 sm:h-auto flex-shrink-0 bg-stone-100 overflow-hidden",children:(a=i.product.product_images)!=null&&a[0]?o.jsx("img",{src:i.product.product_images[0].url,className:"h-full w-full object-cover group-hover:scale-105 transition-transform duration-500",alt:i.product.title}):o.jsx("div",{className:"h-full w-full flex items-center justify-center text-stone-300",children:o.jsx(_t,{size:40})})}),o.jsxs("div",{className:"flex-grow p-6 flex flex-col justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("h3",{className:"text-xl font-bold text-slate-900 leading-tight",children:o.jsx(M,{to:`/product/${i.product.id}`,className:"hover:text-stone-600 transition-colors",children:i.product.title})}),o.jsx(L,{variant:"ghost",size:"icon",onClick:()=>t(i.product.id),className:"text-stone-400 hover:text-rose-600 -mt-2 -mr-2",children:o.jsx(gc,{className:"h-5 w-5"})})]}),o.jsx("p",{className:"text-sm font-semibold uppercase tracking-wider text-stone-400",children:(l=i.product.seller_store)==null?void 0:l.store_name})]}),o.jsxs("div",{className:"flex justify-between items-end mt-8",children:[o.jsxs("div",{className:"flex items-center bg-stone-50 rounded-full border border-stone-200 p-1",children:[o.jsx(L,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full",onClick:()=>r(i.product.id,i.quantity-1),children:o.jsx(Ux,{className:"h-3 w-3"})}),o.jsx("span",{className:"px-4 text-sm font-bold w-10 text-center",children:i.quantity}),o.jsx(L,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full",onClick:()=>r(i.product.id,i.quantity+1),children:o.jsx(rp,{className:"h-3 w-3"})})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-xs text-stone-400 font-bold uppercase tracking-widest mb-1",children:"Subtotal"}),o.jsxs("p",{className:"text-2xl font-black text-slate-900",children:["R ",(i.product.price*i.quantity).toLocaleString()]})]})]})]})]})},i.product.id)})}),o.jsx("div",{className:"lg:col-span-4",children:o.jsxs(G,{className:"sticky top-24 border-2 border-slate-900 bg-white p-8",children:[o.jsx("h2",{className:"text-2xl font-black mb-8 text-slate-900 tracking-tight",children:"Order Summary"}),o.jsxs("div",{className:"space-y-6 mb-10",children:[o.jsxs("div",{className:"flex justify-between text-stone-500 font-medium",children:[o.jsx("span",{children:"Subtotal"}),o.jsxs("span",{className:"text-slate-900",children:["R ",n.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between text-stone-500 font-medium",children:[o.jsx("span",{children:"Shipping"}),o.jsx("span",{className:"text-emerald-600 font-bold uppercase text-sm tracking-widest",children:"Calculated at next step"})]}),o.jsx("div",{className:"h-px bg-stone-100"}),o.jsxs("div",{className:"flex justify-between items-baseline",children:[o.jsx("span",{className:"text-lg font-bold text-slate-900",children:"Estimated Total"}),o.jsxs("span",{className:"text-3xl font-black text-slate-900",children:["R ",n.toLocaleString()]})]})]}),o.jsxs(L,{size:"lg",onClick:()=>s("/checkout"),className:"w-full rounded-full py-8 text-lg group",children:["Checkout Now",o.jsx(Yn,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),o.jsxs("div",{className:"mt-8 space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 text-xs text-stone-400 font-medium uppercase tracking-wider justify-center",children:[o.jsx("span",{className:"w-8 h-px bg-stone-100"}),o.jsx("span",{children:"Secure Payments"}),o.jsx("span",{className:"w-8 h-px bg-stone-100"})]}),o.jsx("p",{className:"text-[10px] text-center text-stone-400 italic leading-relaxed",children:"By proceeding to checkout, you agree to our terms of service. All transactions are encrypted and secure."})]})]})})]})]})}const Uw={name:"PayFast Placeholder",processPayment:async(e,t)=>(console.log(`Processing payment of R${e} for order`,t),await new Promise(r=>setTimeout(r,2e3)),{success:!0,transactionId:`TXN-${Math.random().toString(36).substr(2,9).toUpperCase()}`})};async function Dw(e,t,r,n){try{console.log("[PayFast] Creating payment request for order:",e);const{data:s,error:i}=await z.from("orders").update({status:"pending_payment",payment_status:"pending"}).eq("id",e).select().single();if(i)return console.error("[PayFast] Error updating order:",i),{redirectUrl:"",error:`Failed to update order: ${i.message}`};console.log("[PayFast] Order updated to pending_payment:",s);const l=`${"https://krbbibcoxvmcwgsugvvx.supabase.co".replace(/\/$/,"")}/functions/v1/payfast-initiate`,c=r.map(v=>v.product.title).join(", "),u=await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderId:e,amount:t,itemName:`Order #${e} - ${c}`,buyerEmail:n||void 0})}),d=await u.json();if(!u.ok)return console.error("[PayFast] Initiate function error:",d),{redirectUrl:"",error:d.error||"Failed to initiate PayFast payment"};const{redirectUrl:h,formFields:p}=d;try{const y=`${new URL(h).origin}/eng/process`,x=document.createElement("form");return x.method="POST",x.action=y,Object.entries(p||{}).forEach(([w,g])=>{const m=document.createElement("input");m.type="hidden",m.name=w,m.value=g,x.appendChild(m)}),document.body.appendChild(x),x.submit(),{redirectUrl:y,error:null}}catch(v){return console.error("[PayFast] Failed to submit form automatically:",v),{redirectUrl:h||"",error:null}}}catch(s){return console.error("[PayFast] Unexpected error:",s),{redirectUrl:"",error:s instanceof Error?s.message:"An unexpected error occurred"}}}async function zw(e){try{console.log("[PayFast] Verifying payment status for order:",e);const{data:t,error:r}=await z.from("orders").select("*").eq("id",e).single();if(r)return console.error("[PayFast] Error fetching order:",r),{paid:!1,status:"error"};const n=t.payment_status==="paid"||t.status==="completed",s=t.status;return console.log("[PayFast] Payment status:",{paid:n,status:s}),{paid:n,status:s}}catch(t){return console.error("[PayFast] Unexpected error:",t),{paid:!1,status:"error"}}}function Mw(){const{items:e,totalAmount:t,clearCart:r}=va(),{user:n,profile:s}=Pr(),i=pt(),[a]=Ts(),[l,c]=_.useState(!1),[u,d]=_.useState(null),[h,p]=_.useState("mock"),[v,y]=_.useState(null),[x,w]=_.useState(!1),g=async f=>{if(f.preventDefault(),d(null),!n){i("/auth");return}c(!0);try{const S=e.map(q=>{const A=Number((q.product.price*q.quantity).toFixed(2)),ge=Number((A*.08).toFixed(2));return{...q,itemTotal:A,commissionAmount:ge}}),N=S.reduce((q,A)=>q+A.commissionAmount,0),{data:j,error:k}=await z.from("orders").insert({buyer_id:n.id,total_amount:t,total_commission:N,status:"pending_payment",payment_status:"pending"}).select().single();if(k)throw new Error(`Order creation failed: ${k.message}`);y(j.id),console.log("[Checkout] Order created:",j.id);const T=S.map(q=>({order_id:j.id,seller_store_id:q.product.seller_store_id,product_id:q.product.id,qty:q.quantity,unit_price:q.product.price,item_total:q.itemTotal,commission_amount:q.commissionAmount,item_status:"pending"})),{error:R}=await z.from("order_items").insert(T);if(R)throw new Error(`Failed to save order items: ${R.message}`);if(h==="payfast"){const{redirectUrl:q,error:A}=await Dw(j.id,t,S,n.email);if(A)throw new Error(A);console.log("[Checkout] Redirecting to PayFast:",q),window.location.href=q}else if((await Uw.processPayment(t,{orderId:j.id})).success){const{error:A}=await z.from("orders").update({payment_status:"paid",status:"processing"}).eq("id",j.id);if(A)throw new Error(`Payment succeeded but order update failed: ${A.message}`);r(),i("/account/orders")}else await z.from("orders").update({payment_status:"failed"}).eq("id",j.id),d("Payment failed. Please try again or use a different card.")}catch(b){console.error("Checkout error:",b),d(b.message||"An unexpected error occurred during checkout.")}finally{c(!1)}};_.useEffect(()=>{const f=a.get("order_id"),b=a.get("status");f&&b==="success"&&m(f)},[a]);const m=async f=>{w(!0),d(null);try{let S=0;const N=setInterval(async()=>{S++;const{paid:j,status:k}=await zw(f);if(console.log(`[Checkout] Poll attempt ${S}:`,{paid:j,status:k}),j){clearInterval(N),w(!1),r(),i("/account/orders");return}if(k==="failed"||k==="cancelled"){clearInterval(N),w(!1),d(k==="failed"?"Payment failed. Please try again.":"Payment was cancelled.");return}S>=30&&(clearInterval(N),w(!1),d("Payment verification timed out. Please contact support."))},1e4)}catch(b){w(!1),console.error("[Checkout] Polling error:",b),d("An error occurred while verifying payment.")}};return e.length===0?(i("/shop"),null):o.jsxs("div",{className:"container mx-auto px-4 py-16 max-w-5xl",children:[o.jsxs(L,{variant:"ghost",size:"sm",className:"mb-8 -ml-2 text-stone-500 hover:text-slate-900",onClick:()=>i("/cart"),children:[o.jsx(mc,{className:"mr-2 h-4 w-4"}),"Back to Bag"]}),o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-baseline mb-12 gap-4",children:[o.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tight",children:"Checkout"}),o.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 bg-emerald-50 px-4 py-2 rounded-full border border-emerald-100",children:[o.jsx(Ix,{size:16}),o.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Secure Checkout"})]})]}),u&&o.jsx(_n,{message:u,onClose:()=>d(null)}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12",children:[o.jsxs("div",{className:"lg:col-span-7 space-y-8",children:[o.jsxs("section",{children:[o.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-900 text-white flex items-center justify-center text-sm",children:"1"}),"Shipping & Billing"]}),o.jsx(G,{className:"p-8",children:o.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-stone-400 mb-2",children:"Recipient Name"}),o.jsx(dt,{readOnly:!0,value:(s==null?void 0:s.full_name)||"",className:"bg-stone-50 border-none font-medium"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-stone-400 mb-2",children:"Email Address"}),o.jsx(dt,{readOnly:!0,value:(n==null?void 0:n.email)||"",className:"bg-stone-50 border-none font-medium"})]}),o.jsxs("div",{className:"p-4 bg-stone-50 rounded-xl border border-stone-100 flex items-start gap-3",children:[o.jsx(ya,{className:"text-emerald-600 mt-0.5",size:18}),o.jsx("p",{className:"text-xs text-stone-500 leading-relaxed",children:"Your account details are used for billing. To change these, please update your profile settings."})]})]})})]}),o.jsxs("section",{children:[o.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-900 text-white flex items-center justify-center text-sm",children:"2"}),"Payment Method"]}),o.jsxs(G,{className:"p-8 border-2 border-slate-900",children:[o.jsxs("div",{className:"flex gap-4 mb-6",children:[o.jsxs("button",{type:"button",onClick:()=>p("mock"),className:`flex-1 p-4 rounded-xl border-2 transition-all ${h==="mock"?"border-slate-900 bg-slate-50":"border-stone-200 bg-white hover:border-slate-300"}`,children:[o.jsx(Ex,{className:"h-5 w-5"}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"font-bold text-sm",children:"Test Payment (Mock)"}),o.jsx("p",{className:"text-xs text-stone-500",children:"Simulates payment flow"})]})]}),o.jsxs("button",{type:"button",onClick:()=>p("payfast"),className:`flex-1 p-4 rounded-xl border-2 transition-all ${h==="payfast"?"border-emerald-600 bg-emerald-50":"border-stone-200 bg-white hover:border-emerald-300"}`,children:[o.jsx(Wx,{className:"h-5 w-5 text-emerald-600"}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"font-bold text-sm",children:"Pay with PayFast"}),o.jsx("p",{className:"text-xs text-stone-500",children:"Secure instant payment"})]})]})]}),o.jsx("p",{className:"text-sm text-stone-500 mb-0",children:h==="payfast"?"You will be redirected to PayFast to complete your transaction securely. After payment, you will be redirected back to complete your order.":"You will be redirected to our secure payment gateway to complete your transaction. We support all major South African cards."}),h==="payfast"&&o.jsx("div",{className:"mt-4 p-4 bg-emerald-50 border border-emerald-100 rounded-xl",children:o.jsxs("p",{className:"text-xs text-emerald-700 font-medium",children:[o.jsx("strong",{children:"Note:"})," After completing payment on PayFast, you will be redirected back to this page to finalize your order."]})})]})]})]}),o.jsx("div",{className:"lg:col-span-5",children:o.jsxs(G,{className:"sticky top-24 bg-stone-900 text-white p-8 border-none shadow-2xl",children:[o.jsx("h2",{className:"text-2xl font-black mb-8 tracking-tight",children:"Order Review"}),o.jsx("div",{className:"space-y-4 mb-8 max-h-64 overflow-y-auto pr-2 scrollbar-hide",children:e.map(f=>o.jsxs("div",{className:"flex justify-between items-start gap-4 py-2 border-b border-white/5 last:border-0",children:[o.jsxs("div",{className:"flex-grow",children:[o.jsx("p",{className:"font-bold text-sm leading-tight mb-1",children:f.product.title}),o.jsxs("p",{className:"text-[10px] text-white/40 uppercase tracking-widest font-bold",children:["Qty: ",f.quantity]})]}),o.jsxs("span",{className:"font-bold text-sm",children:["R ",(f.product.price*f.quantity).toLocaleString()]})]},f.product.id))}),o.jsxs("div",{className:"space-y-4 border-t border-white/10 pt-8",children:[o.jsxs("div",{className:"flex justify-between text-white/60 text-sm font-medium",children:[o.jsx("span",{children:"Subtotal"}),o.jsxs("span",{children:["R ",t.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between text-white/60 text-sm font-medium",children:[o.jsx("span",{children:"Shipping"}),o.jsx("span",{className:"text-emerald-400 font-bold uppercase text-[10px] tracking-widest",children:"Calculated"})]}),o.jsx("div",{className:"h-px bg-white/5 my-4"}),o.jsxs("div",{className:"flex justify-between items-baseline",children:[o.jsx("span",{className:"text-lg font-bold",children:"Total"}),o.jsxs("span",{className:"text-3xl font-black",children:["R ",t.toLocaleString()]})]})]}),o.jsx(L,{onClick:g,disabled:l||x,className:"w-full bg-white text-slate-900 hover:bg-stone-200 py-8 text-lg font-black rounded-full mt-10 shadow-xl",children:l||x?o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(er,{className:"animate-spin",size:20}),o.jsx("span",{children:x?"Verifying Payment...":"Processing"})]}):o.jsx("span",{children:h==="payfast"?"Pay with PayFast":`Pay R ${t.toLocaleString()}`})}),o.jsx("p",{className:"text-[10px] text-center text-white/30 uppercase tracking-widest font-bold mt-6",children:"Encrypted 256-bit SSL Connection"})]})})]})]})}function Fw(){const e=pt(),[t]=Ts(),[r,n]=_.useState(!0),[s,i]=_.useState(null),[a,l]=_.useState(!1),c=t.get("order_id");_.useEffect(()=>{u()},[c]);const u=async()=>{try{const{data:h,error:p}=await z.from("orders").select("*").eq("id",c).single();if(p){i("Failed to verify payment. Please contact support."),n(!1);return}if(!h){i("Order not found. Please contact support."),n(!1);return}h.payment_status==="paid"||h.status==="completed"?(l(!0),n(!1)):(i("Payment is still processing. Please wait..."),n(!1))}catch(h){console.error("Error verifying payment:",h),i("An error occurred while verifying your payment."),n(!1)}},d=()=>{e("/shop")};return r?o.jsx("div",{className:"min-h-screen bg-[#F9F8F6] flex items-center justify-center px-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx(er,{className:"animate-spin h-12 w-12 text-emerald-600 mx-auto mb-6"}),o.jsx("p",{className:"text-stone-500 font-medium",children:"Verifying your payment..."})]})}):s?o.jsx("div",{className:"min-h-screen bg-[#F9F8F6] flex items-center justify-center px-4",children:o.jsx(G,{className:"max-w-md w-full p-12 rounded-[2.5rem] border-rose-200 shadow-2xl bg-white",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-rose-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(er,{className:"animate-spin h-8 w-8 text-rose-600"})}),o.jsx("h2",{className:"text-2xl font-black text-slate-900 mb-4",children:"Payment Verification Failed"}),o.jsx("p",{className:"text-stone-500 font-medium mb-8",children:s}),o.jsx(L,{onClick:d,className:"w-full rounded-full py-6 font-black",children:"Continue Shopping"})]})})}):o.jsx("div",{className:"min-h-screen bg-[#F9F8F6] pb-24",children:o.jsxs("div",{className:"container mx-auto px-4 py-16 max-w-4xl",children:[o.jsx("div",{className:"text-center mb-12",children:o.jsxs("div",{className:"inline-flex items-center justify-center gap-4 mb-8",children:[o.jsx("div",{className:"w-20 h-20 bg-emerald-100 rounded-full flex items-center justify-center",children:o.jsx(Zf,{className:"h-10 w-10 text-emerald-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-5xl font-black text-slate-900 tracking-tight mb-2",children:a?"Payment Successful!":"Order Confirmed"}),o.jsx("p",{className:"text-stone-500 font-medium",children:a?"Your payment has been processed successfully.":"Your order has been confirmed and is being processed."})]})]})}),o.jsxs(G,{className:"p-8 rounded-[2rem] border-stone-100 shadow-sm bg-white",children:[o.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-3",children:[o.jsx(_t,{className:"h-6 w-6 text-slate-900"}),"Order Details"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-stone-400 font-medium",children:"Order ID:"}),o.jsxs("span",{className:"font-bold text-slate-900",children:["#",c==null?void 0:c.slice(0,8).toUpperCase()]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-stone-400 font-medium",children:"Status:"}),o.jsx("span",{className:`font-bold ${a?"text-emerald-600":"text-amber-600"}`,children:a?"Paid":"Processing"})]})]})]}),o.jsxs("div",{className:"flex gap-4 mt-8",children:[o.jsxs(L,{onClick:d,variant:"outline",className:"flex-1 rounded-full py-6 font-black",children:[o.jsx(ul,{className:"h-5 w-5 mr-2"}),"Continue Shopping"]}),o.jsx(L,{onClick:()=>e("/account/orders"),className:"flex-1 rounded-full py-6 font-black shadow-xl",children:"View My Orders"})]})]})})}function Bw(){const e=pt(),[t]=Ts(),[r,n]=_.useState(!0),[s,i]=_.useState(null),a=t.get("order_id");_.useEffect(()=>{l()},[a]);const l=async()=>{try{const{error:d}=await z.from("orders").update({payment_status:"failed",status:"cancelled"}).eq("id",a);d?i("Failed to cancel order. Please contact support."):n(!1)}catch(d){console.error("Error cancelling order:",d),i("An error occurred while cancelling your order."),n(!1)}},c=()=>{e("/shop")},u=()=>{e(`/checkout?order_id=${a}`)};return r?o.jsx("div",{className:"min-h-screen bg-[#F9F8F6] flex items-center justify-center px-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx(er,{className:"animate-spin h-12 w-12 text-amber-600 mx-auto mb-6"}),o.jsx("p",{className:"text-stone-500 font-medium",children:"Processing your cancellation..."})]})}):s?o.jsx("div",{className:"min-h-screen bg-[#F9F8F6] flex items-center justify-center px-4",children:o.jsx(G,{className:"max-w-md w-full p-12 rounded-[2.5rem] border-amber-200 shadow-2xl bg-white",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(ld,{className:"h-10 w-10 text-amber-600"})}),o.jsx("h2",{className:"text-2xl font-black text-slate-900 mb-4",children:"Payment Cancelled"}),o.jsx("p",{className:"text-stone-500 font-medium mb-8",children:s}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs(L,{onClick:u,variant:"outline",className:"flex-1 rounded-full py-6 font-black",children:[o.jsx(hl,{className:"h-5 w-5 mr-2"}),"Try Payment Again"]}),o.jsxs(L,{onClick:c,className:"flex-1 rounded-full py-6 font-black shadow-xl",children:[o.jsx(ul,{className:"h-5 w-5 mr-2"}),"Continue Shopping"]})]})]})})}):o.jsx("div",{className:"min-h-screen bg-[#F9F8F6] pb-24",children:o.jsxs("div",{className:"container mx-auto px-4 py-16 max-w-4xl",children:[o.jsx("div",{className:"text-center mb-12",children:o.jsxs("div",{className:"inline-flex items-center justify-center gap-4 mb-8",children:[o.jsx("div",{className:"w-20 h-20 bg-amber-100 rounded-full flex items-center justify-center",children:o.jsx(ld,{className:"h-10 w-10 text-amber-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-5xl font-black text-slate-900 tracking-tight mb-2",children:"Payment Cancelled"}),o.jsx("p",{className:"text-stone-500 font-medium",children:"Your payment has been cancelled. You can try again or continue shopping."})]})]})}),o.jsxs(G,{className:"p-8 rounded-[2rem] border-stone-100 shadow-sm bg-white",children:[o.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-3",children:[o.jsx(_t,{className:"h-6 w-6 text-slate-900"}),"Order Details"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-stone-400 font-medium",children:"Order ID:"}),o.jsxs("span",{className:"font-bold text-slate-900",children:["#",a==null?void 0:a.slice(0,8).toUpperCase()]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-stone-400 font-medium",children:"Status:"}),o.jsx("span",{className:"font-bold text-amber-600",children:"Cancelled"})]})]})]}),o.jsxs("div",{className:"flex gap-4 mt-8",children:[o.jsxs(L,{onClick:u,variant:"outline",className:"flex-1 rounded-full py-6 font-black",children:[o.jsx(hl,{className:"h-5 w-5 mr-2"}),"Try Payment Again"]}),o.jsxs(L,{onClick:c,className:"flex-1 rounded-full py-6 font-black shadow-xl",children:[o.jsx(ul,{className:"h-5 w-5 mr-2"}),"Continue Shopping"]})]})]})})}function qw(){const{user:e}=Pr(),[t,r]=_.useState([]),[n,s]=_.useState(!0),[i,a]=_.useState(null);_.useEffect(()=>{e&&l()},[e]);const l=async()=>{s(!0);try{const{data:u,error:d}=await z.from("orders").select(`
          *,
          order_items (
            *,
            product:product_id (
              title,
              product_images (url)
            )
          )
        `).eq("buyer_id",e==null?void 0:e.id).order("created_at",{ascending:!1});if(d)throw d;r(u||[])}catch(u){console.error("Error fetching orders:",u),a("Failed to load your orders. Please try again.")}finally{s(!1)}},c=u=>{switch(u){case"completed":return"success";case"processing":return"warning";case"pending":return"outline";case"cancelled":return"danger";default:return"outline"}};return n?o.jsxs("div",{className:"mx-auto max-w-4xl px-4 py-20",children:[o.jsxs("div",{className:"mb-12",children:[o.jsx(re,{className:"h-4 w-32 mb-4"}),o.jsx(re,{className:"h-12 w-64"})]}),o.jsx("div",{className:"space-y-6",children:[1,2,3].map(u=>o.jsx(re,{className:"h-64 w-full rounded-3xl"},u))})]}):o.jsx("div",{className:"min-h-screen bg-[#F9F8F6]",children:o.jsxs("div",{className:"mx-auto max-w-4xl px-4 py-20",children:[o.jsxs("div",{className:"mb-16",children:[o.jsxs("nav",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-[0.3em] text-stone-400 mb-6",children:[o.jsx(M,{to:"/",className:"hover:text-slate-900 transition-colors",children:"Home"}),o.jsx(ep,{className:"h-3 w-3"}),o.jsx("span",{className:"text-slate-900",children:"Purchase History"})]}),o.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-5xl font-black tracking-tighter text-slate-900 uppercase",children:"The Archive"}),o.jsx("p",{className:"text-stone-500 mt-2 font-medium",children:"Tracking your curated acquisitions and orders."})]}),o.jsx(M,{to:"/shop",children:o.jsx(L,{variant:"outline",className:"rounded-full border-stone-200",children:"Continue Shopping"})})]})]}),i&&o.jsx(_n,{message:i,onClose:()=>a(null)}),t.length===0?o.jsxs(G,{className:"text-center py-24 bg-white border-2 border-dashed border-stone-100 rounded-[2.5rem]",children:[o.jsx("div",{className:"w-20 h-20 bg-stone-50 rounded-full flex items-center justify-center mx-auto mb-8",children:o.jsx(dl,{className:"h-8 w-8 text-stone-300"})}),o.jsx("h3",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"No Acquisitions Yet"}),o.jsx("p",{className:"text-stone-500 mt-2 max-w-xs mx-auto",children:"Your collection is waiting to be started. Explore the marketplace to find unique items."}),o.jsx(M,{to:"/shop",className:"mt-10 inline-block",children:o.jsx(L,{size:"lg",className:"rounded-2xl px-12 shadow-xl shadow-slate-200",children:"Browse Collection"})})]}):o.jsx("div",{className:"space-y-10",children:t.map(u=>{var d;return o.jsxs(G,{className:"overflow-hidden border-stone-100 shadow-sm hover:shadow-xl transition-all duration-500 rounded-[2rem]",children:[o.jsx("div",{className:"bg-slate-900 p-8 text-white",children:o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[o.jsxs("div",{className:"flex flex-wrap gap-8",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-[9px] font-black uppercase tracking-[0.2em] text-slate-400",children:"Order Reference"}),o.jsxs("p",{className:"text-sm font-bold font-mono",children:["#",u.id.slice(0,12).toUpperCase()]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-[9px] font-black uppercase tracking-[0.2em] text-slate-400",children:"Placed On"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Nx,{className:"h-3 w-3 text-stone-500"}),o.jsx("p",{className:"text-sm font-bold",children:new Date(u.created_at).toLocaleDateString("en-ZA",{day:"numeric",month:"long",year:"numeric"})})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-[9px] font-black uppercase tracking-[0.2em] text-slate-400",children:"Total Investment"}),o.jsxs("p",{className:"text-lg font-black italic",children:["R ",u.total_amount.toFixed(2)]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(pe,{variant:c(u.status),className:"py-1.5 px-4 rounded-full font-black uppercase tracking-widest text-[9px] bg-white/10 border-white/20 text-white",children:u.status}),o.jsx(pe,{variant:u.payment_status==="paid"?"success":"outline",className:"py-1.5 px-4 rounded-full font-black uppercase tracking-widest text-[9px]",children:u.payment_status})]})]})}),o.jsx("div",{className:"p-8 bg-white",children:o.jsx("div",{className:"flow-root",children:o.jsx("ul",{className:"divide-y divide-stone-100",children:(d=u.order_items)==null?void 0:d.map(h=>{var p,v,y,x,w;return o.jsx("li",{className:"py-8 first:pt-0 last:pb-0",children:o.jsxs("div",{className:"flex gap-8",children:[o.jsx("div",{className:"flex-shrink-0 w-24 h-24 bg-stone-50 rounded-2xl overflow-hidden border border-stone-100 group",children:o.jsx("img",{src:((y=(v=(p=h.product)==null?void 0:p.product_images)==null?void 0:v[0])==null?void 0:y.url)||"https://via.placeholder.com/150",alt:(x=h.product)==null?void 0:x.title,className:"w-full h-full object-center object-cover group-hover:scale-110 transition-transform duration-500"})}),o.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-1",children:((w=h.product)==null?void 0:w.title)||"Unknown Product"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("p",{className:"text-sm text-stone-500 font-medium",children:["Quantity: ",h.qty]}),o.jsx("span",{className:"h-1 w-1 rounded-full bg-stone-300"}),o.jsx(pe,{variant:"outline",className:"text-[10px] font-bold border-stone-100 text-stone-400 py-0 px-2 uppercase tracking-tighter",children:h.item_status})]})]}),o.jsxs("p",{className:"text-lg font-black text-slate-900",children:["R ",h.unit_price.toFixed(2)]})]}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx(M,{to:`/product/${h.product_id}`,children:o.jsxs(L,{variant:"ghost",size:"sm",className:"text-stone-400 hover:text-slate-900 gap-2 font-bold uppercase tracking-widest text-[9px]",children:["View Product ",o.jsx(Px,{className:"h-3 w-3"})]})})})]})]})},h.id)})})})}),o.jsxs("div",{className:"bg-stone-50 px-8 py-4 border-t border-stone-100 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-2 text-stone-400",children:[o.jsx(zx,{className:"h-4 w-4"}),o.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Digital Invoice Available"})]}),o.jsx(L,{variant:"ghost",size:"sm",className:"text-slate-900 font-bold uppercase tracking-widest text-[10px]",children:"Download Receipt"})]})]},u.id)})})]})})}function Vw(){const[e,t]=_.useState({totalSellers:0,totalProducts:0,totalOrders:0,totalRevenue:0,totalCommission:0}),[r,n]=_.useState([]),[s,i]=_.useState([]),[a,l]=_.useState(!0);_.useEffect(()=>{c()},[]);const c=async()=>{var b,S,N;l(!0);const[v,y,x,w,g]=await Promise.all([z.from("seller_stores").select("*",{count:"exact"}),z.from("products").select("*",{count:"exact"}),z.from("orders").select("*"),z.from("seller_stores").select("*, profiles(full_name)").eq("status","pending"),z.from("products").select("*, seller_stores(store_name)").eq("status","pending")]),m=((b=x.data)==null?void 0:b.reduce((j,k)=>j+Number(k.total_amount),0))||0,f=((S=x.data)==null?void 0:S.reduce((j,k)=>j+Number(k.total_commission),0))||0;t({totalSellers:v.count||0,totalProducts:y.count||0,totalOrders:((N=x.data)==null?void 0:N.length)||0,totalRevenue:m,totalCommission:f}),n(w.data||[]),i(g.data||[]),l(!1)},u=async v=>{await z.from("seller_stores").update({status:"active"}).eq("id",v),c()},d=async v=>{confirm("Are you sure you want to reject this seller?")&&(await z.from("seller_stores").update({status:"suspended"}).eq("id",v),c())},h=async v=>{await z.from("products").update({status:"approved"}).eq("id",v),c()},p=async v=>{confirm("Are you sure you want to reject this product?")&&(await z.from("products").update({status:"hidden"}).eq("id",v),c())};return a?o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsx(re,{className:"h-10 w-64 mb-8"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-6 mb-12",children:[...Array(5)].map((v,y)=>o.jsx(re,{className:"h-24 rounded-2xl"},y))}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[o.jsx(re,{className:"h-64 rounded-2xl"}),o.jsx(re,{className:"h-64 rounded-2xl"})]})]}):o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-10",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 tracking-tight uppercase",children:"Admin Command Center"}),o.jsx("p",{className:"text-slate-500 mt-1 font-medium",children:"Manage marketplace growth and quality."})]}),o.jsx(L,{variant:"outline",size:"sm",onClick:c,className:"rounded-full px-6",children:"Refresh Data"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-6 mb-12",children:[o.jsx(In,{icon:o.jsx(ap,{size:20}),label:"Sellers",value:e.totalSellers,color:"bg-slate-900 text-stone-100"}),o.jsx(In,{icon:o.jsx(_t,{size:20}),label:"Products",value:e.totalProducts,color:"bg-slate-900 text-stone-100"}),o.jsx(In,{icon:o.jsx(Sx,{size:20}),label:"Orders",value:e.totalOrders,color:"bg-slate-900 text-stone-100"}),o.jsx(In,{icon:o.jsx(Cx,{size:20}),label:"Revenue",value:`R${e.totalRevenue.toLocaleString()}`,color:"bg-slate-900 text-stone-100"}),o.jsx(In,{icon:o.jsx(Fx,{size:20}),label:"Commission",value:`R${e.totalCommission.toLocaleString()}`,color:"bg-slate-900 text-stone-100"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[o.jsxs("section",{children:[o.jsx("div",{className:"flex items-center justify-between mb-6 border-b border-stone-100 pb-4",children:o.jsxs("h2",{className:"text-xl font-bold flex items-center gap-3 text-slate-900 uppercase tracking-tight",children:["Pending Sellers",r.length>0&&o.jsx(pe,{variant:"warning",className:"rounded-full",children:r.length})]})}),o.jsx(G,{className:"p-0 overflow-hidden border-stone-100 shadow-sm",children:r.length>0?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-stone-100",children:[o.jsx("thead",{className:"bg-stone-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-stone-400 uppercase tracking-widest",children:"Store Info"}),o.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-stone-400 uppercase tracking-widest",children:"Owner"}),o.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-stone-400 uppercase tracking-widest",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-stone-50",children:r.map(v=>{var y;return o.jsxs("tr",{className:"hover:bg-stone-50/50 transition-colors",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("div",{className:"font-bold text-slate-900",children:v.store_name}),o.jsxs("div",{className:"text-[10px] text-stone-400 font-mono uppercase mt-1",children:["Joined: ",new Date(v.created_at).toLocaleDateString()]})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-600",children:((y=v.profiles)==null?void 0:y.full_name)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(L,{size:"sm",variant:"ghost",className:"text-emerald-600 hover:bg-emerald-50 rounded-full",onClick:()=>u(v.id),children:o.jsx(ai,{size:18})}),o.jsx(L,{size:"sm",variant:"ghost",className:"text-rose-600 hover:bg-rose-50 rounded-full",onClick:()=>d(v.id),children:o.jsx(ks,{size:18})})]})})]},v.id)})})]})}):o.jsxs("div",{className:"py-20 text-center",children:[o.jsx("div",{className:"bg-stone-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(ai,{className:"text-stone-300"})}),o.jsx("p",{className:"text-stone-400 font-medium italic",children:"All caught up! No pending sellers."})]})})]}),o.jsxs("section",{children:[o.jsx("div",{className:"flex items-center justify-between mb-6 border-b border-stone-100 pb-4",children:o.jsxs("h2",{className:"text-xl font-bold flex items-center gap-3 text-slate-900 uppercase tracking-tight",children:["Pending Products",s.length>0&&o.jsx(pe,{variant:"warning",className:"rounded-full",children:s.length})]})}),o.jsx(G,{className:"p-0 overflow-hidden border-stone-100 shadow-sm",children:s.length>0?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-stone-100",children:[o.jsx("thead",{className:"bg-stone-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-stone-400 uppercase tracking-widest",children:"Product Info"}),o.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-stone-400 uppercase tracking-widest",children:"Store"}),o.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-stone-400 uppercase tracking-widest",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-stone-50",children:s.map(v=>{var y;return o.jsxs("tr",{className:"hover:bg-stone-50/50 transition-colors",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("div",{className:"font-bold text-slate-900",children:v.title}),o.jsxs("div",{className:"text-[10px] text-stone-400 font-mono uppercase mt-1",children:["Valuation: R",v.price.toLocaleString()]})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-600",children:(y=v.seller_stores)==null?void 0:y.store_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(L,{size:"sm",variant:"ghost",className:"text-emerald-600 hover:bg-emerald-50 rounded-full",onClick:()=>h(v.id),children:o.jsx(ai,{size:18})}),o.jsx(L,{size:"sm",variant:"ghost",className:"text-rose-600 hover:bg-rose-50 rounded-full",onClick:()=>p(v.id),children:o.jsx(ks,{size:18})})]})})]},v.id)})})]})}):o.jsxs("div",{className:"py-20 text-center",children:[o.jsx("div",{className:"bg-stone-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(ai,{className:"text-stone-300"})}),o.jsx("p",{className:"text-stone-400 font-medium italic",children:"All caught up! No pending products."})]})})]})]})]})}function In({icon:e,label:t,value:r,color:n}){return o.jsxs(G,{className:"p-6 flex items-center space-x-5 border-stone-100 shadow-sm hover:shadow-md transition-shadow",children:[o.jsx("div",{className:`p-4 rounded-[1.25rem] shadow-inner ${n}`,children:e}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] text-stone-400 uppercase font-black tracking-[0.2em] mb-1",children:t}),o.jsx("p",{className:"text-2xl font-black text-slate-900 tracking-tight",children:r})]})]})}function oi({children:e,allowedRoles:t}){const{user:r,profile:n,loading:s}=Pr(),i=ir();return s?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F9F8F6]",children:o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-slate-900"}),o.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-stone-400 animate-pulse",children:"Synchronizing Session"})]})}):r?t&&(!n||!t.includes(n.role))?o.jsx(Au,{to:"/",replace:!0}):o.jsx(o.Fragment,{children:e}):o.jsx(Au,{to:"/auth",state:{from:i},replace:!0})}function Ww(){return o.jsx(wx,{children:o.jsx(bx,{children:o.jsx(M0,{children:o.jsx(jw,{children:o.jsxs(Iu,{children:[o.jsx(Pe,{path:"/",element:o.jsx(Cw,{})}),o.jsx(Pe,{path:"/auth",element:o.jsx(Tw,{})}),o.jsx(Pe,{path:"/shop",element:o.jsx(Rw,{})}),o.jsx(Pe,{path:"/product/:id",element:o.jsx(Ow,{})}),o.jsx(Pe,{path:"/cart",element:o.jsx(Lw,{})}),o.jsx(Pe,{path:"/checkout",element:o.jsx(oi,{allowedRoles:["buyer","admin"],children:o.jsx(Mw,{})})}),o.jsx(Pe,{path:"/checkout/success",element:o.jsx(Fw,{})}),o.jsx(Pe,{path:"/checkout/cancelled",element:o.jsx(Bw,{})}),o.jsx(Pe,{path:"/seller/*",element:o.jsx(oi,{allowedRoles:["seller","admin"],children:o.jsxs(Iu,{children:[o.jsx(Pe,{path:"/",element:o.jsx(Aw,{})}),o.jsx(Pe,{path:"/products/new",element:o.jsx(dd,{})}),o.jsx(Pe,{path:"/products/:id/edit",element:o.jsx(dd,{})})]})})}),o.jsx(Pe,{path:"/admin",element:o.jsx(oi,{allowedRoles:["admin"],children:o.jsx(Vw,{})})}),o.jsx(Pe,{path:"/account/orders",element:o.jsx(oi,{children:o.jsx(qw,{})})})]})})})})})}ro.createRoot(document.getElementById("root")).render(o.jsx(Ss.StrictMode,{children:o.jsx(Ww,{})}));
